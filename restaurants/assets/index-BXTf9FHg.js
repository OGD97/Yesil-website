(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function cw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Dm={exports:{}},Hl={};var aE;function hw(){if(aE)return Hl;aE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var oE;function fw(){return oE||(oE=1,Dm.exports=hw()),Dm.exports}var E=fw(),Om={exports:{}},Ae={};var lE;function dw(){if(lE)return Ae;lE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function D(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,O={};function $(P,ne,le){this.props=P,this.context=ne,this.refs=O,this.updater=le||K}$.prototype.isReactComponent={},$.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},$.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function F(){}F.prototype=$.prototype;function X(P,ne,le){this.props=P,this.context=ne,this.refs=O,this.updater=le||K}var re=X.prototype=new F;re.constructor=X,G(re,$.prototype),re.isPureReactComponent=!0;var ae=Array.isArray;function ge(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(P,ne,le){var he=le.ref;return{$$typeof:i,type:P,key:ne,ref:he!==void 0?he:null,props:le}}function L(P,ne){return C(P.type,ne,P.props)}function V(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function U(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(le){return ne[le]})}var N=/\/+/g;function at(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?U(""+P.key):ne.toString(36)}function Vt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ge,ge):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function J(P,ne,le,he,Te){var Ce=typeof P;(Ce==="undefined"||Ce==="boolean")&&(P=null);var Ue=!1;if(P===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(P.$$typeof){case i:case e:Ue=!0;break;case T:return Ue=P._init,J(Ue(P._payload),ne,le,he,Te)}}if(Ue)return Te=Te(P),Ue=he===""?"."+at(P,0):he,ae(Te)?(le="",Ue!=null&&(le=Ue.replace(N,"$&/")+"/"),J(Te,ne,le,"",function(Ss){return Ss})):Te!=null&&(V(Te)&&(Te=L(Te,le+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+Ue)),ne.push(Te)),1;Ue=0;var Pt=he===""?".":he+":";if(ae(P))for(var ot=0;ot<P.length;ot++)he=P[ot],Ce=Pt+at(he,ot),Ue+=J(he,ne,le,Ce,Te);else if(ot=D(P),typeof ot=="function")for(P=ot.call(P),ot=0;!(he=P.next()).done;)he=he.value,Ce=Pt+at(he,ot++),Ue+=J(he,ne,le,Ce,Te);else if(Ce==="object"){if(typeof P.then=="function")return J(Vt(P),ne,le,he,Te);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function oe(P,ne,le){if(P==null)return P;var he=[],Te=0;return J(P,he,"","",function(Ce){return ne.call(le,Ce,Te++)}),he}function ye(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(le){(P._status===0||P._status===-1)&&(P._status=1,P._result=le)},function(le){(P._status===0||P._status===-1)&&(P._status=2,P._result=le)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var ze=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ke={map:oe,forEach:function(P,ne,le){oe(P,function(){ne.apply(this,arguments)},le)},count:function(P){var ne=0;return oe(P,function(){ne++}),ne},toArray:function(P){return oe(P,function(ne){return ne})||[]},only:function(P){if(!V(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ae.Activity=b,Ae.Children=Ke,Ae.Component=$,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=X,Ae.StrictMode=s,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},Ae.cache=function(P){return function(){return P.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(P,ne,le){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var he=G({},P.props),Te=P.key;if(ne!=null)for(Ce in ne.key!==void 0&&(Te=""+ne.key),ne)!R.call(ne,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ne.ref===void 0||(he[Ce]=ne[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=le;else if(1<Ce){for(var Ue=Array(Ce),Pt=0;Pt<Ce;Pt++)Ue[Pt]=arguments[Pt+2];he.children=Ue}return C(P.type,Te,he)},Ae.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ae.createElement=function(P,ne,le){var he,Te={},Ce=null;if(ne!=null)for(he in ne.key!==void 0&&(Ce=""+ne.key),ne)R.call(ne,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=ne[he]);var Ue=arguments.length-2;if(Ue===1)Te.children=le;else if(1<Ue){for(var Pt=Array(Ue),ot=0;ot<Ue;ot++)Pt[ot]=arguments[ot+2];Te.children=Pt}if(P&&P.defaultProps)for(he in Ue=P.defaultProps,Ue)Te[he]===void 0&&(Te[he]=Ue[he]);return C(P,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(P){return{$$typeof:m,render:P}},Ae.isValidElement=V,Ae.lazy=function(P){return{$$typeof:T,_payload:{_status:-1,_result:P},_init:ye}},Ae.memo=function(P,ne){return{$$typeof:p,type:P,compare:ne===void 0?null:ne}},Ae.startTransition=function(P){var ne=I.T,le={};I.T=le;try{var he=P(),Te=I.S;Te!==null&&Te(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ge,ze)}catch(Ce){ze(Ce)}finally{ne!==null&&le.types!==null&&(ne.types=le.types),I.T=ne}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(P){return I.H.use(P)},Ae.useActionState=function(P,ne,le){return I.H.useActionState(P,ne,le)},Ae.useCallback=function(P,ne){return I.H.useCallback(P,ne)},Ae.useContext=function(P){return I.H.useContext(P)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(P,ne){return I.H.useDeferredValue(P,ne)},Ae.useEffect=function(P,ne){return I.H.useEffect(P,ne)},Ae.useEffectEvent=function(P){return I.H.useEffectEvent(P)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(P,ne,le){return I.H.useImperativeHandle(P,ne,le)},Ae.useInsertionEffect=function(P,ne){return I.H.useInsertionEffect(P,ne)},Ae.useLayoutEffect=function(P,ne){return I.H.useLayoutEffect(P,ne)},Ae.useMemo=function(P,ne){return I.H.useMemo(P,ne)},Ae.useOptimistic=function(P,ne){return I.H.useOptimistic(P,ne)},Ae.useReducer=function(P,ne,le){return I.H.useReducer(P,ne,le)},Ae.useRef=function(P){return I.H.useRef(P)},Ae.useState=function(P){return I.H.useState(P)},Ae.useSyncExternalStore=function(P,ne,le){return I.H.useSyncExternalStore(P,ne,le)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.3",Ae}var uE;function Dp(){return uE||(uE=1,Om.exports=dw()),Om.exports}var j=Dp();const ia=cw(j);var Mm={exports:{}},Fl={},Vm={exports:{}},Pm={};var cE;function mw(){return cE||(cE=1,(function(i){function e(J,oe){var ye=J.length;J.push(oe);e:for(;0<ye;){var ze=ye-1>>>1,Ke=J[ze];if(0<o(Ke,oe))J[ze]=oe,J[ye]=Ke,ye=ze;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var oe=J[0],ye=J.pop();if(ye!==oe){J[0]=ye;e:for(var ze=0,Ke=J.length,P=Ke>>>1;ze<P;){var ne=2*(ze+1)-1,le=J[ne],he=ne+1,Te=J[he];if(0>o(le,ye))he<Ke&&0>o(Te,le)?(J[ze]=Te,J[he]=ye,ze=he):(J[ze]=le,J[ne]=ye,ze=ne);else if(he<Ke&&0>o(Te,ye))J[ze]=Te,J[he]=ye,ze=he;else break e}}return oe}function o(J,oe){var ye=J.sortIndex-oe.sortIndex;return ye!==0?ye:J.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],T=1,b=null,w=3,D=!1,K=!1,G=!1,O=!1,$=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function re(J){for(var oe=n(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=J)s(p),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(p)}}function ae(J){if(G=!1,re(J),!K)if(n(g)!==null)K=!0,ge||(ge=!0,U());else{var oe=n(p);oe!==null&&Vt(ae,oe.startTime-J)}}var ge=!1,I=-1,R=5,C=-1;function L(){return O?!0:!(i.unstable_now()-C<R)}function V(){if(O=!1,ge){var J=i.unstable_now();C=J;var oe=!0;try{e:{K=!1,G&&(G=!1,F(I),I=-1),D=!0;var ye=w;try{t:{for(re(J),b=n(g);b!==null&&!(b.expirationTime>J&&L());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,w=b.priorityLevel;var Ke=ze(b.expirationTime<=J);if(J=i.unstable_now(),typeof Ke=="function"){b.callback=Ke,re(J),oe=!0;break t}b===n(g)&&s(g),re(J)}else s(g);b=n(g)}if(b!==null)oe=!0;else{var P=n(p);P!==null&&Vt(ae,P.startTime-J),oe=!1}}break e}finally{b=null,w=ye,D=!1}oe=void 0}}finally{oe?U():ge=!1}}}var U;if(typeof X=="function")U=function(){X(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,at=N.port2;N.port1.onmessage=V,U=function(){at.postMessage(null)}}else U=function(){$(V,0)};function Vt(J,oe){I=$(function(){J(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(J){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var ye=w;w=oe;try{return J()}finally{w=ye}},i.unstable_requestPaint=function(){O=!0},i.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ye=w;w=J;try{return oe()}finally{w=ye}},i.unstable_scheduleCallback=function(J,oe,ye){var ze=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ze+ye:ze):ye=ze,J){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,J={id:T++,callback:oe,priorityLevel:J,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>ze?(J.sortIndex=ye,e(p,J),n(g)===null&&J===n(p)&&(G?(F(I),I=-1):G=!0,Vt(ae,ye-ze))):(J.sortIndex=Ke,e(g,J),K||D||(K=!0,ge||(ge=!0,U()))),J},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(J){var oe=w;return function(){var ye=w;w=oe;try{return J.apply(this,arguments)}finally{w=ye}}}})(Pm)),Pm}var hE;function pw(){return hE||(hE=1,Vm.exports=mw()),Vm.exports}var Lm={exports:{}},Zt={};var fE;function gw(){if(fE)return Zt;fE=1;var i=Dp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(g,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,T)},Zt.flushSync=function(g){var p=h.T,T=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=T,s.d.f()}},Zt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Zt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Zt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var T=p.as,b=m(T,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,D=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:D}):T==="script"&&s.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:D,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Zt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Zt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,b=m(T,p.crossOrigin);s.d.L(g,T,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Zt.preloadModule=function(g,p){if(typeof g=="string")if(p){var T=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Zt.requestFormReset=function(g){s.d.r(g)},Zt.unstable_batchedUpdates=function(g,p){return g(p)},Zt.useFormState=function(g,p,T){return h.H.useFormState(g,p,T)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var dE;function yw(){if(dE)return Lm.exports;dE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lm.exports=gw(),Lm.exports}var mE;function _w(){if(mE)return Fl;mE=1;var i=pw(),e=Dp(),n=yw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function T(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=T(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),X=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case $:return"Profiler";case O:return"StrictMode";case ae:return"Suspense";case ge:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case X:return t.displayName||"Context";case F:return(t._context.displayName||"Context")+".Consumer";case re:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:at(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return at(t(r))}catch{}}return null}var Vt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ze=[],Ke=-1;function P(t){return{current:t}}function ne(t){0>Ke||(t.current=ze[Ke],ze[Ke]=null,Ke--)}function le(t,r){Ke++,ze[Ke]=t.current,t.current=r}var he=P(null),Te=P(null),Ce=P(null),Ue=P(null);function Pt(t,r){switch(le(Ce,r),le(Te,t),le(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Nv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Nv(r),t=xv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(he),le(he,t)}function ot(){ne(he),ne(Te),ne(Ce)}function Ss(t){t.memoizedState!==null&&le(Ue,t);var r=he.current,a=xv(r,t.type);r!==a&&(le(Te,t),le(he,a))}function va(t){Te.current===t&&(ne(he),ne(Te)),Ue.current===t&&(ne(Ue),Ul._currentValue=ye)}var Ea,Ta;function fi(t){if(Ea===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ea=r&&r[1]||"",Ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+t+Ta}var Uo=!1;function ws(t,r){if(!t||Uo)return"";Uo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var q=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){q=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){q=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var x=_.split(`
`),H=A.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===H.length)for(l=x.length-1,f=H.length-1;1<=l&&0<=f&&x[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==H[f]){var W=`
`+x[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=f);break}}}finally{Uo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fi(a):""}function jo(t,r){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return t.child!==r&&r!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return ws(t.type,!1);case 11:return ws(t.type.render,!1);case 1:return ws(t.type,!0);case 31:return fi("Activity");default:return""}}function zo(t){try{var r="",a=null;do r+=jo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Lt=i.unstable_scheduleCallback,Tr=i.unstable_cancelCallback,Mf=i.unstable_shouldYield,Pu=i.unstable_requestPaint,sn=i.unstable_now,Rs=i.unstable_getCurrentPriorityLevel,Bo=i.unstable_ImmediatePriority,Ho=i.unstable_UserBlockingPriority,br=i.unstable_NormalPriority,Vf=i.unstable_LowPriority,Lu=i.unstable_IdlePriority,ku=i.log,Uu=i.unstable_setDisableYieldValue,$n=null,Ft=null;function Mn(t){if(typeof ku=="function"&&Uu(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode($n,t)}catch{}}var yt=Math.clz32?Math.clz32:zu,ju=Math.log,ba=Math.LN2;function zu(t){return t>>>=0,t===0?32:31-(ju(t)/ba|0)|0}var di=256,Cs=262144,At=4194304;function mi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=mi(l):(_&=A,_!==0?f=mi(_):a||(a=A&~t,a!==0&&(f=mi(a))))):(A=l&~d,A!==0?f=mi(A):_!==0?f=mi(_):a||(a=l&~t,a!==0&&(f=mi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Xn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Pf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bu(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function gi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Is(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,x=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-yt(a),te=1<<W;A[W]=0,x[W]=-1;var q=H[W];if(q!==null)for(H[W]=null,W=0;W<q.length;W++){var Q=q[W];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&Ns(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Ns(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-yt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-yt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function qo(t,r){var a=r&-r;return a=(a&42)!==0?1:xs(a),(a&(t.suspendedLanes|r))!==0?0:a}function xs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Zv(t.type))}function Wn(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var Jn=Math.random().toString(36).slice(2),St="__reactFiber$"+Jn,jt="__reactProps$"+Jn,yi="__reactContainer$"+Jn,Aa="__reactEvents$"+Jn,kf="__reactListeners$"+Jn,Fu="__reactHandles$"+Jn,qu="__reactResources$"+Jn,_i="__reactMarker$"+Jn;function Sa(t){delete t[St],delete t[jt],delete t[Aa],delete t[kf],delete t[Fu]}function vi(t){var r=t[St];if(r)return r;for(var a=t.parentNode;a;){if(r=a[yi]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=kv(t);t!==null;){if(a=t[St])return a;t=kv(t)}return r}t=a,a=t.parentNode}return null}function Vn(t){if(t=t[St]||t[yi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Tn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ei(t){var r=t[qu];return r||(r=t[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function wt(t){t[_i]=!0}var Go=new Set,Ko={};function Ti(t,r){bi(t,r),bi(t+"Capture",r)}function bi(t,r){for(Ko[t]=r,t=0;t<r.length;t++)Go.add(r[t])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},$o={};function Gu(t){return bt.call($o,t)?!0:bt.call(Qo,t)?!1:Yo.test(t)?$o[t]=!0:(Qo[t]=!0,!1)}function wa(t,r,a){if(Gu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function bn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Rt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ar(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xo(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ye(t){if(!t._valueTracker){var r=Ar(t)?"checked":"value";t._valueTracker=Xo(t,r,""+t[r])}}function Ds(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ar(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Os=/[\n"\\]/g;function un(t){return t.replace(Os,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ra(t,r,a,l,f,d,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Wo(t,_,zt(r)):a!=null?Wo(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+zt(A):t.removeAttribute("name")}function Ku(t,r,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ye(t);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,A||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Wo(t,r,a){r==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Sr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Yu(t,r,a){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+zt(a):""}function wr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Vt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function cn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Qu.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Zo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Jo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Jo(t,d,r[d])}function Ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var el=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Si=null;function Ms(t){var r=Vn(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ra(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));Ra(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ds(l)}break e;case"textarea":Yu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Sr(t,!!a.multiple,r,!1)}}}var Na=!1;function Ir(t,r,a){if(Na)return t(r,a);Na=!0;try{var l=t(r);return l}finally{if(Na=!1,(Cr!==null||Si!==null)&&(Hc(),Cr&&(r=Cr,t=Si,Si=Cr=null,Ms(r),t)))for(r=0;r<t.length;r++)Ms(t[r])}}function ei(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(Ln)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Vs=!1}var wi=null,tl=null,Ps=null;function nl(){if(Ps)return Ps;var t,r=tl,a=r.length,l,f="value"in wi?wi.value:wi.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Ps=f.slice(t,1<l?1-l:void 0)}function Ls(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function ti(){return!1}function qt(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yi:ti,this.isPropagationStopped=ti,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),r}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=qt(Qi),Nr=b({},Qi,{view:0,detail:0}),il=qt(Nr),xr,xa,Ci,Da=b({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(xr=t.screenX-Ci.screenX,xa=t.screenY-Ci.screenY):xa=xr=0,Ci=t),xr)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),rl=qt(Da),ks=b({},Da,{dataTransfer:0}),Xu=qt(ks),Wu=b({},Nr,{relatedTarget:0}),Us=qt(Wu),sl=b({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ju=qt(sl),Oa=b({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zu=qt(Oa),ec=b({},Qi,{data:0}),Ii=qt(ec),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ic[t])?!!r[t]:!1}function Dr(){return rc}var an=b({},Nr,{key:function(t){if(t.key){var r=tc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?Ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sc=qt(an),ac=b({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=qt(ac),c=b({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),y=qt(c),v=b({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=qt(v),z=b({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=qt(z),se=b({},Qi,{newState:0,oldState:0}),we=qt(se),_t=[9,13,27,32],Fe=Ln&&"CompositionEvent"in window,lt=null;Ln&&"documentMode"in document&&(lt=document.documentMode);var kn=Ln&&"TextEvent"in window&&!lt,Ni=Ln&&(!Fe||lt&&8<lt&&11>=lt),ni=" ",ii=!1;function js(t,r){switch(t){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function VA(t,r){switch(t){case"compositionend":return Ma(r);case"keypress":return r.which!==32?null:(ii=!0,ni);case"textInput":return t=r.data,t===ni&&ii?null:t;default:return null}}function PA(t,r){if(Va)return t==="compositionend"||!Fe&&js(t,r)?(t=nl(),Ps=tl=wi=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ni&&r.locale!=="ko"?null:r.data;default:return null}}var LA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!LA[t.type]:r==="textarea"}function Bg(t,r,a,l){Cr?Si?Si.push(l):Si=[l]:Cr=l,r=$c(r,"onChange"),0<r.length&&(a=new Ri("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var al=null,ol=null;function kA(t){Av(t,0)}function oc(t){var r=Tn(t);if(Ds(r))return t}function Hg(t,r){if(t==="change")return r}var Fg=!1;if(Ln){var Uf;if(Ln){var jf="oninput"in document;if(!jf){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),jf=typeof qg.oninput=="function"}Uf=jf}else Uf=!1;Fg=Uf&&(!document.documentMode||9<document.documentMode)}function Gg(){al&&(al.detachEvent("onpropertychange",Kg),ol=al=null)}function Kg(t){if(t.propertyName==="value"&&oc(ol)){var r=[];Bg(r,ol,t,Pn(t)),Ir(kA,r)}}function UA(t,r,a){t==="focusin"?(Gg(),al=r,ol=a,al.attachEvent("onpropertychange",Kg)):t==="focusout"&&Gg()}function jA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oc(ol)}function zA(t,r){if(t==="click")return oc(r)}function BA(t,r){if(t==="input"||t==="change")return oc(r)}function HA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:HA;function ll(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(r,f)||!An(t[f],r[f]))return!1}return!0}function Yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qg(t,r){var a=Yg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yg(a)}}function $g(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?$g(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ai(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ai(t.document)}return r}function zf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var FA=Ln&&"documentMode"in document&&11>=document.documentMode,Pa=null,Bf=null,ul=null,Hf=!1;function Wg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hf||Pa==null||Pa!==Ai(l)||(l=Pa,"selectionStart"in l&&zf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=$c(Bf,"onSelect"),0<l.length&&(r=new Ri("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Pa)))}function zs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var La={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Ff={},Jg={};Ln&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Bs(t){if(Ff[t])return Ff[t];if(!La[t])return t;var r=La[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Jg)return Ff[t]=r[a];return t}var Zg=Bs("animationend"),ey=Bs("animationiteration"),ty=Bs("animationstart"),qA=Bs("transitionrun"),GA=Bs("transitionstart"),KA=Bs("transitioncancel"),ny=Bs("transitionend"),iy=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function ri(t,r){iy.set(t,r),Ti(r,[t])}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],ka=0,Gf=0;function uc(){for(var t=ka,r=Gf=ka=0;r<t;){var a=Un[r];Un[r++]=null;var l=Un[r];Un[r++]=null;var f=Un[r];Un[r++]=null;var d=Un[r];if(Un[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&ry(a,f,d)}}function cc(t,r,a,l){Un[ka++]=t,Un[ka++]=r,Un[ka++]=a,Un[ka++]=l,Gf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kf(t,r,a,l){return cc(t,r,a,l),hc(t)}function Hs(t,r){return cc(t,null,null,r),hc(t)}function ry(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-yt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function hc(t){if(50<Dl)throw Dl=0,tm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ua={};function YA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,r,a,l){return new YA(t,r,a,l)}function Yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,r){var a=t.alternate;return a===null?(a=Sn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function fc(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")Yf(t)&&(_=1);else if(typeof t=="string")_=JS(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Sn(31,a,r,f),t.elementType=C,t.lanes=d,t;case G:return Fs(a.children,f,d,r);case O:_=8,f|=24;break;case $:return t=Sn(12,a,r,f|2),t.elementType=$,t.lanes=d,t;case ae:return t=Sn(13,a,r,f),t.elementType=ae,t.lanes=d,t;case ge:return t=Sn(19,a,r,f),t.elementType=ge,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:_=10;break e;case F:_=9;break e;case re:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Sn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Fs(t,r,a,l){return t=Sn(7,t,l,r),t.lanes=a,t}function Qf(t,r,a){return t=Sn(6,t,null,r),t.lanes=a,t}function ay(t){var r=Sn(18,null,null,0);return r.stateNode=t,r}function $f(t,r,a){return r=Sn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var oy=new WeakMap;function jn(t,r){if(typeof t=="object"&&t!==null){var a=oy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:zo(r)},oy.set(t,r),r)}return{value:t,source:r,stack:zo(r)}}var ja=[],za=0,dc=null,cl=0,zn=[],Bn=0,Or=null,xi=1,Di="";function Wi(t,r){ja[za++]=cl,ja[za++]=dc,dc=t,cl=r}function ly(t,r,a){zn[Bn++]=xi,zn[Bn++]=Di,zn[Bn++]=Or,Or=t;var l=xi;t=Di;var f=32-yt(l)-1;l&=~(1<<f),a+=1;var d=32-yt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,xi=1<<32-yt(r)+f|a<<f|l,Di=d+t}else xi=1<<d|a<<f|l,Di=t}function Xf(t){t.return!==null&&(Wi(t,1),ly(t,1,0))}function Wf(t){for(;t===dc;)dc=ja[--za],ja[za]=null,cl=ja[--za],ja[za]=null;for(;t===Or;)Or=zn[--Bn],zn[Bn]=null,Di=zn[--Bn],zn[Bn]=null,xi=zn[--Bn],zn[Bn]=null}function uy(t,r){zn[Bn++]=xi,zn[Bn++]=Di,zn[Bn++]=Or,xi=r.id,Di=r.overflow,Or=t}var Gt=null,nt=null,Le=!1,Mr=null,Hn=!1,Jf=Error(s(519));function Vr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(jn(r,t)),Jf}function cy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[St]=t,r[jt]=l,a){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(a=0;a<Ml.length;a++)xe(Ml[a],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":xe("invalid",r),Ku(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",r);break;case"textarea":xe("invalid",r),wr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Cv(r.textContent,a)?(l.popover!=null&&(xe("beforetoggle",r),xe("toggle",r)),l.onScroll!=null&&xe("scroll",r),l.onScrollEnd!=null&&xe("scrollend",r),l.onClick!=null&&(r.onclick=Zn),r=!0):r=!1,r||Vr(t,!0)}function hy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Gt=Gt.return}}function Ba(t){if(t!==Gt)return!1;if(!Le)return hy(t),Le=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gm(t.type,t.memoizedProps)),a=!a),a&&nt&&Vr(t),hy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Lv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=Lv(t)}else r===27?(r=nt,Qr(t.type)?(t=Tm,Tm=null,nt=t):nt=r):nt=Gt?qn(t.stateNode.nextSibling):null;return!0}function qs(){nt=Gt=null,Le=!1}function Zf(){var t=Mr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Mr=null),t}function hl(t){Mr===null?Mr=[t]:Mr.push(t)}var ed=P(null),Gs=null,Ji=null;function Pr(t,r,a){le(ed,r._currentValue),r._currentValue=a}function Zi(t){t._currentValue=ed.current,ne(ed)}function td(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function nd(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var x=0;x<r.length;x++)if(A.context===r[x]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),td(d.return,a,t),l||(_=null);break e}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),td(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ha(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=f.type;An(f.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}f=f.return}t!==null&&nd(r,t,a,l),r.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){Gs=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return fy(Gs,t)}function pc(t,r){return Gs===null&&Ks(t),fy(t,r)}function fy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(s(308));Ji=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ji=Ji.next=r;return a}var QA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},$A=i.unstable_scheduleCallback,XA=i.unstable_NormalPriority,Ct={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function id(){return{controller:new QA,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&$A(XA,function(){t.controller.abort()})}var dl=null,rd=0,Fa=0,qa=null;function WA(t,r){if(dl===null){var a=dl=[];rd=0,Fa=om(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rd++,r.then(dy,dy),r}function dy(){if(--rd===0&&dl!==null){qa!==null&&(qa.status="fulfilled");var t=dl;dl=null,Fa=0,qa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function JA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var my=J.S;J.S=function(t,r){W_=sn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&WA(t,r),my!==null&&my(t,r)};var Ys=P(null);function sd(){var t=Ys.current;return t!==null?t:et.pooledCache}function gc(t,r){r===null?le(Ys,Ys.current):le(Ys,r.pool)}function py(){var t=sd();return t===null?null:{parent:Ct._currentValue,pool:t}}var Ga=Error(s(460)),ad=Error(s(474)),yc=Error(s(542)),_c={then:function(){}};function gy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Zn,Zn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vy(t),t;default:if(typeof r.status=="string")r.then(Zn,Zn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,vy(t),t}throw $s=r,Ga}}function Qs(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($s=a,Ga):a}}var $s=null;function _y(){if($s===null)throw Error(s(459));var t=$s;return $s=null,t}function vy(t){if(t===Ga||t===yc)throw Error(s(483))}var Ka=null,ml=0;function vc(t){var r=ml;return ml+=1,Ka===null&&(Ka=[]),yy(Ka,t,r)}function pl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ec(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ey(t){function r(k,M){if(t){var B=k.deletions;B===null?(k.deletions=[M],k.flags|=16):B.push(M)}}function a(k,M){if(!t)return null;for(;M!==null;)r(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function f(k,M){return k=Xi(k,M),k.index=0,k.sibling=null,k}function d(k,M,B){return k.index=B,t?(B=k.alternate,B!==null?(B=B.index,B<M?(k.flags|=67108866,M):B):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function A(k,M,B,Z){return M===null||M.tag!==6?(M=Qf(B,k.mode,Z),M.return=k,M):(M=f(M,B),M.return=k,M)}function x(k,M,B,Z){var me=B.type;return me===G?W(k,M,B.props.children,Z,B.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Qs(me)===M.type)?(M=f(M,B.props),pl(M,B),M.return=k,M):(M=fc(B.type,B.key,B.props,null,k.mode,Z),pl(M,B),M.return=k,M)}function H(k,M,B,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=$f(B,k.mode,Z),M.return=k,M):(M=f(M,B.children||[]),M.return=k,M)}function W(k,M,B,Z,me){return M===null||M.tag!==7?(M=Fs(B,k.mode,Z,me),M.return=k,M):(M=f(M,B),M.return=k,M)}function te(k,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qf(""+M,k.mode,B),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case D:return B=fc(M.type,M.key,M.props,null,k.mode,B),pl(B,M),B.return=k,B;case K:return M=$f(M,k.mode,B),M.return=k,M;case R:return M=Qs(M),te(k,M,B)}if(Vt(M)||U(M))return M=Fs(M,k.mode,B,null),M.return=k,M;if(typeof M.then=="function")return te(k,vc(M),B);if(M.$$typeof===X)return te(k,pc(k,M),B);Ec(k,M)}return null}function q(k,M,B,Z){var me=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:A(k,M,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case D:return B.key===me?x(k,M,B,Z):null;case K:return B.key===me?H(k,M,B,Z):null;case R:return B=Qs(B),q(k,M,B,Z)}if(Vt(B)||U(B))return me!==null?null:W(k,M,B,Z,null);if(typeof B.then=="function")return q(k,M,vc(B),Z);if(B.$$typeof===X)return q(k,M,pc(k,B),Z);Ec(k,B)}return null}function Q(k,M,B,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(B)||null,A(M,k,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return k=k.get(Z.key===null?B:Z.key)||null,x(M,k,Z,me);case K:return k=k.get(Z.key===null?B:Z.key)||null,H(M,k,Z,me);case R:return Z=Qs(Z),Q(k,M,B,Z,me)}if(Vt(Z)||U(Z))return k=k.get(B)||null,W(M,k,Z,me,null);if(typeof Z.then=="function")return Q(k,M,B,vc(Z),me);if(Z.$$typeof===X)return Q(k,M,B,pc(M,Z),me);Ec(M,Z)}return null}function fe(k,M,B,Z){for(var me=null,Be=null,de=M,Ie=M=0,Oe=null;de!==null&&Ie<B.length;Ie++){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var He=q(k,de,B[Ie],Z);if(He===null){de===null&&(de=Oe);break}t&&de&&He.alternate===null&&r(k,de),M=d(He,M,Ie),Be===null?me=He:Be.sibling=He,Be=He,de=Oe}if(Ie===B.length)return a(k,de),Le&&Wi(k,Ie),me;if(de===null){for(;Ie<B.length;Ie++)de=te(k,B[Ie],Z),de!==null&&(M=d(de,M,Ie),Be===null?me=de:Be.sibling=de,Be=de);return Le&&Wi(k,Ie),me}for(de=l(de);Ie<B.length;Ie++)Oe=Q(de,k,Ie,B[Ie],Z),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ie:Oe.key),M=d(Oe,M,Ie),Be===null?me=Oe:Be.sibling=Oe,Be=Oe);return t&&de.forEach(function(Zr){return r(k,Zr)}),Le&&Wi(k,Ie),me}function _e(k,M,B,Z){if(B==null)throw Error(s(151));for(var me=null,Be=null,de=M,Ie=M=0,Oe=null,He=B.next();de!==null&&!He.done;Ie++,He=B.next()){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var Zr=q(k,de,He.value,Z);if(Zr===null){de===null&&(de=Oe);break}t&&de&&Zr.alternate===null&&r(k,de),M=d(Zr,M,Ie),Be===null?me=Zr:Be.sibling=Zr,Be=Zr,de=Oe}if(He.done)return a(k,de),Le&&Wi(k,Ie),me;if(de===null){for(;!He.done;Ie++,He=B.next())He=te(k,He.value,Z),He!==null&&(M=d(He,M,Ie),Be===null?me=He:Be.sibling=He,Be=He);return Le&&Wi(k,Ie),me}for(de=l(de);!He.done;Ie++,He=B.next())He=Q(de,k,Ie,He.value,Z),He!==null&&(t&&He.alternate!==null&&de.delete(He.key===null?Ie:He.key),M=d(He,M,Ie),Be===null?me=He:Be.sibling=He,Be=He);return t&&de.forEach(function(uw){return r(k,uw)}),Le&&Wi(k,Ie),me}function Ze(k,M,B,Z){if(typeof B=="object"&&B!==null&&B.type===G&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case D:e:{for(var me=B.key;M!==null;){if(M.key===me){if(me=B.type,me===G){if(M.tag===7){a(k,M.sibling),Z=f(M,B.props.children),Z.return=k,k=Z;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Qs(me)===M.type){a(k,M.sibling),Z=f(M,B.props),pl(Z,B),Z.return=k,k=Z;break e}a(k,M);break}else r(k,M);M=M.sibling}B.type===G?(Z=Fs(B.props.children,k.mode,Z,B.key),Z.return=k,k=Z):(Z=fc(B.type,B.key,B.props,null,k.mode,Z),pl(Z,B),Z.return=k,k=Z)}return _(k);case K:e:{for(me=B.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(k,M.sibling),Z=f(M,B.children||[]),Z.return=k,k=Z;break e}else{a(k,M);break}else r(k,M);M=M.sibling}Z=$f(B,k.mode,Z),Z.return=k,k=Z}return _(k);case R:return B=Qs(B),Ze(k,M,B,Z)}if(Vt(B))return fe(k,M,B,Z);if(U(B)){if(me=U(B),typeof me!="function")throw Error(s(150));return B=me.call(B),_e(k,M,B,Z)}if(typeof B.then=="function")return Ze(k,M,vc(B),Z);if(B.$$typeof===X)return Ze(k,M,pc(k,B),Z);Ec(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(k,M.sibling),Z=f(M,B),Z.return=k,k=Z):(a(k,M),Z=Qf(B,k.mode,Z),Z.return=k,k=Z),_(k)):a(k,M)}return function(k,M,B,Z){try{ml=0;var me=Ze(k,M,B,Z);return Ka=null,me}catch(de){if(de===Ga||de===yc)throw de;var Be=Sn(29,de,null,k.mode);return Be.lanes=Z,Be.return=k,Be}}}var Xs=Ey(!0),Ty=Ey(!1),Lr=!1;function od(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=hc(t),ry(t,null,a),r}return cc(t,l,r,a),hc(t)}function gl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}function ud(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var cd=!1;function yl(){if(cd){var t=qa;if(t!==null)throw t}}function _l(t,r,a,l){cd=!1;var f=t.updateQueue;Lr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var x=A,H=x.next;x.next=null,_===null?d=H:_.next=H,_=x;var W=t.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==_&&(A===null?W.firstBaseUpdate=H:A.next=H,W.lastBaseUpdate=x))}if(d!==null){var te=f.baseState;_=0,W=H=x=null,A=d;do{var q=A.lane&-536870913,Q=q!==A.lane;if(Q?(De&q)===q:(l&q)===q){q!==0&&q===Fa&&(cd=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var fe=t,_e=A;q=r;var Ze=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){te=fe.call(Ze,te,q);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,q=typeof fe=="function"?fe.call(Ze,te,q):fe,q==null)break e;te=b({},te,q);break e;case 2:Lr=!0}}q=A.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(H=W=Q,x=te):W=W.next=Q,_|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);W===null&&(x=te),f.baseState=x,f.firstBaseUpdate=H,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=te}}function by(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Ay(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)by(a[t],r)}var Ya=P(null),Tc=P(0);function Sy(t,r){t=lr,le(Tc,t),le(Ya,r),lr=t|r.baseLanes}function hd(){le(Tc,lr),le(Ya,Ya.current)}function fd(){lr=Tc.current,ne(Ya),ne(Tc)}var wn=P(null),Fn=null;function jr(t){var r=t.alternate;le(vt,vt.current&1),le(wn,t),Fn===null&&(r===null||Ya.current!==null||r.memoizedState!==null)&&(Fn=t)}function dd(t){le(vt,vt.current),le(wn,t),Fn===null&&(Fn=t)}function wy(t){t.tag===22?(le(vt,vt.current),le(wn,t),Fn===null&&(Fn=t)):zr()}function zr(){le(vt,vt.current),le(wn,wn.current)}function Rn(t){ne(wn),Fn===t&&(Fn=null),ne(vt)}var vt=P(0);function bc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vm(a)||Em(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var er=0,Re=null,We=null,It=null,Ac=!1,Qa=!1,Ws=!1,Sc=0,vl=0,$a=null,ZA=0;function ft(){throw Error(s(321))}function md(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!An(t[a],r[a]))return!1;return!0}function pd(t,r,a,l,f,d){return er=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=t===null||t.memoizedState===null?l_:xd,Ws=!1,d=a(l,f),Ws=!1,Qa&&(d=Cy(r,a,l,f)),Ry(t),d}function Ry(t){J.H=bl;var r=We!==null&&We.next!==null;if(er=0,It=We=Re=null,Ac=!1,vl=0,$a=null,r)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&mc(t)&&(Nt=!0))}function Cy(t,r,a,l){Re=t;var f=0;do{if(Qa&&($a=null),vl=0,Qa=!1,25<=f)throw Error(s(301));if(f+=1,It=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=u_,d=r(a,l)}while(Qa);return d}function eS(){var t=J.H,r=t.useState()[0];return r=typeof r.then=="function"?El(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),r}function gd(){var t=Sc!==0;return Sc=0,t}function yd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function _d(t){if(Ac){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ac=!1}er=0,It=We=Re=null,Qa=!1,vl=Sc=0,$a=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Re.memoizedState=It=t:It=It.next=t,It}function Et(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=It===null?Re.memoizedState:It.next;if(r!==null)It=r,We=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},It===null?Re.memoizedState=It=t:It=It.next=t}return It}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var r=vl;return vl+=1,$a===null&&($a=[]),t=yy($a,t,r),r=Re,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?l_:xd),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===X)return Kt(t)}throw Error(s(438,String(t)))}function vd(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=wc(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=L;return r.index++,a}function tr(t,r){return typeof r=="function"?r(t):r}function Cc(t){var r=Et();return Ed(r,We,t)}function Ed(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var A=_=null,x=null,H=r,W=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(De&te)===te:(er&te)===te){var q=H.revertLane;if(q===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Fa&&(W=!0);else if((er&q)===q){H=H.next,q===Fa&&(W=!0);continue}else te={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(A=x=te,_=d):x=x.next=te,Re.lanes|=q,Fr|=q;te=H.action,Ws&&a(d,te),d=H.hasEagerState?H.eagerState:a(d,te)}else q={lane:te,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(A=x=q,_=d):x=x.next=q,Re.lanes|=te,Fr|=te;H=H.next}while(H!==null&&H!==r);if(x===null?_=d:x.next=A,!An(d,t.memoizedState)&&(Nt=!0,W&&(a=qa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Td(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);An(d,r.memoizedState)||(Nt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Iy(t,r,a){var l=Re,f=Et(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!An((We||f).memoizedState,a);if(_&&(f.memoizedState=a,Nt=!0),f=f.queue,Sd(Dy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},xy.bind(null,l,f,a,r),null),et===null)throw Error(s(349));d||(er&127)!==0||Ny(l,r,a)}return a}function Ny(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=wc(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function xy(t,r,a,l){r.value=a,r.getSnapshot=l,Oy(r)&&My(t)}function Dy(t,r,a){return a(function(){Oy(r)&&My(t)})}function Oy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!An(t,a)}catch{return!0}}function My(t){var r=Hs(t,2);r!==null&&pn(r,t,2)}function bd(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),Ws){Mn(!0);try{a()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:t},r}function Vy(t,r,a,l){return t.baseState=a,Ed(t,We,typeof l=="function"?l:tr)}function tS(t,r,a,l,f){if(xc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Py(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Py(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=J.T,_={};J.T=_;try{var A=a(f,l),x=J.S;x!==null&&x(_,A),Ly(t,r,A)}catch(H){Ad(t,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),J.T=d}}else try{d=a(f,l),Ly(t,r,d)}catch(H){Ad(t,r,H)}}function Ly(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ky(t,r,l)},function(l){return Ad(t,r,l)}):ky(t,r,a)}function ky(t,r,a){r.status="fulfilled",r.value=a,Uy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Py(t,a)))}function Ad(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Uy(r),r=r.next;while(r!==l)}t.action=null}function Uy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function jy(t,r){return r}function zy(t,r){if(Le){var a=et.formState;if(a!==null){e:{var l=Re;if(Le){if(nt){t:{for(var f=nt,d=Hn;f.nodeType!==8;){if(!d){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){nt=qn(f.nextSibling),l=f.data==="F!";break e}}Vr(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jy,lastRenderedState:r},a.queue=l,a=s_.bind(null,Re,l),l.dispatch=a,l=bd(!1),d=Nd.bind(null,Re,!1,l.queue),l=on(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=tS.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function By(t){var r=Et();return Hy(r,We,t)}function Hy(t,r,a){if(r=Ed(t,r,jy)[0],t=Cc(tr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=El(r)}catch(_){throw _===Ga?yc:_}else l=r;r=Et();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,Xa(9,{destroy:void 0},nS.bind(null,f,a),null)),[l,d,t]}function nS(t,r){t.action=r}function Fy(t){var r=Et(),a=We;if(a!==null)return Hy(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Xa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=wc(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function qy(){return Et().memoizedState}function Ic(t,r,a,l){var f=on();Re.flags|=t,f.memoizedState=Xa(1|r,{destroy:void 0},a,l===void 0?null:l)}function Nc(t,r,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&md(l,We.memoizedState.deps)?f.memoizedState=Xa(r,d,a,l):(Re.flags|=t,f.memoizedState=Xa(1|r,d,a,l))}function Gy(t,r){Ic(8390656,8,t,r)}function Sd(t,r){Nc(2048,8,t,r)}function iS(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=wc(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Ky(t){var r=Et().memoizedState;return iS({ref:r,nextImpl:t}),function(){if((qe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Yy(t,r){return Nc(4,2,t,r)}function Qy(t,r){return Nc(4,4,t,r)}function $y(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Xy(t,r,a){a=a!=null?a.concat([t]):null,Nc(4,4,$y.bind(null,r,t),a)}function wd(){}function Wy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&md(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Jy(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&md(r,l[1]))return l[0];if(l=t(),Ws){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,r],l}function Rd(t,r,a){return a===void 0||(er&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=Z_(),Re.lanes|=t,Fr|=t,a)}function Zy(t,r,a,l){return An(a,r)?a:Ya.current!==null?(t=Rd(t,a,l),An(t,r)||(Nt=!0),t):(er&42)===0||(er&1073741824)!==0&&(De&261930)===0?(Nt=!0,t.memoizedState=a):(t=Z_(),Re.lanes|=t,Fr|=t,r)}function e_(t,r,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=J.T,A={};J.T=A,Nd(t,!1,r,a);try{var x=f(),H=J.S;if(H!==null&&H(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=JA(x,l);Tl(t,r,W,Nn(t))}else Tl(t,r,l,Nn(t))}catch(te){Tl(t,r,{then:function(){},status:"rejected",reason:te},Nn())}finally{oe.p=d,_!==null&&A.types!==null&&(_.types=A.types),J.T=_}}function rS(){}function Cd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=t_(t).queue;e_(t,f,r,ye,a===null?rS:function(){return n_(t),a(l)})}function t_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function n_(t){var r=t_(t);r.next===null&&(r=t.alternate.memoizedState),Tl(t,r.next.queue,{},Nn())}function Id(){return Kt(Ul)}function i_(){return Et().memoizedState}function r_(){return Et().memoizedState}function sS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();t=kr(a);var l=Ur(r,t,a);l!==null&&(pn(l,r,a),gl(l,r,a)),r={cache:id()},t.payload=r;return}r=r.return}}function aS(t,r,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xc(t)?a_(r,a):(a=Kf(t,r,a,l),a!==null&&(pn(a,t,l),o_(a,r,l)))}function s_(t,r,a){var l=Nn();Tl(t,r,a,l)}function Tl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(xc(t))a_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,An(A,_))return cc(t,r,f,0),et===null&&uc(),!1}catch{}if(a=Kf(t,r,f,l),a!==null)return pn(a,t,l),o_(a,r,l),!0}return!1}function Nd(t,r,a,l){if(l={lane:2,revertLane:om(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xc(t)){if(r)throw Error(s(479))}else r=Kf(t,a,l,2),r!==null&&pn(r,t,2)}function xc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function a_(t,r){Qa=Ac=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function o_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}var bl={readContext:Kt,use:Rc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};bl.useEffectEvent=ft;var l_={readContext:Kt,use:Rc,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:Gy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Ic(4194308,4,$y.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ic(4194308,4,t,r)},useInsertionEffect:function(t,r){Ic(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(Ws){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var f=a(r);if(Ws){Mn(!0);try{a(r)}finally{Mn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=aS.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=bd(t);var r=t.queue,a=s_.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:wd,useDeferredValue:function(t,r){var a=on();return Rd(a,t,r)},useTransition:function(){var t=bd(!1);return t=e_.bind(null,Re,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,f=on();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(De&127)!==0||Ny(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Gy(Dy.bind(null,l,d,t),[t]),l.flags|=2048,Xa(9,{destroy:void 0},xy.bind(null,l,d,a,r),null),a},useId:function(){var t=on(),r=et.identifierPrefix;if(Le){var a=Di,l=xi;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Sc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=ZA++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Id,useFormState:zy,useActionState:zy,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Nd.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:vd,useCacheRefresh:function(){return on().memoizedState=sS.bind(null,Re)},useEffectEvent:function(t){var r=on(),a={impl:t};return r.memoizedState=a,function(){if((qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xd={readContext:Kt,use:Rc,useCallback:Wy,useContext:Kt,useEffect:Sd,useImperativeHandle:Xy,useInsertionEffect:Yy,useLayoutEffect:Qy,useMemo:Jy,useReducer:Cc,useRef:qy,useState:function(){return Cc(tr)},useDebugValue:wd,useDeferredValue:function(t,r){var a=Et();return Zy(a,We.memoizedState,t,r)},useTransition:function(){var t=Cc(tr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:El(t),r]},useSyncExternalStore:Iy,useId:i_,useHostTransitionStatus:Id,useFormState:By,useActionState:By,useOptimistic:function(t,r){var a=Et();return Vy(a,We,t,r)},useMemoCache:vd,useCacheRefresh:r_};xd.useEffectEvent=Ky;var u_={readContext:Kt,use:Rc,useCallback:Wy,useContext:Kt,useEffect:Sd,useImperativeHandle:Xy,useInsertionEffect:Yy,useLayoutEffect:Qy,useMemo:Jy,useReducer:Td,useRef:qy,useState:function(){return Td(tr)},useDebugValue:wd,useDeferredValue:function(t,r){var a=Et();return We===null?Rd(a,t,r):Zy(a,We.memoizedState,t,r)},useTransition:function(){var t=Td(tr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:El(t),r]},useSyncExternalStore:Iy,useId:i_,useHostTransitionStatus:Id,useFormState:Fy,useActionState:Fy,useOptimistic:function(t,r){var a=Et();return We!==null?Vy(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vd,useCacheRefresh:r_};u_.useEffectEvent=Ky;function Dd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Od={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Nn(),f=kr(l);f.payload=r,a!=null&&(f.callback=a),r=Ur(t,f,l),r!==null&&(pn(r,t,l),gl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Nn(),f=kr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Ur(t,f,l),r!==null&&(pn(r,t,l),gl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Nn(),l=kr(a);l.tag=2,r!=null&&(l.callback=r),r=Ur(t,l,a),r!==null&&(pn(r,t,a),gl(r,t,a))}};function c_(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!ll(a,l)||!ll(f,d):!0}function h_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Od.enqueueReplaceState(r,r.state,null)}function Js(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function f_(t){lc(t)}function d_(t){console.error(t)}function m_(t){lc(t)}function Dc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function p_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Md(t,r,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(t,r)},a}function g_(t){return t=kr(t),t.tag=3,t}function y_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){p_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){p_(r,a,l),typeof f!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function oS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ha(r,a,f,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Fc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===_c?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),rm(t,l,f)),!1;case 22:return a.flags|=65536,l===_c?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),rm(t,l,f)),!1}throw Error(s(435,a.tag))}return rm(t,l,f),Fc(),!1}if(Le)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Jf&&(t=Error(s(422),{cause:l}),hl(jn(t,a)))):(l!==Jf&&(r=Error(s(423),{cause:l}),hl(jn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=jn(l,a),f=Md(t.stateNode,l,f),ud(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),xl===null?xl=[d]:xl.push(d),dt!==4&&(dt=2),r===null)return!0;l=jn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Md(a.stateNode,l,t),ud(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=g_(f),y_(f,t,a,l),ud(a,f),!1}a=a.return}while(a!==null);return!1}var Vd=Error(s(461)),Nt=!1;function Yt(t,r,a,l){r.child=t===null?Ty(r,null,a,l):Xs(r,t.child,a,l)}function __(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Ks(r),l=pd(t,r,a,_,d,f),A=gd(),t!==null&&!Nt?(yd(t,r,f),nr(t,r,f)):(Le&&A&&Xf(r),r.flags|=1,Yt(t,r,l,f),r.child)}function v_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Yf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,E_(t,r,d,l,f)):(t=fc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Hd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(_,l)&&t.ref===r.ref)return nr(t,r,f)}return r.flags|=1,t=Xi(d,l),t.ref=r.ref,t.return=r,r.child=t}function E_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(ll(d,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=d,Hd(t,f))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,nr(t,r,f)}return Pd(t,r,a,l,f)}function T_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return b_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&gc(r,d!==null?d.cachePool:null),d!==null?Sy(r,d):hd(),wy(r);else return l=r.lanes=536870912,b_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(gc(r,d.cachePool),Sy(r,d),zr(),r.memoizedState=null):(t!==null&&gc(r,null),hd(),zr());return Yt(t,r,f,a),r.child}function Al(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function b_(t,r,a,l,f){var d=sd();return d=d===null?null:{parent:Ct._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&gc(r,null),hd(),wy(r),t!==null&&Ha(t,r,l,!0),r.childLanes=f,null}function Oc(t,r){return r=Vc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function A_(t,r,a){return Xs(r,t.child,null,a),t=Oc(r,r.pendingProps),t.flags|=2,Rn(r),r.memoizedState=null,t}function lS(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Oc(r,l),r.lanes=536870912,Al(null,t);if(dd(r),(t=nt)?(t=Pv(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Or!==null?{id:xi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=ay(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw Vr(r);return r.lanes=536870912,null}return Oc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(dd(r),f)if(r.flags&256)r.flags&=-257,r=A_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nt||Ha(t,r,a,!1),f=(a&t.childLanes)!==0,Nt||f){if(l=et,l!==null&&(_=qo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Hs(t,_),pn(l,t,_),Vd;Fc(),r=A_(t,r,a)}else t=d.treeContext,nt=qn(_.nextSibling),Gt=r,Le=!0,Mr=null,Hn=!1,t!==null&&uy(r,t),r=Oc(r,l),r.flags|=4096;return r}return t=Xi(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Mc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Pd(t,r,a,l,f){return Ks(r),a=pd(t,r,a,l,void 0,f),l=gd(),t!==null&&!Nt?(yd(t,r,f),nr(t,r,f)):(Le&&l&&Xf(r),r.flags|=1,Yt(t,r,a,f),r.child)}function S_(t,r,a,l,f,d){return Ks(r),r.updateQueue=null,a=Cy(r,l,a,f),Ry(t),l=gd(),t!==null&&!Nt?(yd(t,r,d),nr(t,r,d)):(Le&&l&&Xf(r),r.flags|=1,Yt(t,r,a,d),r.child)}function w_(t,r,a,l,f){if(Ks(r),r.stateNode===null){var d=Ua,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Od,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},od(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Ua,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Dd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Od.enqueueReplaceState(d,d.state,null),_l(r,l,d,f),yl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var A=r.memoizedProps,x=Js(a,A);d.props=x;var H=d.context,W=a.contextType;_=Ua,typeof W=="object"&&W!==null&&(_=Kt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||H!==_)&&h_(r,d,l,_),Lr=!1;var q=r.memoizedState;d.state=q,_l(r,l,d,f),yl(),H=r.memoizedState,A||q!==H||Lr?(typeof te=="function"&&(Dd(r,a,te,l),H=r.memoizedState),(x=Lr||c_(r,a,x,l,q,H,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,ld(t,r),_=r.memoizedProps,W=Js(a,_),d.props=W,te=r.pendingProps,q=d.context,H=a.contextType,x=Ua,typeof H=="object"&&H!==null&&(x=Kt(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||q!==x)&&h_(r,d,l,x),Lr=!1,q=r.memoizedState,d.state=q,_l(r,l,d,f),yl();var Q=r.memoizedState;_!==te||q!==Q||Lr||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof A=="function"&&(Dd(r,a,A,l),Q=r.memoizedState),(W=Lr||c_(r,a,W,l,q,Q,x)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=x,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Mc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Xs(r,t.child,null,f),r.child=Xs(r,null,a,f)):Yt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=nr(t,r,f),t}function R_(t,r,a,l){return qs(),r.flags|=256,Yt(t,r,a,l),r.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(t){return{baseLanes:t,cachePool:py()}}function Ud(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=In),t}function C_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Le){if(f?jr(r):zr(),(t=nt)?(t=Pv(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Or!==null?{id:xi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=ay(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw Vr(r);return Em(t)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(zr(),f=r.mode,A=Vc({mode:"hidden",children:A},f),l=Fs(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=kd(a),l.childLanes=Ud(t,_,a),r.memoizedState=Ld,Al(null,l)):(jr(r),jd(r,A))}var x=t.memoizedState;if(x!==null&&(A=x.dehydrated,A!==null)){if(d)r.flags&256?(jr(r),r.flags&=-257,r=zd(t,r,a)):r.memoizedState!==null?(zr(),r.child=t.child,r.flags|=128,r=null):(zr(),A=l.fallback,f=r.mode,l=Vc({mode:"visible",children:l.children},f),A=Fs(A,f,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,Xs(r,t.child,null,a),l=r.child,l.memoizedState=kd(a),l.childLanes=Ud(t,_,a),r.memoizedState=Ld,r=Al(null,l));else if(jr(r),Em(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,hl({value:l,source:null,stack:null}),r=zd(t,r,a)}else if(Nt||Ha(t,r,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=et,_!==null&&(l=qo(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Hs(t,l),pn(_,t,l),Vd;vm(A)||Fc(),r=zd(t,r,a)}else vm(A)?(r.flags|=192,r.child=t.child,r=null):(t=x.treeContext,nt=qn(A.nextSibling),Gt=r,Le=!0,Mr=null,Hn=!1,t!==null&&uy(r,t),r=jd(r,l.children),r.flags|=4096);return r}return f?(zr(),A=l.fallback,f=r.mode,x=t.child,H=x.sibling,l=Xi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,H!==null?A=Xi(H,A):(A=Fs(A,f,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,Al(null,l),l=r.child,A=t.child.memoizedState,A===null?A=kd(a):(f=A.cachePool,f!==null?(x=Ct._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=py(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Ud(t,_,a),r.memoizedState=Ld,Al(t.child,l)):(jr(r),a=t.child,t=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function jd(t,r){return r=Vc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Vc(t,r){return t=Sn(22,t,null,r),t.lanes=0,t}function zd(t,r,a){return Xs(r,t.child,null,a),t=jd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function I_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),td(t.return,r,a)}function Bd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function N_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,le(vt,_),Yt(t,r,l,a),l=Le?cl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I_(t,a,r);else if(t.tag===19)I_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&bc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Bd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&bc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Bd(r,!0,a,null,d,l);break;case"together":Bd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function nr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Fr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ha(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Xi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Xi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Hd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function uS(t,r,a){switch(r.tag){case 3:Pt(r,r.stateNode.containerInfo),Pr(r,Ct,t.memoizedState.cache),qs();break;case 27:case 5:Ss(r);break;case 4:Pt(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,dd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?C_(t,r,a):(jr(r),t=nr(t,r,a),t!==null?t.sibling:null);jr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ha(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return N_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(vt,vt.current),l)break;return null;case 22:return r.lanes=0,T_(t,r,a,r.pendingProps);case 24:Pr(r,Ct,t.memoizedState.cache)}return nr(t,r,a)}function x_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Hd(t,a)&&(r.flags&128)===0)return Nt=!1,uS(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,Le&&(r.flags&1048576)!==0&&ly(r,cl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Qs(r.elementType),r.type=t,typeof t=="function")Yf(t)?(l=Js(t,l),r.tag=1,r=w_(null,r,t,l,a)):(r.tag=0,r=Pd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===re){r.tag=11,r=__(null,r,t,l,a);break e}else if(f===I){r.tag=14,r=v_(null,r,t,l,a);break e}}throw r=at(t)||t,Error(s(306,r,""))}}return r;case 0:return Pd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Js(l,r.pendingProps),w_(t,r,l,f,a);case 3:e:{if(Pt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,ld(t,r),_l(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Pr(r,Ct,l),l!==d.cache&&nd(r,[Ct],a,!0),yl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=R_(t,r,l,a);break e}else if(l!==f){f=jn(Error(s(424)),r),hl(f),r=R_(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,nt=qn(t.firstChild),Gt=r,Le=!0,Mr=null,Hn=!0,a=Ty(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qs(),l===f){r=nr(t,r,a);break e}Yt(t,r,l,a)}r=r.child}return r;case 26:return Mc(t,r),t===null?(a=Bv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Le||(a=r.type,t=r.pendingProps,l=Xc(Ce.current).createElement(a),l[St]=r,l[jt]=t,Qt(l,a,t),wt(l),r.stateNode=l):r.memoizedState=Bv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ss(r),t===null&&Le&&(l=r.stateNode=Uv(r.type,r.pendingProps,Ce.current),Gt=r,Hn=!0,f=nt,Qr(r.type)?(Tm=f,nt=qn(l.firstChild)):nt=f),Yt(t,r,r.pendingProps.children,a),Mc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Le&&((f=l=nt)&&(l=jS(l,r.type,r.pendingProps,Hn),l!==null?(r.stateNode=l,Gt=r,nt=qn(l.firstChild),Hn=!1,f=!0):f=!1),f||Vr(r)),Ss(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,gm(f,d)?l=null:_!==null&&gm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=pd(t,r,eS,null,null,a),Ul._currentValue=f),Mc(t,r),Yt(t,r,l,a),r.child;case 6:return t===null&&Le&&((t=a=nt)&&(a=zS(a,r.pendingProps,Hn),a!==null?(r.stateNode=a,Gt=r,nt=null,t=!0):t=!1),t||Vr(r)),null;case 13:return C_(t,r,a);case 4:return Pt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Xs(r,null,l,a):Yt(t,r,l,a),r.child;case 11:return __(t,r,r.type,r.pendingProps,a);case 7:return Yt(t,r,r.pendingProps,a),r.child;case 8:return Yt(t,r,r.pendingProps.children,a),r.child;case 12:return Yt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Pr(r,r.type,l.value),Yt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ks(r),f=Kt(f),l=l(f),r.flags|=1,Yt(t,r,l,a),r.child;case 14:return v_(t,r,r.type,r.pendingProps,a);case 15:return E_(t,r,r.type,r.pendingProps,a);case 19:return N_(t,r,a);case 31:return lS(t,r,a);case 22:return T_(t,r,a,r.pendingProps);case 24:return Ks(r),l=Kt(Ct),t===null?(f=sd(),f===null&&(f=et,d=id(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},od(r),Pr(r,Ct,f)):((t.lanes&a)!==0&&(ld(t,r),_l(r,null,null,a),yl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Pr(r,Ct,l)):(l=d.cache,Pr(r,Ct,l),l!==f.cache&&nd(r,[Ct],a,!0))),Yt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ir(t){t.flags|=4}function Fd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(iv())t.flags|=8192;else throw $s=_c,ad}else t.flags&=-16777217}function D_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Kv(r))if(iv())t.flags|=8192;else throw $s=_c,ad}function Pc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Bu():536870912,t.lanes|=r,eo|=r)}function Sl(t,r){if(!Le)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function cS(t,r,a){var l=r.pendingProps;switch(Wf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Zi(Ct),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(r)?ir(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zf())),it(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(ir(r),d!==null?(it(r),D_(r,d)):(it(r),Fd(r,f,null,l,a))):d?d!==t.memoizedState?(ir(r),it(r),D_(r,d)):(it(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&ir(r),it(r),Fd(r,f,t,l,a)),null;case 27:if(va(r),a=Ce.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}t=he.current,Ba(r)?cy(r):(t=Uv(f,l,a),r.stateNode=t,ir(r))}return it(r),null;case 5:if(va(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ir(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(d=he.current,Ba(r))cy(r);else{var _=Xc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[St]=r,d[jt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Qt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ir(r)}}return it(r),Fd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ir(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ce.current,Ba(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cv(t.nodeValue,a)),t||Vr(r,!0)}else t=Xc(t).createTextNode(l),t[St]=r,r.stateNode=t}return it(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ba(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=r}else qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),t=!1}else a=Zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Rn(r),r):(Rn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return it(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ba(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),f=!1}else f=Zf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Rn(r),r):(Rn(r),null)}return Rn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Pc(r,r.updateQueue),it(r),null);case 4:return ot(),t===null&&hm(r.stateNode.containerInfo),it(r),null;case 10:return Zi(r.type),it(r),null;case 19:if(ne(vt),l=r.memoizedState,l===null)return it(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Sl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=bc(t),d!==null){for(r.flags|=128,Sl(l,!1),t=d.updateQueue,r.updateQueue=t,Pc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)sy(a,t),a=a.sibling;return le(vt,vt.current&1|2),Le&&Wi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&sn()>zc&&(r.flags|=128,f=!0,Sl(l,!1),r.lanes=4194304)}else{if(!f)if(t=bc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Pc(r,t),Sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return it(r),null}else 2*sn()-l.renderingStartTime>zc&&a!==536870912&&(r.flags|=128,f=!0,Sl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=vt.current,le(vt,f?a&1|2:a&1),Le&&Wi(r,l.treeForkCount),t):(it(r),null);case 22:case 23:return Rn(r),fd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),a=r.updateQueue,a!==null&&Pc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ne(Ys),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Zi(Ct),it(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function hS(t,r){switch(Wf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Zi(Ct),ot(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return va(r),null;case 31:if(r.memoizedState!==null){if(Rn(r),r.alternate===null)throw Error(s(340));qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Rn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ne(vt),null;case 4:return ot(),null;case 10:return Zi(r.type),null;case 22:case 23:return Rn(r),fd(),t!==null&&ne(Ys),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Zi(Ct),null;case 25:return null;default:return null}}function O_(t,r){switch(Wf(r),r.tag){case 3:Zi(Ct),ot();break;case 26:case 27:case 5:va(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&Rn(r);break;case 13:Rn(r);break;case 19:ne(vt);break;case 10:Zi(r.type);break;case 22:case 23:Rn(r),fd(),t!==null&&ne(Ys);break;case 24:Zi(Ct)}}function wl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){$e(r,r.return,A)}}function Br(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=r;var x=a,H=A;try{H()}catch(W){$e(f,x,W)}}}l=l.next}while(l!==d)}}catch(W){$e(r,r.return,W)}}function M_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ay(r,a)}catch(l){$e(t,t.return,l)}}}function V_(t,r,a){a.props=Js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,r,l)}}function Rl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){$e(t,r,f)}}function Oi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,r,f)}else a.current=null}function P_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function qd(t,r,a){try{var l=t.stateNode;MS(l,t.type,a,r),l[jt]=r}catch(f){$e(t,t.return,f)}}function L_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qr(t.type)||t.tag===4}function Gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Zn));else if(l!==4&&(l===27&&Qr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Kd(t,r,a),t=t.sibling;t!==null;)Kd(t,r,a),t=t.sibling}function Lc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Qr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lc(t,r,a),t=t.sibling;t!==null;)Lc(t,r,a),t=t.sibling}function k_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Qt(r,l,a),r[St]=t,r[jt]=a}catch(d){$e(t,t.return,d)}}var rr=!1,xt=!1,Yd=!1,U_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function fS(t,r){if(t=t.containerInfo,mm=ih,t=Xg(t),zf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,x=-1,H=0,W=0,te=t,q=null;t:for(;;){for(var Q;te!==a||f!==0&&te.nodeType!==3||(A=_+f),te!==d||l!==0&&te.nodeType!==3||(x=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(Q=te.firstChild)!==null;)q=te,te=Q;for(;;){if(te===t)break t;if(q===a&&++H===f&&(A=_),q===d&&++W===l&&(x=_),(Q=te.nextSibling)!==null)break;te=q,q=te.parentNode}te=Q}a=A===-1||x===-1?null:{start:A,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(pm={focusedElem:t,selectionRange:a},ih=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Js(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){$e(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)_m(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_m(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function j_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ar(t,a),l&4&&wl(5,a);break;case 1:if(ar(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=Js(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&M_(a),l&512&&Rl(a,a.return);break;case 3:if(ar(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ay(t,r)}catch(_){$e(a,a.return,_)}}break;case 27:r===null&&l&4&&k_(a);case 26:case 5:ar(t,a),r===null&&l&4&&P_(a),l&512&&Rl(a,a.return);break;case 12:ar(t,a);break;case 31:ar(t,a),l&4&&H_(t,a);break;case 13:ar(t,a),l&4&&F_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=TS.bind(null,a),BS(t,a))));break;case 22:if(l=a.memoizedState!==null||rr,!l){r=r!==null&&r.memoizedState!==null||xt,f=rr;var d=xt;rr=l,(xt=r)&&!d?or(t,a,(a.subtreeFlags&8772)!==0):ar(t,a),rr=f,xt=d}break;case 30:break;default:ar(t,a)}}function z_(t){var r=t.alternate;r!==null&&(t.alternate=null,z_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Sa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,hn=!1;function sr(t,r,a){for(a=a.child;a!==null;)B_(t,r,a),a=a.sibling}function B_(t,r,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:xt||Oi(a,r),sr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Oi(a,r);var l=ut,f=hn;Qr(a.type)&&(ut=a.stateNode,hn=!1),sr(t,r,a),Pl(a.stateNode),ut=l,hn=f;break;case 5:xt||Oi(a,r);case 6:if(l=ut,f=hn,ut=null,sr(t,r,a),ut=l,hn=f,ut!==null)if(hn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){$e(a,r,d)}else try{ut.removeChild(a.stateNode)}catch(d){$e(a,r,d)}break;case 18:ut!==null&&(hn?(t=ut,Mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lo(t)):Mv(ut,a.stateNode));break;case 4:l=ut,f=hn,ut=a.stateNode.containerInfo,hn=!0,sr(t,r,a),ut=l,hn=f;break;case 0:case 11:case 14:case 15:Br(2,a,r),xt||Br(4,a,r),sr(t,r,a);break;case 1:xt||(Oi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&V_(a,r,l)),sr(t,r,a);break;case 21:sr(t,r,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,sr(t,r,a),xt=l;break;default:sr(t,r,a)}}function H_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(a){$e(r,r.return,a)}}}function F_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(a){$e(r,r.return,a)}}function dS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new U_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new U_),r;default:throw Error(s(435,t.tag))}}function kc(t,r){var a=dS(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=bS.bind(null,t,l);l.then(f,f)}})}function fn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Qr(A.type)){ut=A.stateNode,hn=!1;break e}break;case 5:ut=A.stateNode,hn=!1;break e;case 3:case 4:ut=A.stateNode.containerInfo,hn=!0;break e}A=A.return}if(ut===null)throw Error(s(160));B_(d,_,f),ut=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)q_(r,t),r=r.sibling}var si=null;function q_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),dn(t),l&4&&(Br(3,t,t.return),wl(3,t),Br(5,t,t.return));break;case 1:fn(r,t),dn(t),l&512&&(xt||a===null||Oi(a,a.return)),l&64&&rr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=si;if(fn(r,t),dn(t),l&512&&(xt||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_i]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qt(d,l,a),d[St]=t,wt(d),l=d;break e;case"link":var _=qv("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=qv("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,wt(d),l=d}t.stateNode=l}else Gv(f,t.type,t.stateNode);else t.stateNode=Fv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Gv(f,t.type,t.stateNode):Fv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(r,t),dn(t),l&512&&(xt||a===null||Oi(a,a.return)),a!==null&&l&4&&qd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,t),dn(t),l&512&&(xt||a===null||Oi(a,a.return)),t.flags&32){f=t.stateNode;try{cn(f,"")}catch(fe){$e(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,qd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Yd=!0);break;case 6:if(fn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){$e(t,t.return,fe)}}break;case 3:if(Zc=null,f=si,si=Wc(r.containerInfo),fn(r,t),si=f,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(r.containerInfo)}catch(fe){$e(t,t.return,fe)}Yd&&(Yd=!1,G_(t));break;case 4:l=si,si=Wc(t.stateNode.containerInfo),fn(r,t),dn(t),si=l;break;case 12:fn(r,t),dn(t);break;case 31:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 13:fn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 22:f=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,H=rr,W=xt;if(rr=H||f,xt=W||x,fn(r,t),xt=W,rr=H,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||x||rr||xt||Zs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(d=x.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=x.stateNode;var te=x.memoizedProps.style,q=te!=null&&te.hasOwnProperty("display")?te.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){$e(x,x.return,fe)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(fe){$e(x,x.return,fe)}}}else if(r.tag===18){if(a===null){x=r;try{var Q=x.stateNode;f?Vv(Q,!0):Vv(x.stateNode,!1)}catch(fe){$e(x,x.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kc(t,a))));break;case 19:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kc(t,l)));break;case 30:break;case 21:break;default:fn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(L_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Gd(t);Lc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var A=Gd(t);Lc(t,A,_);break;case 3:case 4:var x=a.stateNode.containerInfo,H=Gd(t);Kd(t,H,x);break;default:throw Error(s(161))}}catch(W){$e(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function G_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;G_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ar(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)j_(t,r.alternate,r),r=r.sibling}function Zs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Br(4,r,r.return),Zs(r);break;case 1:Oi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&V_(r,r.return,a),Zs(r);break;case 27:Pl(r.stateNode);case 26:case 5:Oi(r,r.return),Zs(r);break;case 22:r.memoizedState===null&&Zs(r);break;case 30:Zs(r);break;default:Zs(r)}t=t.sibling}}function or(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:or(f,d,a),wl(4,d);break;case 1:if(or(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){$e(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)by(x[f],A)}catch(H){$e(l,l.return,H)}}a&&_&64&&M_(d),Rl(d,d.return);break;case 27:k_(d);case 26:case 5:or(f,d,a),a&&l===null&&_&4&&P_(d),Rl(d,d.return);break;case 12:or(f,d,a);break;case 31:or(f,d,a),a&&_&4&&H_(f,d);break;case 13:or(f,d,a),a&&_&4&&F_(f,d);break;case 22:d.memoizedState===null&&or(f,d,a),Rl(d,d.return);break;case 30:break;default:or(f,d,a)}r=r.sibling}}function Qd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function $d(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fl(t))}function ai(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)K_(t,r,a,l),r=r.sibling}function K_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ai(t,r,a,l),f&2048&&wl(9,r);break;case 1:ai(t,r,a,l);break;case 3:ai(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fl(t)));break;case 12:if(f&2048){ai(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){$e(r,r.return,x)}}else ai(t,r,a,l);break;case 31:ai(t,r,a,l);break;case 13:ai(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ai(t,r,a,l):Cl(t,r):d._visibility&2?ai(t,r,a,l):(d._visibility|=2,Wa(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Qd(_,r);break;case 24:ai(t,r,a,l),f&2048&&$d(r.alternate,r);break;default:ai(t,r,a,l)}}function Wa(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,A=a,x=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Wa(d,_,A,x,f),wl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Wa(d,_,A,x,f):Cl(d,_):(W._visibility|=2,Wa(d,_,A,x,f)),f&&H&2048&&Qd(_.alternate,_);break;case 24:Wa(d,_,A,x,f),f&&H&2048&&$d(_.alternate,_);break;default:Wa(d,_,A,x,f)}r=r.sibling}}function Cl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Cl(a,l),f&2048&&Qd(l.alternate,l);break;case 24:Cl(a,l),f&2048&&$d(l.alternate,l);break;default:Cl(a,l)}r=r.sibling}}var Il=8192;function Ja(t,r,a){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)Y_(t,r,a),t=t.sibling}function Y_(t,r,a){switch(t.tag){case 26:Ja(t,r,a),t.flags&Il&&t.memoizedState!==null&&ZS(a,si,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,r,a);break;case 3:case 4:var l=si;si=Wc(t.stateNode.containerInfo),Ja(t,r,a),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,Ja(t,r,a),Il=l):Ja(t,r,a));break;default:Ja(t,r,a)}}function Q_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Nl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,X_(l,t)}Q_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$_(t),t=t.sibling}function $_(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&Br(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Uc(t)):Nl(t);break;default:Nl(t)}}function Uc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,X_(l,t)}Q_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Br(8,r,r.return),Uc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(r));break;default:Uc(r)}t=t.sibling}}function X_(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Br(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(z_(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var mS={getCacheForType:function(t){var r=Kt(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Kt(Ct).controller.signal}},pS=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,Ne=null,De=0,Qe=0,Cn=null,Hr=!1,Za=!1,Xd=!1,lr=0,dt=0,Fr=0,ea=0,Wd=0,In=0,eo=0,xl=null,mn=null,Jd=!1,jc=0,W_=0,zc=1/0,Bc=null,qr=null,kt=0,Gr=null,to=null,ur=0,Zd=0,em=null,J_=null,Dl=0,tm=null;function Nn(){return(qe&2)!==0&&De!==0?De&-De:J.T!==null?om():Hu()}function Z_(){if(In===0)if((De&536870912)===0||Le){var t=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),In=t}else In=536870912;return t=wn.current,t!==null&&(t.flags|=32),In}function pn(t,r,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(no(t,0),Kr(t,De,In,!1)),Is(t,a),((qe&2)===0||t!==et)&&(t===et&&((qe&2)===0&&(ea|=a),dt===4&&Kr(t,De,In,!1)),Mi(t))}function ev(t,r,a){if((qe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Xn(t,r),f=l?_S(t,r):im(t,r,!0),d=l;do{if(f===0){Za&&!l&&Kr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!gS(a)){f=im(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var A=t;f=xl;var x=A.current.memoizedState.isDehydrated;if(x&&(no(A,_).flags|=256),_=im(A,_,!1),_!==2){if(Xd&&!x){A.errorRecoveryDisabledLanes|=d,ea|=d,f=4;break e}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){no(t,0),Kr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Kr(l,r,In,!Hr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=jc+300-sn(),10<f)){if(Kr(l,r,In,!Hr),pi(l,0,!0)!==0)break e;ur=r,l.timeoutHandle=Dv(tv.bind(null,l,a,mn,Bc,Jd,r,In,ea,eo,Hr,d,"Throttled",-0,0),f);break e}tv(l,a,mn,Bc,Jd,r,In,ea,eo,Hr,d,null,-0,0)}}break}while(!0);Mi(t)}function tv(t,r,a,l,f,d,_,A,x,H,W,te,q,Q){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Y_(r,d,te);var fe=(d&62914560)===d?jc-sn():(d&4194048)===d?W_-sn():0;if(fe=ew(te,fe),fe!==null){ur=d,t.cancelPendingCommit=fe(uv.bind(null,t,r,d,a,l,f,_,A,x,W,te,null,q,Q)),Kr(t,d,_,!H);return}}uv(t,r,d,a,l,f,_,A,x)}function gS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(t,r,a,l){r&=~Wd,r&=~ea,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-yt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ns(t,a,r)}function Hc(){return(qe&6)===0?(Ol(0),!1):!0}function nm(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,Ji=Gs=null,_d(t),Ka=null,ml=0,t=Ne;for(;t!==null;)O_(t.alternate,t),t=t.return;Ne=null}}function no(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,LS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ur=0,nm(),et=t,Ne=a=Xi(t.current,null),De=r,Qe=0,Cn=null,Hr=!1,Za=Xn(t,r),Xd=!1,eo=In=Wd=ea=Fr=dt=0,mn=xl=null,Jd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-yt(l),d=1<<f;r|=t[f],l&=~d}return lr=r,uc(),a}function nv(t,r){Re=null,J.H=bl,r===Ga||r===yc?(r=_y(),Qe=3):r===ad?(r=_y(),Qe=4):Qe=r===Vd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Ne===null&&(dt=1,Dc(t,jn(r,t.current)))}function iv(){var t=wn.current;return t===null?!0:(De&4194048)===De?Fn===null:(De&62914560)===De||(De&536870912)!==0?t===Fn:!1}function rv(){var t=J.H;return J.H=bl,t===null?bl:t}function sv(){var t=J.A;return J.A=mS,t}function Fc(){dt=4,Hr||(De&4194048)!==De&&wn.current!==null||(Za=!0),(Fr&134217727)===0&&(ea&134217727)===0||et===null||Kr(et,De,In,!1)}function im(t,r,a){var l=qe;qe|=2;var f=rv(),d=sv();(et!==t||De!==r)&&(Bc=null,no(t,r)),r=!1;var _=dt;e:do try{if(Qe!==0&&Ne!==null){var A=Ne,x=Cn;switch(Qe){case 8:nm(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var H=Qe;if(Qe=0,Cn=null,io(t,A,x,H),a&&Za){_=0;break e}break;default:H=Qe,Qe=0,Cn=null,io(t,A,x,H)}}yS(),_=dt;break}catch(W){nv(t,W)}while(!0);return r&&t.shellSuspendCounter++,Ji=Gs=null,qe=l,J.H=f,J.A=d,Ne===null&&(et=null,De=0,uc()),_}function yS(){for(;Ne!==null;)av(Ne)}function _S(t,r){var a=qe;qe|=2;var l=rv(),f=sv();et!==t||De!==r?(Bc=null,zc=sn()+500,no(t,r)):Za=Xn(t,r);e:do try{if(Qe!==0&&Ne!==null){r=Ne;var d=Cn;t:switch(Qe){case 1:Qe=0,Cn=null,io(t,r,d,1);break;case 2:case 9:if(gy(d)){Qe=0,Cn=null,ov(r);break}r=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),Mi(t)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:gy(d)?(Qe=0,Cn=null,ov(r)):(Qe=0,Cn=null,io(t,r,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var A=Ne;if(_?Kv(_):A.stateNode.complete){Qe=0,Cn=null;var x=A.sibling;if(x!==null)Ne=x;else{var H=A.return;H!==null?(Ne=H,qc(H)):Ne=null}break t}}Qe=0,Cn=null,io(t,r,d,5);break;case 6:Qe=0,Cn=null,io(t,r,d,6);break;case 8:nm(),dt=6;break e;default:throw Error(s(462))}}vS();break}catch(W){nv(t,W)}while(!0);return Ji=Gs=null,J.H=l,J.A=f,qe=a,Ne!==null?0:(et=null,De=0,uc(),dt)}function vS(){for(;Ne!==null&&!Mf();)av(Ne)}function av(t){var r=x_(t.alternate,t,lr);t.memoizedProps=t.pendingProps,r===null?qc(t):Ne=r}function ov(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=S_(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=S_(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:_d(r);default:O_(a,r),r=Ne=sy(r,lr),r=x_(a,r,lr)}t.memoizedProps=t.pendingProps,r===null?qc(t):Ne=r}function io(t,r,a,l){Ji=Gs=null,_d(r),Ka=null,ml=0;var f=r.return;try{if(oS(t,f,r,a,De)){dt=1,Dc(t,jn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;dt=1,Dc(t,jn(a,t.current)),Ne=null;return}r.flags&32768?(Le||l===1?t=!0:Za||(De&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),lv(r,t)):qc(r)}function qc(t){var r=t;do{if((r.flags&32768)!==0){lv(r,Hr);return}t=r.return;var a=cS(r.alternate,r,lr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);dt===0&&(dt=5)}function lv(t,r){do{var a=hS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);dt=6,Ne=null}function uv(t,r,a,l,f,d,_,A,x){t.cancelPendingCommit=null;do Gc();while(kt!==0);if((qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Gf,Lf(t,a,d,_,A,x),t===et&&(Ne=et=null,De=0),to=r,Gr=t,ur=a,Zd=d,em=f,J_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,AS(br,function(){return mv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,f=oe.p,oe.p=2,_=qe,qe|=4;try{fS(t,r,a)}finally{qe=_,oe.p=f,J.T=l}}kt=1,cv(),hv(),fv()}}function cv(){if(kt===1){kt=0;var t=Gr,r=to,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=oe.p;oe.p=2;var f=qe;qe|=4;try{q_(r,t);var d=pm,_=Xg(t.containerInfo),A=d.focusedElem,x=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&$g(A.ownerDocument.documentElement,A)){if(x!==null&&zf(A)){var H=x.start,W=x.end;if(W===void 0&&(W=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(W,A.value.length);else{var te=A.ownerDocument||document,q=te&&te.defaultView||window;if(q.getSelection){var Q=q.getSelection(),fe=A.textContent.length,_e=Math.min(x.start,fe),Ze=x.end===void 0?_e:Math.min(x.end,fe);!Q.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var k=Qg(A,_e),M=Qg(A,Ze);if(k&&M&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var B=te.createRange();B.setStart(k.node,k.offset),Q.removeAllRanges(),_e>Ze?(Q.addRange(B),Q.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Q.addRange(B))}}}}for(te=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<te.length;A++){var Z=te[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ih=!!mm,pm=mm=null}finally{qe=f,oe.p=l,J.T=a}}t.current=r,kt=2}}function hv(){if(kt===2){kt=0;var t=Gr,r=to,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=oe.p;oe.p=2;var f=qe;qe|=4;try{j_(t,r.alternate,r)}finally{qe=f,oe.p=l,J.T=a}}kt=3}}function fv(){if(kt===4||kt===3){kt=0,Pu();var t=Gr,r=to,a=ur,l=J_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?kt=5:(kt=0,to=Gr=null,dv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(qr=null),Ki(a),r=r.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot($n,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=J.T,f=oe.p,oe.p=2,J.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{J.T=r,oe.p=f}}(ur&3)!==0&&Gc(),Mi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===tm?Dl++:(Dl=0,tm=t):Dl=0,Ol(0)}}function dv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,fl(r)))}function Gc(){return cv(),hv(),fv(),mv()}function mv(){if(kt!==5)return!1;var t=Gr,r=Zd;Zd=0;var a=Ki(ur),l=J.T,f=oe.p;try{oe.p=32>a?32:a,J.T=null,a=em,em=null;var d=Gr,_=ur;if(kt=0,to=Gr=null,ur=0,(qe&6)!==0)throw Error(s(331));var A=qe;if(qe|=4,$_(d.current),K_(d,d.current,_,a),qe=A,Ol(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{oe.p=f,J.T=l,dv(t,r)}}function pv(t,r,a){r=jn(a,r),r=Md(t.stateNode,r,2),t=Ur(t,r,2),t!==null&&(Is(t,2),Mi(t))}function $e(t,r,a){if(t.tag===3)pv(t,t,a);else for(;r!==null;){if(r.tag===3){pv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){t=jn(a,t),a=g_(2),l=Ur(r,a,2),l!==null&&(y_(a,l,r,t),Is(l,2),Mi(l));break}}r=r.return}}function rm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new pS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Xd=!0,f.add(a),t=ES.bind(null,t,r,a),r.then(t,t))}function ES(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>sn()-jc?(qe&2)===0&&no(t,0):Wd|=a,eo===De&&(eo=0)),Mi(t)}function gv(t,r){r===0&&(r=Bu()),t=Hs(t,r),t!==null&&(Is(t,r),Mi(t))}function TS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),gv(t,a)}function bS(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),gv(t,a)}function AS(t,r){return Lt(t,r)}var Kc=null,ro=null,sm=!1,Yc=!1,am=!1,Yr=0;function Mi(t){t!==ro&&t.next===null&&(ro===null?Kc=ro=t:ro=ro.next=t),Yc=!0,sm||(sm=!0,wS())}function Ol(t,r){if(!am&&Yc){am=!0;do for(var a=!1,l=Kc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Ev(l,d))}else d=De,d=pi(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xn(l,d)||(a=!0,Ev(l,d));l=l.next}while(a);am=!1}}function SS(){yv()}function yv(){Yc=sm=!1;var t=0;Yr!==0&&PS()&&(t=Yr);for(var r=sn(),a=null,l=Kc;l!==null;){var f=l.next,d=_v(l,r);d===0?(l.next=null,a===null?Kc=f:a.next=f,f===null&&(ro=a)):(a=l,(t!==0||(d&3)!==0)&&(Yc=!0)),l=f}kt!==0&&kt!==5||Ol(t),Yr!==0&&(Yr=0)}function _v(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-yt(d),A=1<<_,x=f[_];x===-1?((A&a)===0||(A&l)!==0)&&(f[_]=Pf(A,r)):x<=r&&(t.expiredLanes|=A),d&=~A}if(r=et,a=De,a=pi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Xn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Tr(l),Ki(a)){case 2:case 8:a=Ho;break;case 32:a=br;break;case 268435456:a=Lu;break;default:a=br}return l=vv.bind(null,t),a=Lt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function vv(t,r){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gc()&&t.callbackNode!==a)return null;var l=De;return l=pi(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ev(t,l,r),_v(t,sn()),t.callbackNode!=null&&t.callbackNode===a?vv.bind(null,t):null)}function Ev(t,r){if(Gc())return null;ev(t,r,!0)}function wS(){kS(function(){(qe&6)!==0?Lt(Bo,SS):yv()})}function om(){if(Yr===0){var t=Fa;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),Yr=t}return Yr}function Tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function bv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function RS(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Tv((f[jt]||null).action),_=l.submitter;_&&(r=(r=_[jt]||null)?Tv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var A=new Ri("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var x=_?bv(f,_):new FormData(f);Cd(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(A.preventDefault(),x=_?bv(f,_):new FormData(f),Cd(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var lm=0;lm<qf.length;lm++){var um=qf[lm],CS=um.toLowerCase(),IS=um[0].toUpperCase()+um.slice(1);ri(CS,"on"+IS)}ri(Zg,"onAnimationEnd"),ri(ey,"onAnimationIteration"),ri(ty,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(qA,"onTransitionRun"),ri(GA,"onTransitionStart"),ri(KA,"onTransitionCancel"),ri(ny,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Av(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var A=l[_],x=A.instance,H=A.currentTarget;if(A=A.listener,x!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=H;try{d(f)}catch(W){lc(W)}f.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(A=l[_],x=A.instance,H=A.currentTarget,A=A.listener,x!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=H;try{d(f)}catch(W){lc(W)}f.currentTarget=null,d=x}}}}function xe(t,r){var a=r[Aa];a===void 0&&(a=r[Aa]=new Set);var l=t+"__bubble";a.has(l)||(Sv(r,t,2,!1),a.add(l))}function cm(t,r,a){var l=0;r&&(l|=4),Sv(a,t,l,r)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function hm(t){if(!t[Qc]){t[Qc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(NS.has(a)||cm(a,!1,t),cm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Qc]||(r[Qc]=!0,cm("selectionchange",!1,r))}}function Sv(t,r,a,l){switch(Zv(r)){case 2:var f=iw;break;case 8:f=rw;break;default:f=Rm}a=f.bind(null,r,a,t),f=void 0,!Vs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function fm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=vi(A),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}A=A.parentNode}}l=l.return}Ir(function(){var H=d,W=Pn(a),te=[];e:{var q=iy.get(t);if(q!==void 0){var Q=Ri,fe=t;switch(t){case"keypress":if(Ls(a)===0)break e;case"keydown":case"keyup":Q=sc;break;case"focusin":fe="focus",Q=Us;break;case"focusout":fe="blur",Q=Us;break;case"beforeblur":case"afterblur":Q=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Zg:case ey:case ty:Q=Ju;break;case ny:Q=S;break;case"scroll":case"scrollend":Q=il;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=$i;break;case"toggle":case"beforetoggle":Q=we}var _e=(r&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),k=_e?q!==null?q+"Capture":null:q;_e=[];for(var M=H,B;M!==null;){var Z=M;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||k===null||(Z=ei(M,k),Z!=null&&_e.push(Vl(M,Z,B))),Ze)break;M=M.return}0<_e.length&&(q=new Q(q,fe,null,a,W),te.push({event:q,listeners:_e}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==el&&(fe=a.relatedTarget||a.fromElement)&&(vi(fe)||fe[yi]))break e;if((Q||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=H,fe=fe?vi(fe):null,fe!==null&&(Ze=u(fe),_e=fe.tag,fe!==Ze||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Q=null,fe=H),Q!==fe)){if(_e=rl,Z="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=$i,Z="onPointerLeave",k="onPointerEnter",M="pointer"),Ze=Q==null?q:Tn(Q),B=fe==null?q:Tn(fe),q=new _e(Z,M+"leave",Q,a,W),q.target=Ze,q.relatedTarget=B,Z=null,vi(W)===H&&(_e=new _e(k,M+"enter",fe,a,W),_e.target=B,_e.relatedTarget=Ze,Z=_e),Ze=Z,Q&&fe)t:{for(_e=xS,k=Q,M=fe,B=0,Z=k;Z;Z=_e(Z))B++;Z=0;for(var me=M;me;me=_e(me))Z++;for(;0<B-Z;)k=_e(k),B--;for(;0<Z-B;)M=_e(M),Z--;for(;B--;){if(k===M||M!==null&&k===M.alternate){_e=k;break t}k=_e(k),M=_e(M)}_e=null}else _e=null;Q!==null&&wv(te,q,Q,_e,!1),fe!==null&&Ze!==null&&wv(te,Ze,fe,_e,!0)}}e:{if(q=H?Tn(H):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var Be=Hg;else if(zg(q))if(Fg)Be=BA;else{Be=jA;var de=UA}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&Ca(H.elementType)&&(Be=Hg):Be=zA;if(Be&&(Be=Be(t,H))){Bg(te,Be,a,W);break e}de&&de(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Wo(q,"number",q.value)}switch(de=H?Tn(H):window,t){case"focusin":(zg(de)||de.contentEditable==="true")&&(Pa=de,Bf=H,ul=null);break;case"focusout":ul=Bf=Pa=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,Wg(te,a,W);break;case"selectionchange":if(FA)break;case"keydown":case"keyup":Wg(te,a,W)}var Ie;if(Fe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Va?js(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ni&&a.locale!=="ko"&&(Va||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Va&&(Ie=nl()):(wi=W,tl="value"in wi?wi.value:wi.textContent,Va=!0)),de=$c(H,Oe),0<de.length&&(Oe=new Ii(Oe,t,null,a,W),te.push({event:Oe,listeners:de}),Ie?Oe.data=Ie:(Ie=Ma(a),Ie!==null&&(Oe.data=Ie)))),(Ie=kn?VA(t,a):PA(t,a))&&(Oe=$c(H,"onBeforeInput"),0<Oe.length&&(de=new Ii("onBeforeInput","beforeinput",null,a,W),te.push({event:de,listeners:Oe}),de.data=Ie)),RS(te,t,H,a,W)}Av(te,r)})}function Vl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function $c(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(t,a),f!=null&&l.unshift(Vl(t,f,d)),f=ei(t,r),f!=null&&l.push(Vl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function xS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wv(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var A=a,x=A.alternate,H=A.stateNode;if(A=A.tag,x!==null&&x===l)break;A!==5&&A!==26&&A!==27||H===null||(x=H,f?(H=ei(a,d),H!=null&&_.unshift(Vl(a,H,x))):f||(H=ei(a,d),H!=null&&_.push(Vl(a,H,x)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var DS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function Rv(t){return(typeof t=="string"?t:""+t).replace(DS,`
`).replace(OS,"")}function Cv(t,r){return r=Rv(r),Rv(t)===r}function Je(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&cn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,a,l);break;case"style":Zo(t,l,d);break;case"data":if(r!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(t,r,"name",f.name,f,null),Je(t,r,"formEncType",f.formEncType,f,null),Je(t,r,"formMethod",f.formMethod,f,null),Je(t,r,"formTarget",f.formTarget,f,null)):(Je(t,r,"encType",f.encType,f,null),Je(t,r,"method",f.method,f,null),Je(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),wa(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$u.get(a)||a,wa(t,a,l))}}function dm(t,r,a,l,f,d){switch(a){case"style":Zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wa(t,a,l)}}}function Qt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,d,_,a,null)}}f&&Je(t,r,"srcSet",a.srcSet,a,null),l&&Je(t,r,"src",a.src,a,null);return;case"input":xe("invalid",t);var A=d=_=f=null,x=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":x=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Je(t,r,l,W,a,null)}}Ku(t,d,A,x,H,_,f,!1);return;case"select":xe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:Je(t,r,f,A,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Sr(t,!!l,r,!1):a!=null&&Sr(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Je(t,r,_,A,a,null)}wr(t,l,f,d);return;case"option":for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null)&&(x==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,r,x,l,a,null));return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)xe(Ml[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,H,l,a,null)}return;default:if(Ca(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&dm(t,r,W,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Je(t,r,A,l,a,null))}function MS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,x=null,H=null,W=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=te;default:l.hasOwnProperty(Q)||Je(t,r,Q,null,l,te)}}for(var q in l){var Q=l[q];if(te=a[q],l.hasOwnProperty(q)&&(Q!=null||te!=null))switch(q){case"type":d=Q;break;case"name":f=Q;break;case"checked":H=Q;break;case"defaultChecked":W=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==te&&Je(t,r,q,Q,l,te)}}Ra(t,_,A,x,H,W,d,f);return;case"select":Q=_=A=q=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Q=x;default:l.hasOwnProperty(d)||Je(t,r,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==x&&Je(t,r,f,d,l,x)}r=A,a=_,l=Q,q!=null?Sr(t,!!a,q,!1):!!l!=!!a&&(r!=null?Sr(t,!!a,r,!0):Sr(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Je(t,r,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,r,_,f,l,d)}Yu(t,q,Q);return;case"option":for(var fe in a)q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:Je(t,r,fe,null,l,q));for(x in l)q=l[x],Q=a[x],l.hasOwnProperty(x)&&q!==Q&&(q!=null||Q!=null)&&(x==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":Je(t,r,x,q,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)q=a[_e],a.hasOwnProperty(_e)&&q!=null&&!l.hasOwnProperty(_e)&&Je(t,r,_e,null,l,q);for(H in l)if(q=l[H],Q=a[H],l.hasOwnProperty(H)&&q!==Q&&(q!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:Je(t,r,H,q,l,Q)}return;default:if(Ca(r)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&dm(t,r,Ze,void 0,l,q);for(W in l)q=l[W],Q=a[W],!l.hasOwnProperty(W)||q===Q||q===void 0&&Q===void 0||dm(t,r,W,q,l,Q);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&Je(t,r,k,null,l,q);for(te in l)q=l[te],Q=a[te],!l.hasOwnProperty(te)||q===Q||q==null&&Q==null||Je(t,r,te,q,l,Q)}function Iv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&Iv(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var x=a[l],H=x.startTime;if(H>A)break;var W=x.transferSize,te=x.initiatorType;W&&Iv(te)&&(x=x.responseEnd,_+=W*(x<A?1:(A-H)/(x-H)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mm=null,pm=null;function Xc(t){return t.nodeType===9?t:t.ownerDocument}function Nv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function gm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ym=null;function PS(){var t=window.event;return t&&t.type==="popstate"?t===ym?!1:(ym=t,!0):(ym=null,!1)}var Dv=typeof setTimeout=="function"?setTimeout:void 0,LS=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,kS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(t){return Ov.resolve(null).then(t).catch(US)}:Dv;function US(t){setTimeout(function(){throw t})}function Qr(t){return t==="head"}function Mv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),lo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Pl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Pl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[_i]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Pl(t.ownerDocument.body);a=f}while(a);lo(r)}function Vv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function _m(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_m(a),Sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jS(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function zS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function Pv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=qn(t.nextSibling),t===null))return null;return t}function vm(t){return t.data==="$?"||t.data==="$~"}function Em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function BS(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Tm=null;function Lv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return qn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function kv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Uv(t,r,a){switch(r=Xc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Pl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Sa(t)}var Gn=new Map,jv=new Set;function Wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cr=oe.d;oe.d={f:HS,r:FS,D:qS,C:GS,L:KS,m:YS,X:$S,S:QS,M:XS};function HS(){var t=cr.f(),r=Hc();return t||r}function FS(t){var r=Vn(t);r!==null&&r.tag===5&&r.type==="form"?n_(r):cr.r(t)}var so=typeof document>"u"?null:document;function zv(t,r,a){var l=so;if(l&&typeof r=="string"&&r){var f=un(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),jv.has(f)||(jv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Qt(r,"link",t),wt(r),l.head.appendChild(r)))}}function qS(t){cr.D(t),zv("dns-prefetch",t,null)}function GS(t,r){cr.C(t,r),zv("preconnect",t,r)}function KS(t,r,a){cr.L(t,r,a);var l=so;if(l&&t&&r){var f='link[rel="preload"][as="'+un(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var d=f;switch(r){case"style":d=ao(t);break;case"script":d=oo(t)}Gn.has(d)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Gn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ll(d))||r==="script"&&l.querySelector(kl(d))||(r=l.createElement("link"),Qt(r,"link",t),wt(r),l.head.appendChild(r)))}}function YS(t,r){cr.m(t,r);var a=so;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(t)}if(!Gn.has(d)&&(t=b({rel:"modulepreload",href:t},r),Gn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Qt(l,"link",t),wt(l),a.head.appendChild(l)}}}function QS(t,r,a){cr.S(t,r,a);var l=so;if(l&&t){var f=Ei(l).hoistableStyles,d=ao(t);r=r||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Ll(d)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Gn.get(d))&&bm(t,a);var x=_=l.createElement("link");wt(x),Qt(x,"link",t),x._p=new Promise(function(H,W){x.onload=H,x.onerror=W}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Jc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function $S(t,r){cr.X(t,r);var a=so;if(a&&t){var l=Ei(a).hoistableScripts,f=oo(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=b({src:t,async:!0},r),(r=Gn.get(f))&&Am(t,r),d=a.createElement("script"),wt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function XS(t,r){cr.M(t,r);var a=so;if(a&&t){var l=Ei(a).hoistableScripts,f=oo(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=b({src:t,async:!0,type:"module"},r),(r=Gn.get(f))&&Am(t,r),d=a.createElement("script"),wt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Bv(t,r,a,l){var f=(f=Ce.current)?Wc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ao(a.href),a=Ei(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var d=Ei(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Ll(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),d||WS(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=oo(a),a=Ei(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ao(t){return'href="'+un(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function Hv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function WS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Qt(r,"link",a),wt(r),t.head.appendChild(r))}function oo(t){return'[src="'+un(t)+'"]'}function kl(t){return"script[async]"+t}function Fv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return r.instance=l,wt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Qt(l,"style",f),Jc(l,a.precedence,t),r.instance=l;case"stylesheet":f=ao(a.href);var d=t.querySelector(Ll(f));if(d)return r.state.loading|=4,r.instance=d,wt(d),d;l=Hv(a),(f=Gn.get(f))&&bm(l,f),d=(t.ownerDocument||t).createElement("link"),wt(d);var _=d;return _._p=new Promise(function(A,x){_.onload=A,_.onerror=x}),Qt(d,"link",l),r.state.loading|=4,Jc(d,a.precedence,t),r.instance=d;case"script":return d=oo(a.src),(f=t.querySelector(kl(d)))?(r.instance=f,wt(f),f):(l=a,(f=Gn.get(d))&&(l=b({},a),Am(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Qt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Jc(l,a.precedence,t));return r.instance}function Jc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===r)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function bm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Am(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Zc=null;function qv(t,r,a){if(Zc===null){var l=new Map,f=Zc=new Map;f.set(a,l)}else f=Zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[_i]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function Gv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function JS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Kv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ZS(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ao(l.href),d=r.querySelector(Ll(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=eh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=r.ownerDocument||r,l=Hv(l),(f=Gn.get(f))&&bm(l,f),d=d.createElement("link"),wt(d);var _=d;_._p=new Promise(function(A,x){_.onload=A,_.onerror=x}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=eh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Sm=0;function ew(t,r){return t.stylesheets&&t.count===0&&nh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Sm===0&&(Sm=62500*VS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Sm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var th=null;function nh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,th=new Map,r.forEach(tw,t),th=null,eh.call(t))}function tw(t,r){if(!(r.state.loading&4)){var a=th.get(t);if(a)var l=a.get(null);else{a=new Map,th.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=eh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Ul={$$typeof:X,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function nw(t,r,a,l,f,d,_,A,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Yv(t,r,a,l,f,d,_,A,x,H,W,te){return t=new nw(t,r,a,_,x,H,W,te,A),r=1,d===!0&&(r|=24),d=Sn(3,null,null,r),t.current=d,d.stateNode=t,r=id(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},od(d),t}function Qv(t){return t?(t=Ua,t):Ua}function $v(t,r,a,l,f,d){f=Qv(f),l.context===null?l.context=f:l.pendingContext=f,l=kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,r),a!==null&&(pn(a,t,r),gl(a,t,r))}function Xv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function wm(t,r){Xv(t,r),(t=t.alternate)&&Xv(t,r)}function Wv(t){if(t.tag===13||t.tag===31){var r=Hs(t,67108864);r!==null&&pn(r,t,67108864),wm(t,67108864)}}function Jv(t){if(t.tag===13||t.tag===31){var r=Nn();r=xs(r);var a=Hs(t,r);a!==null&&pn(a,t,r),wm(t,r)}}var ih=!0;function iw(t,r,a,l){var f=J.T;J.T=null;var d=oe.p;try{oe.p=2,Rm(t,r,a,l)}finally{oe.p=d,J.T=f}}function rw(t,r,a,l){var f=J.T;J.T=null;var d=oe.p;try{oe.p=8,Rm(t,r,a,l)}finally{oe.p=d,J.T=f}}function Rm(t,r,a,l){if(ih){var f=Cm(l);if(f===null)fm(t,r,l,rh,a),eE(t,l);else if(aw(f,t,r,a,l))l.stopPropagation();else if(eE(t,l),r&4&&-1<sw.indexOf(t)){for(;f!==null;){var d=Vn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=mi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var x=1<<31-yt(_);A.entanglements[1]|=x,_&=~x}Mi(d),(qe&6)===0&&(zc=sn()+500,Ol(0))}}break;case 31:case 13:A=Hs(d,2),A!==null&&pn(A,d,2),Hc(),wm(d,2)}if(d=Cm(l),d===null&&fm(t,r,l,rh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else fm(t,r,l,null,a)}}function Cm(t){return t=Pn(t),Im(t)}var rh=null;function Im(t){if(rh=null,t=vi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return rh=t,null}function Zv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case Bo:return 2;case Ho:return 8;case br:case Vf:return 32;case Lu:return 268435456;default:return 32}default:return 32}}var Nm=!1,$r=null,Xr=null,Wr=null,jl=new Map,zl=new Map,Jr=[],sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eE(t,r){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":jl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(r.pointerId)}}function Bl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Vn(r),r!==null&&Wv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function aw(t,r,a,l,f){switch(r){case"focusin":return $r=Bl($r,t,r,a,l,f),!0;case"dragenter":return Xr=Bl(Xr,t,r,a,l,f),!0;case"mouseover":return Wr=Bl(Wr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return jl.set(d,Bl(jl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,zl.set(d,Bl(zl.get(d)||null,t,r,a,l,f)),!0}return!1}function tE(t){var r=vi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Wn(t.priority,function(){Jv(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Wn(t.priority,function(){Jv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);el=l,a.target.dispatchEvent(l),el=null}else return r=Vn(a),r!==null&&Wv(r),t.blockedOn=a,!1;r.shift()}return!0}function nE(t,r,a){sh(t)&&a.delete(r)}function ow(){Nm=!1,$r!==null&&sh($r)&&($r=null),Xr!==null&&sh(Xr)&&(Xr=null),Wr!==null&&sh(Wr)&&(Wr=null),jl.forEach(nE),zl.forEach(nE)}function ah(t,r){t.blockedOn===r&&(t.blockedOn=null,Nm||(Nm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ow)))}var oh=null;function iE(t){oh!==t&&(oh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){oh===t&&(oh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Im(l||a)===null)continue;break}var d=Vn(a);d!==null&&(t.splice(r,3),r-=3,Cd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function lo(t){function r(x){return ah(x,t)}$r!==null&&ah($r,t),Xr!==null&&ah(Xr,t),Wr!==null&&ah(Wr,t),jl.forEach(r),zl.forEach(r);for(var a=0;a<Jr.length;a++){var l=Jr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)tE(a),a.blockedOn===null&&Jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[jt]||null;if(typeof d=="function")_||iE(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[jt]||null)A=_.formAction;else if(Im(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),iE(a)}}}function rE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function xm(t){this._internalRoot=t}lh.prototype.render=xm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Nn();$v(a,l,t,r,null,null)},lh.prototype.unmount=xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;$v(t.current,2,null,t,null,null),Hc(),r[yi]=null}};function lh(t){this._internalRoot=t}lh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Hu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Jr.length&&r!==0&&r<Jr[a].priority;a++);Jr.splice(a,0,t),a===0&&tE(t)}};var sE=e.version;if(sE!=="19.2.3")throw Error(s(527,sE,"19.2.3"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var lw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{$n=uh.inject(lw),Ft=uh}catch{}}return Fl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=f_,d=d_,_=m_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Yv(t,1,!1,null,null,a,l,null,f,d,_,rE),t[yi]=r.current,hm(t),new xm(r)},Fl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=f_,_=d_,A=m_,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),r=Yv(t,1,!0,r,a??null,l,f,x,d,_,A,rE),r.context=Qv(null),a=r.current,l=Nn(),l=xs(l),f=kr(l),f.callback=null,Ur(a,f,l),a=l,r.current.lanes=a,Is(r,a),Mi(r),t[yi]=r.current,hm(t),new lh(r)},Fl.version="19.2.3",Fl}var pE;function vw(){if(pE)return Mm.exports;pE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Mm.exports=_w(),Mm.exports}var Ew=vw();var gE="popstate";function Tw(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return np("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:au(o)}return Aw(e,n,null,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bw(){return Math.random().toString(36).substring(2,10)}function yE(i,e){return{usr:i.state,key:i.key,idx:e}}function np(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?No(e):e,state:n,key:e&&e.key||s||bw()}}function au({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function No(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Aw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=T();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function T(){return(h.state||{idx:null}).idx}function b(){m="POP";let O=T(),$=O==null?null:O-p;p=O,g&&g({action:m,location:G.location,delta:$})}function w(O,$){m="PUSH";let F=np(G.location,O,$);p=T()+1;let X=yE(F,p),re=G.createHref(F);try{h.pushState(X,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(re)}u&&g&&g({action:m,location:G.location,delta:1})}function D(O,$){m="REPLACE";let F=np(G.location,O,$);p=T();let X=yE(F,p),re=G.createHref(F);h.replaceState(X,"",re),u&&g&&g({action:m,location:G.location,delta:0})}function K(O){return Sw(O)}let G={get action(){return m},get location(){return i(o,h)},listen(O){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(gE,b),g=O,()=>{o.removeEventListener(gE,b),g=null}},createHref(O){return e(o,O)},createURL:K,encodeLocation(O){let $=K(O);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:D,go(O){return h.go(O)}};return G}function Sw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:au(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function hT(i,e,n="/"){return ww(i,e,n,!1)}function ww(i,e,n,s){let o=typeof e=="string"?No(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let h=fT(i);Rw(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=kw(u);m=Pw(h[g],p,s)}return m}function fT(i,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let T={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&g)return;ct(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=dr([s,T.relativePath]),w=n.concat(T);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),fT(h.children,e,w,b,g)),!(h.path==null&&!h.index)&&e.push({path:b,score:Mw(b,h.index),routesMeta:w})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of dT(h.path))u(h,m,!0,g)}),e}function dT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=dT(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Rw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Vw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Cw=/^:[\w-]+$/,Iw=3,Nw=2,xw=1,Dw=10,Ow=-2,_E=i=>i==="*";function Mw(i,e){let n=i.split("/"),s=n.length;return n.some(_E)&&(s+=Ow),e&&(s+=Nw),n.filter(o=>!_E(o)).reduce((o,u)=>o+(Cw.test(u)?Iw:u===""?xw:Dw),s)}function Vw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Pw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=Oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},T),w=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:dr([u,b.pathname]),pathnameBase:Bw(dr([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=dr([u,b.pathnameBase]))}return h}function Oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Lw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:b},w)=>{if(T==="*"){let K=m[w]||"";h=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const D=m[w];return b&&!D?p[T]=void 0:p[T]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:i}}function Lw(i,e=!1,n=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function kw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function pr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var mT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uw=i=>mT.test(i);function jw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?No(i):i,u;if(n)if(Uw(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=vE(n.substring(1),"/"):u=vE(n,e)}else u=e;return{pathname:u,search:Hw(s),hash:Fw(o)}}function vE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function km(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Op(i){let e=zw(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Mp(i,e,n,s=!1){let o;typeof i=="string"?o=No(i):(o={...i},ct(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let g=jw(o,m),p=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||T)&&(g.pathname+="/"),g}var dr=i=>i.join("/").replace(/\/\/+/g,"/"),Bw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Hw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Fw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,qw=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Gw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Kw(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gT(i,e){let n=i;if(typeof n!="string"||!mT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(pT)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=pr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yT=["POST","PUT","PATCH","DELETE"];new Set(yT);var Yw=["GET",...yT];new Set(Yw);var xo=j.createContext(null);xo.displayName="DataRouter";var sf=j.createContext(null);sf.displayName="DataRouterState";var Qw=j.createContext(!1),_T=j.createContext({isTransitioning:!1});_T.displayName="ViewTransition";var $w=j.createContext(new Map);$w.displayName="Fetchers";var Xw=j.createContext(null);Xw.displayName="Await";var On=j.createContext(null);On.displayName="Navigation";var _u=j.createContext(null);_u.displayName="Location";var hi=j.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Vp=j.createContext(null);Vp.displayName="RouteError";var vT="REACT_ROUTER_ERROR",Ww="REDIRECT",Jw="ROUTE_ERROR_RESPONSE";function Zw(i){if(i.startsWith(`${vT}:${Ww}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function eR(i){if(i.startsWith(`${vT}:${Jw}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new qw(e.status,e.statusText,e.data)}catch{}}function tR(i,{relative:e}={}){ct(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(On),{hash:o,pathname:u,search:h}=Eu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:dr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Do(){return j.useContext(_u)!=null}function vs(){return ct(Do(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(_u).location}var ET="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TT(i){j.useContext(On).static||j.useLayoutEffect(i)}function vu(){let{isDataRoute:i}=j.useContext(hi);return i?pR():nR()}function nR(){ct(Do(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(xo),{basename:e,navigator:n}=j.useContext(On),{matches:s}=j.useContext(hi),{pathname:o}=vs(),u=JSON.stringify(Op(s)),h=j.useRef(!1);return TT(()=>{h.current=!0}),j.useCallback((g,p={})=>{if(Qn(h.current,ET),!h.current)return;if(typeof g=="number"){n.go(g);return}let T=Mp(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:dr([e,T.pathname])),(p.replace?n.replace:n.push)(T,p.state,p)},[e,n,u,o,i])}j.createContext(null);function iR(){let{matches:i}=j.useContext(hi),e=i[i.length-1];return e?e.params:{}}function Eu(i,{relative:e}={}){let{matches:n}=j.useContext(hi),{pathname:s}=vs(),o=JSON.stringify(Op(n));return j.useMemo(()=>Mp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function rR(i,e){return bT(i,e)}function bT(i,e,n,s,o){ct(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(On),{matches:h}=j.useContext(hi),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let F=b&&b.path||"";ST(p,!b||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=vs(),D;if(e){let F=typeof e=="string"?No(e):e;ct(T==="/"||F.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${F.pathname}" was given in the \`location\` prop.`),D=F}else D=w;let K=D.pathname||"/",G=K;if(T!=="/"){let F=T.replace(/^\//,"").split("/");G="/"+K.replace(/^\//,"").split("/").slice(F.length).join("/")}let O=hT(i,{pathname:G});Qn(b||O!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Qn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=uR(O&&O.map(F=>Object.assign({},F,{params:Object.assign({},g,F.params),pathname:dr([T,u.encodeLocation?u.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?T:dr([T,u.encodeLocation?u.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),h,n,s,o);return e&&$?j.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},$):$}function sR(){let i=mR(),e=Gw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,h)}var aR=j.createElement(sR,null),AT=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=eR(i.digest);n&&(i=n)}let e=i!==void 0?j.createElement(hi.Provider,{value:this.props.routeContext},j.createElement(Vp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?j.createElement(oR,{error:i},e):e}};AT.contextType=Qw;var Um=new WeakMap;function oR({children:i,error:e}){let{basename:n}=j.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Zw(e.digest);if(s){let o=Um.get(e);if(o)throw o;let u=gT(s.location,n);if(pT&&!Um.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Um.set(e,h),h}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function lR({routeContext:i,match:e,children:n}){let s=j.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(hi.Provider,{value:i},n)}function uR(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let T=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ct(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,g=-1;if(n)for(let T=0;T<u.length;T++){let b=u[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=T),b.route.id){let{loaderData:w,errors:D}=n,K=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!D||D[b.route.id]===void 0);if(b.route.lazy||K){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let p=n&&s?(T,b)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Kw(n.matches),errorInfo:b})}:void 0;return u.reduceRight((T,b,w)=>{let D,K=!1,G=null,O=null;n&&(D=h&&b.route.id?h[b.route.id]:void 0,G=b.route.errorElement||aR,m&&(g<0&&w===0?(ST("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,O=null):g===w&&(K=!0,O=b.route.hydrateFallbackElement||null)));let $=e.concat(u.slice(0,w+1)),F=()=>{let X;return D?X=G:K?X=O:b.route.Component?X=j.createElement(b.route.Component,null):b.route.element?X=b.route.element:X=T,j.createElement(lR,{match:b,routeContext:{outlet:T,matches:$,isDataRoute:n!=null},children:X})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?j.createElement(AT,{location:n.location,revalidation:n.revalidation,component:G,error:D,children:F(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:p}):F()},null)}function Pp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cR(i){let e=j.useContext(xo);return ct(e,Pp(i)),e}function hR(i){let e=j.useContext(sf);return ct(e,Pp(i)),e}function fR(i){let e=j.useContext(hi);return ct(e,Pp(i)),e}function Lp(i){let e=fR(i),n=e.matches[e.matches.length-1];return ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function dR(){return Lp("useRouteId")}function mR(){let i=j.useContext(Vp),e=hR("useRouteError"),n=Lp("useRouteError");return i!==void 0?i:e.errors?.[n]}function pR(){let{router:i}=cR("useNavigate"),e=Lp("useNavigate"),n=j.useRef(!1);return TT(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Qn(n.current,ET),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var EE={};function ST(i,e,n){!e&&!EE[i]&&(EE[i]=!0,Qn(!1,n))}j.memo(gR);function gR({routes:i,future:e,state:n,onError:s}){return bT(i,void 0,n,s,e)}function yR({to:i,replace:e,state:n,relative:s}){ct(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(On);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(hi),{pathname:h}=vs(),m=vu(),g=Mp(i,Op(u),h,s==="path"),p=JSON.stringify(g);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function Vi(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _R({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ct(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=No(n));let{pathname:p="/",search:T="",hash:b="",state:w=null,key:D="default"}=n,K=j.useMemo(()=>{let G=pr(p,m);return G==null?null:{location:{pathname:G,search:T,hash:b,state:w,key:D},navigationType:s}},[m,p,T,b,w,D,s]);return Qn(K!=null,`<Router basename="${m}"> is not able to match the URL "${p}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:j.createElement(On.Provider,{value:g},j.createElement(_u.Provider,{children:e,value:K}))}function vR({children:i,location:e}){return rR(ip(i),e)}function ip(i,e=[]){let n=[];return j.Children.forEach(i,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,ip(s.props.children,u));return}ct(s.type===Vi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ip(s.props.children,u)),n.push(h)}),n}var vh="get",Eh="application/x-www-form-urlencoded";function af(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function ER(i){return af(i)&&i.tagName.toLowerCase()==="button"}function TR(i){return af(i)&&i.tagName.toLowerCase()==="form"}function bR(i){return af(i)&&i.tagName.toLowerCase()==="input"}function AR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function SR(i,e){return i.button===0&&(!e||e==="_self")&&!AR(i)}var ch=null;function wR(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var RR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(i){return i!=null&&!RR.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):i}function CR(i,e){let n,s,o,u,h;if(TR(i)){let m=i.getAttribute("action");s=m?pr(m,e):null,n=i.getAttribute("method")||vh,o=jm(i.getAttribute("enctype"))||Eh,u=new FormData(i)}else if(ER(i)||bR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?pr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||vh,o=jm(i.getAttribute("formenctype"))||jm(m.getAttribute("enctype"))||Eh,u=new FormData(m,i),!wR()){let{name:p,type:T,value:b}=i;if(T==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,b)}}else{if(af(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vh,s=null,o=Eh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function IR(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&pr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function NR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function DR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await NR(u,n);return h.links?h.links():[]}return[]}));return PR(s.flat(1).filter(xR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function TE(i,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function OR(i,e,{includeHydrateFallback:n}={}){return MR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function MR(i){return[...new Set(i)]}function VR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function PR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(VR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function wT(){let i=j.useContext(xo);return kp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function LR(){let i=j.useContext(sf);return kp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Up=j.createContext(void 0);Up.displayName="FrameworkContext";function RT(){let i=j.useContext(Up);return kp(i,"You must render this element inside a <HydratedRouter> element"),i}function kR(i,e){let n=j.useContext(Up),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:T,onTouchStart:b}=e,w=j.useRef(null);j.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let G=$=>{$.forEach(F=>{h(F.isIntersecting)})},O=new IntersectionObserver(G,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[i]),j.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let D=()=>{o(!0)},K=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:ql(m,D),onBlur:ql(g,K),onMouseEnter:ql(p,D),onMouseLeave:ql(T,K),onTouchStart:ql(b,D)}]:[!1,w,{}]}function ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function UR({page:i,...e}){let{router:n}=wT(),s=j.useMemo(()=>hT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?j.createElement(zR,{page:i,matches:s,...e}):null}function jR(i){let{manifest:e,routeModules:n}=RT(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return DR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function zR({page:i,matches:e,...n}){let s=vs(),{future:o,manifest:u,routeModules:h}=RT(),{basename:m}=wT(),{loaderData:g,matches:p}=LR(),T=j.useMemo(()=>TE(i,e,p,u,s,"data"),[i,e,p,u,s]),b=j.useMemo(()=>TE(i,e,p,u,s,"assets"),[i,e,p,u,s]),w=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let G=new Set,O=!1;if(e.forEach(F=>{let X=u.routes[F.route.id];!X||!X.hasLoader||(!T.some(re=>re.route.id===F.route.id)&&F.route.id in g&&h[F.route.id]?.shouldRevalidate||X.hasClientLoader?O=!0:G.add(F.route.id))}),G.size===0)return[];let $=IR(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return O&&G.size>0&&$.searchParams.set("_routes",e.filter(F=>G.has(F.route.id)).map(F=>F.route.id).join(",")),[$.pathname+$.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,T,e,i,h]),D=j.useMemo(()=>OR(b,u),[b,u]),K=jR(b);return j.createElement(j.Fragment,null,w.map(G=>j.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),D.map(G=>j.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),K.map(({key:G,link:O})=>j.createElement("link",{key:G,nonce:n.nonce,...O})))}function BR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HR&&(window.__reactRouterVersion="7.12.0")}catch{}function FR({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=Tw({window:s,v5Compat:!0}));let u=o.current,[h,m]=j.useState({action:u.action,location:u.location}),g=j.useCallback(p=>{n===!1?m(p):j.startTransition(()=>m(p))},[n]);return j.useLayoutEffect(()=>u.listen(g),[u,g]),j.createElement(_R,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var CT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IT=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:w,...D},K){let{basename:G,unstable_useTransitions:O}=j.useContext(On),$=typeof p=="string"&&CT.test(p),F=gT(p,G);p=F.to;let X=tR(p,{relative:o}),[re,ae,ge]=kR(s,D),I=KR(p,{replace:h,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:O});function R(L){e&&e(L),L.defaultPrevented||I(L)}let C=j.createElement("a",{...D,...ge,href:F.absoluteURL||X,onClick:F.isExternal||u?e:R,ref:BR(K,ae),target:g,"data-discover":!$&&n==="render"?"true":void 0});return re&&!$?j.createElement(j.Fragment,null,C,j.createElement(UR,{page:X})):C});IT.displayName="Link";var NT=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},T){let b=Eu(h,{relative:p.relative}),w=vs(),D=j.useContext(sf),{navigator:K,basename:G}=j.useContext(On),O=D!=null&&WR(b)&&m===!0,$=K.encodeLocation?K.encodeLocation(b).pathname:b.pathname,F=w.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(F=F.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&G&&(X=pr(X,G)||X);const re=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ae=F===$||!o&&F.startsWith($)&&F.charAt(re)==="/",ge=X!=null&&(X===$||!o&&X.startsWith($)&&X.charAt($.length)==="/"),I={isActive:ae,isPending:ge,isTransitioning:O},R=ae?e:void 0,C;typeof s=="function"?C=s(I):C=[s,ae?"active":null,ge?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(I):u;return j.createElement(IT,{...p,"aria-current":R,className:C,ref:T,style:L,to:h,viewTransition:m},typeof g=="function"?g(I):g)});NT.displayName="NavLink";var qR=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=vh,action:m,onSubmit:g,relative:p,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:w,...D},K)=>{let{unstable_useTransitions:G}=j.useContext(On),O=$R(),$=XR(m,{relative:p}),F=h.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&CT.test(m),re=ae=>{if(g&&g(ae),ae.defaultPrevented)return;ae.preventDefault();let ge=ae.nativeEvent.submitter,I=ge?.getAttribute("formmethod")||h,R=()=>O(ge||ae.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:p,preventScrollReset:T,viewTransition:b,unstable_defaultShouldRevalidate:w});G&&n!==!1?j.startTransition(()=>R()):R()};return j.createElement("form",{ref:K,method:F,action:$,onSubmit:s?g:re,...D,"data-discover":!X&&i==="render"?"true":void 0})});qR.displayName="Form";function GR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xT(i){let e=j.useContext(xo);return ct(e,GR(i)),e}function KR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=vu(),T=vs(),b=Eu(i,{relative:u});return j.useCallback(w=>{if(SR(w,e)){w.preventDefault();let D=n!==void 0?n:au(T)===au(b),K=()=>p(i,{replace:D,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});g?j.startTransition(()=>K()):K()}},[T,p,b,n,s,e,i,o,u,h,m,g])}var YR=0,QR=()=>`__${String(++YR)}__`;function $R(){let{router:i}=xT("useSubmit"),{basename:e}=j.useContext(On),n=dR(),s=i.fetch,o=i.navigate;return j.useCallback(async(u,h={})=>{let{action:m,method:g,encType:p,formData:T,body:b}=CR(u,e);if(h.navigate===!1){let w=h.fetcherKey||QR();await s(w,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:b,formMethod:h.method||g,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:T,body:b,formMethod:h.method||g,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function XR(i,{relative:e}={}){let{basename:n}=j.useContext(On),s=j.useContext(hi);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Eu(i||".",{relative:e})},h=vs();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:dr([n,u.pathname])),au(u)}function WR(i,{relative:e}={}){let n=j.useContext(_T);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xT("useViewTransitionState"),o=Eu(i,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Oh(o.pathname,h)!=null||Oh(o.pathname,u)!=null}const JR=()=>{};var bE={};const DT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ZR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|p>>6,D=p&63;g||(D=64,h||(w=64)),s.push(n[T],n[b],n[w],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(DT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ZR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new e2;const w=u<<2|m>>4;if(s.push(w),p!==64){const D=m<<4&240|p>>2;if(s.push(D),b!==64){const K=p<<6&192|b;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class e2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t2=function(i){const e=DT(i);return OT.encodeByteArray(e,!0)},Mh=function(i){return t2(i).replace(/\./g,"")},MT=function(i){try{return OT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function n2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const i2=()=>n2().__FIREBASE_DEFAULTS__,r2=()=>{if(typeof process>"u"||typeof bE>"u")return;const i=bE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},s2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&MT(i[1]);return e&&JSON.parse(e)},of=()=>{try{return JR()||i2()||r2()||s2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},VT=i=>of()?.emulatorHosts?.[i],PT=i=>{const e=VT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},LT=()=>of()?.config,kT=i=>of()?.[`_${i}`];class a2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Es(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jp(i){return(await fetch(i,{credentials:"include"})).ok}function UT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Mh(JSON.stringify(n)),Mh(JSON.stringify(h)),""].join(".")}const Zl={};function o2(){const i={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?i.emulator.push(e):i.prod.push(e);return i}function l2(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let AE=!1;function zp(i,e){if(typeof window>"u"||typeof document>"u"||!Es(window.location.host)||Zl[i]===e||Zl[i]||AE)return;Zl[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=o2().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{AE=!0,h()},w}function T(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=l2(s),D=n("text"),K=document.getElementById(D)||document.createElement("span"),G=n("learnmore"),O=document.getElementById(G)||document.createElement("a"),$=n("preprendIcon"),F=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const X=w.element;m(X),T(O,G);const re=p();g(F,$),X.append(F,K,O,re),document.body.appendChild(X)}u?(K.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function c2(){const i=of()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function d2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m2(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function p2(){return!c2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g2(){try{return typeof indexedDB=="object"}catch{return!1}}function y2(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const _2="FirebaseError";class Gi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=_2,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?v2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Gi(o,m,s)}}function v2(i,e){return i.replace(E2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const E2=/\{\$([^}]+)}/g;function T2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function oa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(SE(u)&&SE(h)){if(!oa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function SE(i){return i!==null&&typeof i=="object"}function bu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Yl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ql(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function b2(i,e){const n=new A2(i,e);return n.subscribe.bind(n)}class A2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");S2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=zm),o.error===void 0&&(o.error=zm),o.complete===void 0&&(o.complete=zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function zm(){}function st(i){return i&&i._delegate?i._delegate:i}class fs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class w2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new a2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C2(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:R2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R2(i){return i===ta?void 0:i}function C2(i){return i.instantiationMode==="EAGER"}class I2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const N2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},x2=Me.INFO,D2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},O2=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=D2[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bp{constructor(e){this.name=e,this._logLevel=x2,this._logHandler=O2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const M2=(i,e)=>e.some(n=>i instanceof n);let wE,RE;function V2(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P2(){return RE||(RE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jT=new WeakMap,rp=new WeakMap,zT=new WeakMap,Bm=new WeakMap,Hp=new WeakMap;function L2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(os(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&jT.set(n,i)}).catch(()=>{}),Hp.set(e,i),e}function k2(i){if(rp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});rp.set(i,e)}let sp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return rp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||zT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function U2(i){sp=i(sp)}function j2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Hm(this),e,...n);return zT.set(s,e.sort?e.sort():[e]),os(s)}:P2().includes(i)?function(...e){return i.apply(Hm(this),e),os(jT.get(this))}:function(...e){return os(i.apply(Hm(this),e))}}function z2(i){return typeof i=="function"?j2(i):(i instanceof IDBTransaction&&k2(i),M2(i,V2())?new Proxy(i,sp):i)}function os(i){if(i instanceof IDBRequest)return L2(i);if(Bm.has(i))return Bm.get(i);const e=z2(i);return e!==i&&(Bm.set(i,e),Hp.set(e,i)),e}const Hm=i=>Hp.get(i);function B2(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=os(h);return s&&h.addEventListener("upgradeneeded",g=>{s(os(h.result),g.oldVersion,g.newVersion,os(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const H2=["get","getKey","getAll","getAllKeys","count"],F2=["put","add","delete","clear"],Fm=new Map;function CE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=F2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||H2.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Fm.set(e,u),u}U2(i=>({...i,get:(e,n,s)=>CE(e,n)||i.get(e,n,s),has:(e,n)=>!!CE(e,n)||i.has(e,n)}));class q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function G2(i){return i.getComponent()?.type==="VERSION"}const ap="@firebase/app",IE="0.14.7";const gr=new Bp("@firebase/app"),K2="@firebase/app-compat",Y2="@firebase/analytics-compat",Q2="@firebase/analytics",$2="@firebase/app-check-compat",X2="@firebase/app-check",W2="@firebase/auth",J2="@firebase/auth-compat",Z2="@firebase/database",eC="@firebase/data-connect",tC="@firebase/database-compat",nC="@firebase/functions",iC="@firebase/functions-compat",rC="@firebase/installations",sC="@firebase/installations-compat",aC="@firebase/messaging",oC="@firebase/messaging-compat",lC="@firebase/performance",uC="@firebase/performance-compat",cC="@firebase/remote-config",hC="@firebase/remote-config-compat",fC="@firebase/storage",dC="@firebase/storage-compat",mC="@firebase/firestore",pC="@firebase/ai",gC="@firebase/firestore-compat",yC="firebase",_C="12.8.0";const op="[DEFAULT]",vC={[ap]:"fire-core",[K2]:"fire-core-compat",[Q2]:"fire-analytics",[Y2]:"fire-analytics-compat",[X2]:"fire-app-check",[$2]:"fire-app-check-compat",[W2]:"fire-auth",[J2]:"fire-auth-compat",[Z2]:"fire-rtdb",[eC]:"fire-data-connect",[tC]:"fire-rtdb-compat",[nC]:"fire-fn",[iC]:"fire-fn-compat",[rC]:"fire-iid",[sC]:"fire-iid-compat",[aC]:"fire-fcm",[oC]:"fire-fcm-compat",[lC]:"fire-perf",[uC]:"fire-perf-compat",[cC]:"fire-rc",[hC]:"fire-rc-compat",[fC]:"fire-gcs",[dC]:"fire-gcs-compat",[mC]:"fire-fst",[gC]:"fire-fst-compat",[pC]:"fire-vertex","fire-js":"fire-js",[yC]:"fire-js-all"};const Vh=new Map,EC=new Map,lp=new Map;function NE(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function la(i){const e=i.name;if(lp.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,i);for(const n of Vh.values())NE(n,i);for(const n of EC.values())NE(n,i);return!0}function lf(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Kn(i){return i==null?!1:i.settings!==void 0}const TC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Tu("app","Firebase",TC);class bC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const ma=_C;function BT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:op,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=LT()),!n)throw ls.create("no-options");const u=Vh.get(o);if(u){if(oa(n,u.options)&&oa(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const h=new I2(o);for(const g of lp.values())h.addComponent(g);const m=new bC(n,s,h);return Vh.set(o,m),m}function Fp(i=op){const e=Vh.get(i);if(!e&&i===op&&LT())return BT();if(!e)throw ls.create("no-app",{appName:i});return e}function ki(i,e,n){let s=vC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(h.join(" "));return}la(new fs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const AC="firebase-heartbeat-database",SC=1,ou="firebase-heartbeat-store";let qm=null;function HT(){return qm||(qm=B2(AC,SC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(i=>{throw ls.create("idb-open",{originalErrorMessage:i.message})})),qm}async function wC(i){try{const n=(await HT()).transaction(ou),s=await n.objectStore(ou).get(FT(i));return await n.done,s}catch(e){if(e instanceof Gi)gr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function xE(i,e){try{const s=(await HT()).transaction(ou,"readwrite");await s.objectStore(ou).put(e,FT(i)),await s.done}catch(n){if(n instanceof Gi)gr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function FT(i){return`${i.name}!${i.options.appId}`}const RC=1024,CC=30;class IC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>CC){const o=DC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DE(),{heartbeatsToSend:n,unsentEntries:s}=NC(this._heartbeatsCache.heartbeats),o=Mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gr.warn(e),""}}}function DE(){return new Date().toISOString().substring(0,10)}function NC(i,e=RC){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),OE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),OE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g2()?y2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function OE(i){return Mh(JSON.stringify({version:2,heartbeats:i})).length}function DC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function OC(i){la(new fs("platform-logger",e=>new q2(e),"PRIVATE")),la(new fs("heartbeat",e=>new IC(e),"PRIVATE")),ki(ap,IE,i),ki(ap,IE,"esm2020"),ki("fire-js","")}OC("");function qT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MC=qT,GT=new Tu("auth","Firebase",qT());const Ph=new Bp("@firebase/auth");function VC(i,...e){Ph.logLevel<=Me.WARN&&Ph.warn(`Auth (${ma}): ${i}`,...e)}function Th(i,...e){Ph.logLevel<=Me.ERROR&&Ph.error(`Auth (${ma}): ${i}`,...e)}function ui(i,...e){throw qp(i,...e)}function Ui(i,...e){return qp(i,...e)}function KT(i,e,n){const s={...MC(),[e]:n};return new Tu("auth","Firebase",s).create(e,{appName:i.name})}function us(i){return KT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return GT.create(i,...e)}function ve(i,e,...n){if(!i)throw qp(e,...n)}function hr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Th(e),new Error(e)}function yr(i,e){i||hr(e)}function up(){return typeof self<"u"&&self.location?.href||""}function PC(){return ME()==="http:"||ME()==="https:"}function ME(){return typeof self<"u"&&self.location?.protocol||null}function LC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PC()||f2()||"connection"in navigator)?navigator.onLine:!0}function kC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=u2()||d2()}get(){return LC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gp(i,e){yr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class YT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const UC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zC=new Au(3e4,6e4);function pa(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ts(i,e,n,s,o={}){return QT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=bu({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return h2()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&Es(i.emulatorConfig.host)&&(p.credentials="include"),YT.fetch()(await $T(i,i.config.apiHost,n,m),p)})}async function QT(i,e,n){i._canInitEmulator=!1;const s={...UC,...e};try{const o=new HC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw hh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw hh(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw hh(i,"user-disabled",h);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw KT(i,T,p);ui(i,T)}}catch(o){if(o instanceof Gi)throw o;ui(i,"network-request-failed",{message:String(o)})}}async function uf(i,e,n,s,o={}){const u=await Ts(i,e,n,s,o);return"mfaPendingCredential"in u&&ui(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function $T(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Gp(i.config,o):`${i.config.apiScheme}://${o}`;return jC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function BC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ui(this.auth,"network-request-failed")),zC.get())})}}function hh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ui(i,e,s);return o.customData._tokenResponse=n,o}function VE(i){return i!==void 0&&i.enterprise!==void 0}class FC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qC(i,e){return Ts(i,"GET","/v2/recaptchaConfig",pa(i,e))}async function GC(i,e){return Ts(i,"POST","/v1/accounts:delete",e)}async function Lh(i,e){return Ts(i,"POST","/v1/accounts:lookup",e)}function eu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KC(i,e=!1){const n=st(i),s=await n.getIdToken(e),o=Kp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:eu(Gm(o.auth_time)),issuedAtTime:eu(Gm(o.iat)),expirationTime:eu(Gm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Gm(i){return Number(i)*1e3}function Kp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const o=MT(n);return o?JSON.parse(o):(Th("Failed to decode base64 JWT payload"),null)}catch(o){return Th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function PE(i){const e=Kp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function lu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Gi&&YC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function YC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class QC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kh(i){const e=i.auth,n=await i.getIdToken(),s=await lu(i,Lh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?XT(o.providerUserInfo):[],h=XC(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,p=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,T)}async function $C(i){const e=st(i);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function XT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function WC(i,e){const n=await QT(i,{},async()=>{const s=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await $T(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&Es(i.emulatorConfig.host)&&(g.credentials="include"),YT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JC(i,e){return Ts(i,"POST","/v2/accounts:revokeToken",pa(i,e))}class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=PE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await WC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new po;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return hr("not implemented")}}function es(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new QC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KC(this,e)}reload(){return $C(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await lu(this,GC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:D,providerData:K,stsTokenManager:G}=n;ve(b&&G,e,"internal-error");const O=po.fromJSON(this.name,G);ve(typeof b=="string",e,"internal-error"),es(s,e.name),es(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof D=="boolean",e,"internal-error"),es(u,e.name),es(h,e.name),es(m,e.name),es(g,e.name),es(p,e.name),es(T,e.name);const $=new oi({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:D,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:O,createdAt:p,lastLoginAt:T});return K&&Array.isArray(K)&&($.providerData=K.map(F=>({...F}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new po;o.updateFromServerResponse(n);const u=new oi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await kh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?XT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new po;m.updateFromIdToken(s);const g=new oi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}const LE=new Map;function fr(i){yr(i instanceof Function,"Expected a class definition");let e=LE.get(i);return e?(yr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,LE.set(i,e),e)}class WT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WT.type="NONE";const kE=WT;function bh(i,e,n){return`firebase:${i}:${e}:${n}`}class go{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,u),this.fullPersistenceKey=bh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lh(this.auth,{idToken:e}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new go(fr(kE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||fr(kE);const h=bh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(h);if(T){let b;if(typeof T=="string"){const w=await Lh(e,{idToken:T}).catch(()=>{});if(!w)break;b=await oi._fromGetAccountInfoResponse(e,w,T)}else b=oi._fromJSON(e,T);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new go(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new go(u,e,s))}}function UE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i1(e))return"Blackberry";if(r1(e))return"Webos";if(ZT(e))return"Safari";if((e.includes("chrome/")||e1(e))&&!e.includes("edge/"))return"Chrome";if(n1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function JT(i=rn()){return/firefox\//i.test(i)}function ZT(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e1(i=rn()){return/crios\//i.test(i)}function t1(i=rn()){return/iemobile/i.test(i)}function n1(i=rn()){return/android/i.test(i)}function i1(i=rn()){return/blackberry/i.test(i)}function r1(i=rn()){return/webos/i.test(i)}function Yp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ZC(i=rn()){return Yp(i)&&!!window.navigator?.standalone}function eI(){return m2()&&document.documentMode===10}function s1(i=rn()){return Yp(i)||n1(i)||r1(i)||i1(i)||/windows phone/i.test(i)||t1(i)}function a1(i,e=[]){let n;switch(i){case"Browser":n=UE(rn());break;case"Worker":n=`${UE(rn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${s}`}class tI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function nI(i,e={}){return Ts(i,"GET","/v2/passwordPolicy",pa(i,e))}const iI=6;class rI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class sI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jE(this),this.idTokenSubscription=new jE(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lh(this,{idToken:e}),s=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(us(this));const n=e?st(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nI(this),n=new rI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await JC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=a1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oo(i){return st(i)}class jE{constructor(e){this.auth=e,this.observer=null,this.addObserver=b2(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aI(i){cf=i}function o1(i){return cf.loadJS(i)}function oI(){return cf.recaptchaEnterpriseScript}function lI(){return cf.gapiScript}function uI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class cI{constructor(){this.enterprise=new hI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const fI="recaptcha-enterprise",l1="NO_RECAPTCHA";class dI{constructor(e){this.type=fI,this.auth=Oo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{qC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new FC(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;VE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(l1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&VE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=oI();g.length!==0&&(g+=m),o1(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function zE(i,e,n,s=!1,o=!1){const u=new dI(i);let h;if(o)h=l1;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function BE(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await zE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await zE(i,e,n,n==="getOobCode");return s(i,h)}else return Promise.reject(u)})}function mI(i,e){const n=lf(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(oa(u,e??{}))return o;ui(o,"already-initialized")}return n.initialize({options:e})}function pI(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function gI(i,e,n){const s=Oo(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=u1(e),{host:h,port:m}=yI(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(oa(p,s.config.emulator)&&oa(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Es(h)?(jp(`${u}//${h}${g}`),zp("Auth",!0)):_I()}function u1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function yI(i){const e=u1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:HE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:HE(h)}}}function HE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _I(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function vI(i,e){return Ts(i,"POST","/v1/accounts:signUp",e)}async function EI(i,e){return uf(i,"POST","/v1/accounts:signInWithPassword",pa(i,e))}async function TI(i,e){return uf(i,"POST","/v1/accounts:signInWithEmailLink",pa(i,e))}async function bI(i,e){return uf(i,"POST","/v1/accounts:signInWithEmailLink",pa(i,e))}class uu extends Qp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BE(e,n,"signInWithPassword",EI);case"emailLink":return TI(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BE(e,s,"signUpPassword",vI);case"emailLink":return bI(e,{idToken:n,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yo(i,e){return uf(i,"POST","/v1/accounts:signInWithIdp",pa(i,e))}const AI="http://localhost";class ua extends Qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ua(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return yo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,yo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yo(e,n)}buildRequest(){const e={requestUri:AI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bu(n)}return e}}function SI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wI(i){const e=Yl(Ql(i)).link,n=e?Yl(Ql(e)).deep_link_id:null,s=Yl(Ql(i)).deep_link_id;return(s?Yl(Ql(s)).link:null)||s||n||e||i}class $p{constructor(e){const n=Yl(Ql(e)),s=n.apiKey??null,o=n.oobCode??null,u=SI(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=wI(e);try{return new $p(n)}catch{return null}}}class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=$p.parseLink(n);return ve(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class c1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Su extends c1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ts extends Su{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";class ns extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";class is extends Su{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";class rs extends Su{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await oi._fromIdTokenResponse(e,s,o),h=FE(s);return new To({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=FE(s);return new To({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function FE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Uh extends Gi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Uh(e,n,s,o)}}function h1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(i,u,e,s):u})}async function RI(i,e,n=!1){const s=await lu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return To._forOperation(i,"link",s)}async function CI(i,e,n=!1){const{auth:s}=i;if(Kn(s.app))return Promise.reject(us(s));const o="reauthenticate";try{const u=await lu(i,h1(s,o,e,i),n);ve(u.idToken,s,"internal-error");const h=Kp(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),To._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ui(s,"user-mismatch"),u}}async function f1(i,e,n=!1){if(Kn(i.app))return Promise.reject(us(i));const s="signIn",o=await h1(i,s,e),u=await To._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function II(i,e){return f1(Oo(i),e)}async function NI(i){const e=Oo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function xI(i,e,n){return Kn(i.app)?Promise.reject(us(i)):II(st(i),Mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&NI(i),s})}function DI(i,e,n,s){return st(i).onIdTokenChanged(e,n,s)}function OI(i,e,n){return st(i).beforeAuthStateChanged(e,n)}function MI(i,e,n,s){return st(i).onAuthStateChanged(e,n,s)}function d1(i){return st(i).signOut()}const jh="__sak";class m1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const VI=1e3,PI=10;class p1 extends m1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);eI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},VI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}p1.type="LOCAL";const LI=p1;class g1 extends m1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}g1.type="SESSION";const y1=g1;function kI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new hf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await kI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];function Xp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class UI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Xp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function ji(){return window}function jI(i){ji().location.href=i}function _1(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function zI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BI(){return navigator?.serviceWorker?.controller||null}function HI(){return _1()?self:null}const v1="firebaseLocalStorageDb",FI=1,zh="firebaseLocalStorage",E1="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(i,e){return i.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function qI(){const i=indexedDB.deleteDatabase(v1);return new wu(i).toPromise()}function hp(){const i=indexedDB.open(v1,FI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(zh,{keyPath:E1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await qI(),e(await hp()))})})}async function qE(i,e,n){const s=ff(i,!0).put({[E1]:e,value:n});return new wu(s).toPromise()}async function GI(i,e){const n=ff(i,!1).get(e),s=await new wu(n).toPromise();return s===void 0?null:s.value}function GE(i,e){const n=ff(i,!0).delete(e);return new wu(n).toPromise()}const KI=800,YI=3;class T1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>YI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(HI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zI(),!this.activeServiceWorker)return;this.sender=new UI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hp();return await qE(e,jh,"1"),await GE(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>GI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ff(o,!1).getAll();return new wu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T1.type="LOCAL";const QI=T1;new Au(3e4,6e4);function $I(i,e){return e?fr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Wp extends Qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XI(i){return f1(i.auth,new Wp(i),i.bypassAuthState)}function WI(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),CI(n,new Wp(i),i.bypassAuthState)}async function JI(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),RI(n,new Wp(i),i.bypassAuthState)}class b1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XI;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return WI;default:ui(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ZI=new Au(2e3,1e4);class mo extends b1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZI.get())};e()}}mo.currentPopupAction=null;const eN="pendingRedirect",Ah=new Map;class tN extends b1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const s=await nN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nN(i,e){const n=sN(e),s=rN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function iN(i,e){Ah.set(i._key(),e)}function rN(i){return fr(i._redirectPersistence)}function sN(i){return bh(eN,i.config.apiKey,i.name)}async function aN(i,e,n=!1){if(Kn(i.app))return Promise.reject(us(i));const s=Oo(i),o=$I(s,e),h=await new tN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const oN=600*1e3;class lN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!A1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ui(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oN&&this.cachedEventUids.clear(),this.cachedEventUids.has(KE(e))}saveEventToCache(e){this.cachedEventUids.add(KE(e)),this.lastProcessedEventTime=Date.now()}}function KE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function A1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function uN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A1(i);default:return!1}}async function cN(i,e={}){return Ts(i,"GET","/v1/projects",e)}const hN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fN=/^https?/;async function dN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await cN(i);for(const n of e)try{if(mN(n))return}catch{}ui(i,"unauthorized-domain")}function mN(i){const e=up(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!fN.test(n))return!1;if(hN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const pN=new Au(3e4,6e4);function YE(){const i=ji().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function gN(i){return new Promise((e,n)=>{function s(){YE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YE(),n(Ui(i,"network-request-failed"))},timeout:pN.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)s();else{const o=uI("iframefcb");return ji()[o]=()=>{gapi.load?s():n(Ui(i,"network-request-failed"))},o1(`${lI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function yN(i){return Sh=Sh||gN(i),Sh}const _N=new Au(5e3,15e3),vN="__/auth/iframe",EN="emulator/auth/iframe",TN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AN(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Gp(e,EN):`https://${i.config.authDomain}/${vN}`,s={apiKey:e.apiKey,appName:i.name,v:ma},o=bN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${bu(s).slice(1)}`}async function SN(i){const e=await yN(i),n=ji().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:AN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ui(i,"network-request-failed"),m=ji().setTimeout(()=>{u(h)},_N.get());function g(){ji().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}const wN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RN=500,CN=600,IN="_blank",NN="http://localhost";class QE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xN(i,e,n,s=RN,o=CN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...wN,width:s.toString(),height:o.toString(),top:u,left:h},p=rn().toLowerCase();n&&(m=e1(p)?IN:n),JT(p)&&(e=e||NN,g.scrollbars="yes");const T=Object.entries(g).reduce((w,[D,K])=>`${w}${D}=${K},`,"");if(ZC(p)&&m!=="_self")return DN(e||"",m),new QE(null);const b=window.open(e||"",m,T);ve(b,i,"popup-blocked");try{b.focus()}catch{}return new QE(b)}function DN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const ON="__/auth/handler",MN="emulator/auth/handler",VN=encodeURIComponent("fac");async function $E(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ma,eventId:o};if(e instanceof c1){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",T2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))h[T]=b}if(e instanceof Su){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await i._getAppCheckToken(),p=g?`#${VN}=${encodeURIComponent(g)}`:"";return`${PN(i)}?${bu(m).slice(1)}${p}`}function PN({config:i}){return i.emulator?Gp(i,MN):`https://${i.authDomain}/${ON}`}const Km="webStorageSupport";class LN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y1,this._completeRedirectFn=aN,this._overrideRedirectResult=iN}async _openPopup(e,n,s,o){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await $E(e,n,s,up(),o);return xN(e,u,Xp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await $E(e,n,s,up(),o);return jI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await SN(e),s=new lN(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Km,{type:Km},o=>{const u=o?.[0]?.[Km];u!==void 0&&n(!!u),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return s1()||ZT()||Yp()}}const kN=LN;var XE="@firebase/auth",WE="1.12.0";class UN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zN(i){la(new fs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a1(i)},p=new sI(s,o,u,g);return pI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),la(new fs("auth-internal",e=>{const n=Oo(e.getProvider("auth").getImmediate());return(s=>new UN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(XE,WE,jN(i)),ki(XE,WE,"esm2020")}const BN=300,HN=kT("authIdTokenMaxAge")||BN;let JE=null;const FN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>HN)return;const o=n?.token;JE!==o&&(JE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qN(i=Fp()){const e=lf(i,"auth");if(e.isInitialized())return e.getImmediate();const n=mI(i,{popupRedirectResolver:kN,persistence:[QI,LI,y1]}),s=kT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=FN(u.toString());OI(n,h,()=>h(n.currentUser)),DI(n,m=>h(m))}}const o=VT("auth");return o&&gI(n,`http://${o}`),n}function GN(){return document.getElementsByTagName("head")?.[0]??document}aI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ui("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",GN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zN("Browser");var ZE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cs,S1;(function(){var i;function e(I,R){function C(){}C.prototype=R.prototype,I.F=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(L,V,U){for(var N=Array(arguments.length-2),at=2;at<arguments.length;at++)N[at-2]=arguments[at];return R.prototype[V].apply(L,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);const L=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)L[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;V<16;++V)L[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],V=I.g[2];let U=I.g[3],N;N=R+(U^C&(V^U))+L[0]+3614090360&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+L[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+L[2]+606105819&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+L[3]+3250441966&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(U^C&(V^U))+L[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+L[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+L[6]+2821735955&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+L[7]+4249261313&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(U^C&(V^U))+L[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+L[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+L[10]+4294925233&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+L[11]+2304563134&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(U^C&(V^U))+L[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=U+(V^R&(C^V))+L[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=V+(C^U&(R^C))+L[14]+2792965006&4294967295,V=U+(N<<17&4294967295|N>>>15),N=C+(R^V&(U^R))+L[15]+1236535329&4294967295,C=V+(N<<22&4294967295|N>>>10),N=R+(V^U&(C^V))+L[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+L[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+L[11]+643717713&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+L[0]+3921069994&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(C^V))+L[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+L[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+L[15]+3634488961&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+L[4]+3889429448&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(C^V))+L[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+L[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+L[3]+4107603335&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+L[8]+1163531501&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(V^U&(C^V))+L[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=U+(C^V&(R^C))+L[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=V+(R^C&(U^R))+L[7]+1735328473&4294967295,V=U+(N<<14&4294967295|N>>>18),N=C+(U^R&(V^U))+L[12]+2368359562&4294967295,C=V+(N<<20&4294967295|N>>>12),N=R+(C^V^U)+L[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+L[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+L[11]+1839030562&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+L[14]+4259657740&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^U)+L[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+L[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+L[7]+4139469664&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+L[10]+3200236656&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^U)+L[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+L[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+L[3]+3572445317&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+L[6]+76029189&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(C^V^U)+L[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=U+(R^C^V)+L[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=V+(U^R^C)+L[15]+530742520&4294967295,V=U+(N<<16&4294967295|N>>>16),N=C+(V^U^R)+L[2]+3299628645&4294967295,C=V+(N<<23&4294967295|N>>>9),N=R+(V^(C|~U))+L[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+L[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+L[14]+2878612391&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+L[5]+4237533241&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~U))+L[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+L[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+L[10]+4293915773&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+L[1]+2240044497&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~U))+L[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+L[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+L[6]+2734768916&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+L[13]+1309151649&4294967295,C=V+(N<<21&4294967295|N>>>11),N=R+(V^(C|~U))+L[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=U+(C^(R|~V))+L[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=V+(R^(U|~C))+L[2]+718787259&4294967295,V=U+(N<<15&4294967295|N>>>17),N=C+(U^(V|~R))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const C=R-this.blockSize,L=this.C;let V=this.h,U=0;for(;U<R;){if(V==0)for(;U<=C;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<R;)if(L[V++]=I.charCodeAt(U++),V==this.blockSize){o(this,L),V=0;break}}else for(;U<R;)if(L[V++]=I[U++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)I[R++]=this.g[C]>>>L&255;return I};function u(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function h(I,R){this.h=R;const C=[];let L=!0;for(let V=I.length-1;V>=0;V--){const U=I[V]|0;L&&U==R||(C[V]=U,L=!1)}this.g=C}var m={};function g(I){return-128<=I&&I<128?u(I,function(R){return new h([R|0],R<0?-1:0)}):new h([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return O(p(-I));const R=[];let C=1;for(let L=0;I>=C;L++)R[L]=I/C|0,C*=4294967296;return new h(R,0)}function T(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return O(T(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let L=b;for(let U=0;U<I.length;U+=8){var V=Math.min(8,I.length-U);const N=parseInt(I.substring(U,U+V),R);V<8?(V=p(Math.pow(R,V)),L=L.j(V).add(p(N))):(L=L.j(C),L=L.add(p(N)))}return L}var b=g(0),w=g(1),D=g(16777216);i=h.prototype,i.m=function(){if(G(this))return-O(this).m();let I=0,R=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);I+=(L>=0?L:4294967296+L)*R,R*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(K(this))return"0";if(G(this))return"-"+O(this).toString(I);const R=p(Math.pow(I,6));var C=this;let L="";for(;;){const V=re(C,R).g;C=$(C,V.j(R));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=V,K(C))return U+L;for(;U.length<6;)U="0"+U;L=U+L}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function K(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function G(I){return I.h==-1}i.l=function(I){return I=$(this,I),G(I)?-1:K(I)?0:1};function O(I){const R=I.g.length,C=[];for(let L=0;L<R;L++)C[L]=~I.g[L];return new h(C,~I.h).add(w)}i.abs=function(){return G(this)?O(this):this},i.add=function(I){const R=Math.max(this.g.length,I.g.length),C=[];let L=0;for(let V=0;V<=R;V++){let U=L+(this.i(V)&65535)+(I.i(V)&65535),N=(U>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);L=N>>>16,U&=65535,N&=65535,C[V]=N<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function $(I,R){return I.add(O(R))}i.j=function(I){if(K(this)||K(I))return b;if(G(this))return G(I)?O(this).j(O(I)):O(O(this).j(I));if(G(I))return O(this.j(O(I)));if(this.l(D)<0&&I.l(D)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,C=[];for(var L=0;L<2*R;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<I.g.length;V++){const U=this.i(L)>>>16,N=this.i(L)&65535,at=I.i(V)>>>16,Vt=I.i(V)&65535;C[2*L+2*V]+=N*Vt,F(C,2*L+2*V),C[2*L+2*V+1]+=U*Vt,F(C,2*L+2*V+1),C[2*L+2*V+1]+=N*at,F(C,2*L+2*V+1),C[2*L+2*V+2]+=U*at,F(C,2*L+2*V+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new h(C,0)};function F(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function X(I,R){this.g=I,this.h=R}function re(I,R){if(K(R))throw Error("division by zero");if(K(I))return new X(b,b);if(G(I))return R=re(O(I),R),new X(O(R.g),O(R.h));if(G(R))return R=re(I,O(R)),new X(O(R.g),R.h);if(I.g.length>30){if(G(I)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,L=R;L.l(I)<=0;)C=ae(C),L=ae(L);var V=ge(C,1),U=ge(L,1);for(L=ge(L,2),C=ge(C,2);!K(L);){var N=U.add(L);N.l(I)<=0&&(V=V.add(C),U=N),L=ge(L,1),C=ge(C,1)}return R=$(I,V.j(R)),new X(V,R)}for(V=b;I.l(R)>=0;){for(C=Math.max(1,Math.floor(I.m()/R.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),U=p(C),N=U.j(R);G(N)||N.l(I)>0;)C-=L,U=p(C),N=U.j(R);K(U)&&(U=w),V=V.add(U),I=$(I,N)}return new X(V,I)}i.B=function(I){return re(this,I).h},i.and=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)&I.i(L);return new h(C,this.h&I.h)},i.or=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)|I.i(L);return new h(C,this.h|I.h)},i.xor=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)^I.i(L);return new h(C,this.h^I.h)};function ae(I){const R=I.g.length+1,C=[];for(let L=0;L<R;L++)C[L]=I.i(L)<<1|I.i(L-1)>>>31;return new h(C,I.h)}function ge(I,R){const C=R>>5;R%=32;const L=I.g.length-C,V=[];for(let U=0;U<L;U++)V[U]=R>0?I.i(U+C)>>>R|I.i(U+C+1)<<32-R:I.i(U+C);return new h(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,S1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=T,cs=h}).apply(typeof ZE<"u"?ZE:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var w1,$l,R1,wh,fp,C1,I1,N1;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in v))break e;v=v[z]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function p(c,y,v){return p=g,p.apply(null,arguments)}function T(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,z,Y){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return y.prototype[z].apply(S,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function K(c,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const Y=z.length||0;c.length=v+Y;for(let se=0;se<Y;se++)c[v+se]=z[se]}else c.push(z)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function O(c){h.setTimeout(()=>{throw c},0)}function $(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class F{constructor(){this.h=this.g=null}add(y,v){const S=X.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var X=new G(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ge=!1,I=new F,R=()=>{const c=Promise.resolve(void 0);ae=()=>{c.then(C)}};function C(){for(var c;c=$();){try{c.h.call(c.g)}catch(v){O(v)}var y=X;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ge=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function at(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(at,V),at.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(Math.random()*1e6|0),J=0;function oe(c,y,v,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++J,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Ke(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function P(c){const y={};for(const v in c)y[v]=c[v];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)c[v]=S[v];for(let Y=0;Y<ne.length;Y++)v=ne[Y],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,v,S,z){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const se=Ce(c,y,S,z);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new oe(y,this.src,Y,!!S,z),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var S=c.g[v],z=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(S,z,1),Y&&(ye(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,S){for(let z=0;z<c.length;++z){const Y=c[z];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==S)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Pt={};function ot(c,y,v,S,z){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ot(c,y[Y],v,S,z);return null}return v=zo(v),c&&c[Vt]?c.J(y,v,m(S)?!!S.capture:!1,z):Ss(c,y,v,!1,S,z)}function Ss(c,y,v,S,z,Y){if(!y)throw Error("Invalid event type");const se=m(z)?!!z.capture:!!z;let we=ws(c);if(we||(c[Ue]=we=new he(c)),v=we.add(y,v,S,se,Y),v.proxy)return v;if(S=va(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)U||(z=se),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(fi(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function va(){function c(v){return y.call(c.src,c.listener,v)}const y=Uo;return c}function Ea(c,y,v,S,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Ea(c,y[Y],v,S,z);else S=m(S)?!!S.capture:!!S,v=zo(v),c&&c[Vt]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],v=Ce(y,v,S,z),v>-1&&(ye(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=ws(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,S,z)),(v=c>-1?y[c]:null)&&Ta(v))}function Ta(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])Te(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(fi(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=ws(y))?(Te(v,c),v.h==0&&(v.src=null,y[Ue]=null)):ye(c)}}}function fi(c){return c in Pt?Pt[c]:Pt[c]="on"+c}function Uo(c,y){if(c.da)c=!0;else{y=new at(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&Ta(c),c=v.call(S,y)}return c}function ws(c){return c=c[Ue],c instanceof he?c:null}var jo="__closure_events_fn_"+(Math.random()*1e9>>>0);function zo(c){return typeof c=="function"?c:(c[jo]||(c[jo]=function(y){return c.handleEvent(y)}),c[jo])}function bt(){L.call(this),this.i=new he(this),this.M=this,this.G=null}b(bt,L),bt.prototype[Vt]=!0,bt.prototype.removeEventListener=function(c,y,v,S){Ea(this,c,y,v,S)};function Lt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var z=y;y=new V(S,c),le(y,z)}z=!0;let Y,se;if(v)for(se=v.length-1;se>=0;se--)Y=y.g=v[se],z=Tr(Y,S,!0,y)&&z;if(Y=y.g=c,z=Tr(Y,S,!0,y)&&z,z=Tr(Y,S,!1,y)&&z,v)for(se=0;se<v.length;se++)Y=y.g=v[se],z=Tr(Y,S,!1,y)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)ye(v[S]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},bt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Tr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Y=0;Y<y.length;++Y){const se=y[Y];if(se&&!se.da&&se.capture==v){const we=se.listener,_t=se.ha||se.src;se.fa&&Te(c.i,se),z=we.call(_t,S)!==!1&&z}}return z&&!S.defaultPrevented}function Mf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Pu(c){c.g=Mf(()=>{c.g=null,c.i&&(c.i=!1,Pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sn extends L{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){L.call(this),this.h=c,this.g={}}b(Rs,L);var Bo=[];function Ho(c){ze(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ta(y)},c),c.g={}}Rs.prototype.N=function(){Rs.Z.N.call(this),Ho(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=h.JSON.stringify,Vf=h.JSON.parse,Lu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ku(){}function Uu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){V.call(this,"d")}b(Ft,V);function Mn(){V.call(this,"c")}b(Mn,V);var yt={},ju=null;function ba(){return ju=ju||new bt}yt.Ia="serverreachability";function zu(c){V.call(this,yt.Ia,c)}b(zu,V);function di(c){const y=ba();Lt(y,new zu(y))}yt.STAT_EVENT="statevent";function Cs(c,y){V.call(this,yt.STAT_EVENT,c),this.stat=y}b(Cs,V);function At(c){const y=ba();Lt(y,new Cs(y,c))}yt.Ja="timingevent";function mi(c,y){V.call(this,yt.Ja,c),this.size=y}b(mi,V);function pi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Pf(c,y,v,S,z,Y){c.info(function(){if(c.g)if(Y){var se="",we=Y.split("&");for(let Fe=0;Fe<we.length;Fe++){var _t=we[Fe].split("=");if(_t.length>1){const lt=_t[0];_t=_t[1];const kn=lt.split("_");se=kn.length>=2&&kn[1]=="type"?se+(lt+"="+_t+"&"):se+(lt+"=redacted&")}}}else se=null;else se=Y;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+se})}function Bu(c,y,v,S,z,Y,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+Y+" "+se})}function gi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Lf(c,v)+(S?" "+S:"")})}function Is(c,y){c.info(function(){return"TIMEOUT: "+y})}Xn.prototype.info=function(){};function Lf(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var v=Y[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return br(Y)}catch{return y}}var Ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function xs(){}b(xs,ku),xs.prototype.g=function(){return new XMLHttpRequest},qo=new xs;function Ki(c){return encodeURIComponent(String(c))}function Hu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Wn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new Rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var St={},jt={};function yi(c,y,v){c.M=1,c.A=Ds(Rt(y)),c.u=v,c.R=!0,Aa(c,null)}function Aa(c,y){c.F=Date.now(),_i(c),c.B=Rt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ca(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Jn,c.g=ic(c.j,v?y:null,!c.u),c.P>0&&(c.O=new sn(p(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Bo[0]=z.toString()),z=Bo);for(let Y=0;Y<z.length;Y++){const se=ot(v,z[Y],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),di(),Pf(c.i,c.v,c.B,c.l,c.S,c.u)}Wn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ti(c)==3?y.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const we=ti(this.g),_t=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||we!=4||_t==7||(_t==8||Fe<=0?di(3):di(2)),vi(this);var y=this.g.ca();this.X=y;var v=kf(this);if(this.o=y==200,Bu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var Y=S;break t}}Y=null}if(c=Y)gi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,c);else{this.o=!1,this.m=3,At(12),Tn(this),Vn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=qu(this,v),lt==jt){we==4&&(this.m=4,At(14),c=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,At(15),gi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else gi(this.i,this.l,lt,null),Ei(this,lt);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)gi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Vn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),sl(se),se.P=!0,At(11))}}else gi(this.i,this.l,v,null),Ei(this,v);we==4&&Tn(this),this.o&&!this.K&&(we==4?Zu(this.j,this):(this.o=!1,_i(this)))}else Qi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Tn(this),Vn(this)}}}catch{}};function kf(c){if(!Fu(c))return c.g.la();const y=qt(c.g);if(y==="")return"";let v="";const S=y.length,z=ti(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Tn(c),Vn(c),"";c.h.i=new h.TextDecoder}for(let Y=0;Y<S;Y++)c.h.h=!0,v+=c.h.i.decode(y[Y],{stream:!(z&&Y==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Fu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function qu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?jt:(v=Number(y.substring(v,S)),isNaN(v)?St:(S+=1,S+v>y.length?jt:(y=y.slice(S,S+v),c.C=S+v,y)))}Wn.prototype.cancel=function(){this.K=!0,Tn(this)};function _i(c){c.T=Date.now()+c.H,Sa(c,c.H)}function Sa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=pi(p(c.aa,c),y)}function vi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Wn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Is(this.i,this.B),this.M!=2&&(di(),At(17)),Tn(this),this.m=2,Vn(this)):Sa(this,this.T-c)};function Vn(c){c.j.I==0||c.K||Zu(c.j,c)}function Tn(c){vi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ho(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ei(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||bi(v.h,c))){if(!c.L&&bi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Oa(v),xr(v);else break e;Us(v),At(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(p(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((c.L||v.g==c)&&Oa(v),!N(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];const lt=Fe[0];if(!(lt<=v.K))if(v.K=lt,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const kn=Fe[3];kn!=null&&(v.ka=kn,v.j.info("VER="+v.ka));const Ni=Fe[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const ni=Fe[5];ni!=null&&typeof ni=="number"&&ni>0&&(S=1.5*ni,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ii=c.g;if(ii){const js=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var Y=S.h;Y.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Yo(Y,Y.h),Y.h=null))}if(S.G){const Ma=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(S.wa=Ma,Ye(S.J,S.G,Ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=c;if(S.na=nc(S,S.L?S.ba:null,S.W),se.L){Qo(S.h,se);var we=se,_t=S.O;_t&&(we.H=_t),we.D&&(vi(we),_i(we)),S.g=se}else Wu(S);v.i.length>0&&Ci(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Ii(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ii(v,7):il(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}di(4)}catch{}}var wt=class{constructor(c,y){this.g=c,this.map=y}};function Go(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ti(c){return c.h?1:c.g?c.g.size:0}function bi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Yo(c,y){c.g?c.g.add(y):c.h=y}function Qo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Go.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $o(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return D(c.i)}var Gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let z,Y=null;S>=0?(z=c[v].substring(0,S),Y=c[v].substring(S+1)):z=c[v],y(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof bn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Ar(this,c.u),this.h=c.h,Xo(this,$u(c.i)),this.m=c.m):c&&(y=String(c).match(Gu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Ai(y[2]||""),this.g=Ai(y[3]||"",!0),Ar(this,y[4]),this.h=Ai(y[5]||"",!0),Xo(this,y[6]||"",!0),this.m=Ai(y[7]||"")):(this.l=!1,this.i=new wr(null,this.l))}bn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Os(y,Ra,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Os(y,Ra,!0),"@"),c.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Os(v,v.charAt(0)=="/"?Wo:Ku,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Os(v,Yu)),c.join("")},bn.prototype.resolve=function(c){const y=Rt(this);let v=!!c.j;v?zt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)Ar(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let se=0;se<z.length;){const we=z[se++];we=="."?S&&se==z.length&&Y.push(""):we==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&se==z.length&&Y.push("")):(Y.push(we),S=!0)}S=Y.join("/")}else S=z}return v?y.h=S:v=c.i.toString()!=="",v?Xo(y,$u(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Rt(c){return new bn(c)}function zt(c,y,v){c.j=v?Ai(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ar(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Xo(c,y,v){y instanceof wr?(c.i=y,Ia(c.i,c.l)):(v||(y=Os(y,Sr)),c.i=new wr(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function Ds(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ai(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ra=/[#\/\?@]/g,Ku=/[#\?:]/g,Wo=/[#\?]/g,Sr=/[#\?@]/g,Yu=/#/g;function wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&wa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=wr.prototype,i.add=function(c,y){cn(this),this.i=null,c=Rr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Qu(c,y){cn(c),y=Rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Jo(c,y){return cn(c),y=Rr(c,y),c.g.has(y)}i.forEach=function(c,y){cn(this),this.g.forEach(function(v,S){v.forEach(function(z){c.call(y,z,S,this)},this)},this)};function Zo(c,y){cn(c);let v=[];if(typeof y=="string")Jo(c,y)&&(v=v.concat(c.g.get(Rr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return cn(this),this.i=null,c=Rr(this,c),Jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Zo(this,c),c.length>0?String(c[0]):y):y};function Ca(c,y,v){Qu(c,y),v.length>0&&(c.i=null,c.g.set(Rr(c,y),D(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const z=Ki(v);v=Zo(this,v);for(let Y=0;Y<v.length;Y++){let se=z;v[Y]!==""&&(se+="="+Ki(v[Y])),c.push(se)}}return this.i=c.join("&")};function $u(c){const y=new wr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ia(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(Qu(this,S),Ca(this,z,v))},c)),c.j=y}function Zn(c,y){const v=new Xn;if(h.Image){const S=new Image;S.onload=T(Pn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=T(Pn,v,"TestLoadImage: error",!1,y,S),S.onabort=T(Pn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=T(Pn,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function el(c,y){const v=new Xn,S=new AbortController,z=setTimeout(()=>{S.abort(),Pn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(z),Y.ok?Pn(v,"TestPingServer: ok",!0,y):Pn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Pn(v,"TestPingServer: error",!1,y)})}function Pn(c,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function Cr(){this.g=new Lu}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Si,ku),Si.prototype.g=function(){return new Ms(this.i,this.h)};function Ms(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ms,bt),i=Ms.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ei(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Na(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Na(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ir(this):ei(this),this.readyState==3&&Na(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},i.Na=function(c){this.g&&(this.response=c,Ir(this))},i.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ei(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ln(c){let y="";return ze(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Vs(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Ln(v),typeof c=="string"?v!=null&&Ki(v):Ye(c,y,v))}function Xe(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,bt);var wi=/^https?$/i,tl=["POST","PUT"];i=Xe.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Ps(this,Y);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())v.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(tl,y,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of v)this.g.setRequestHeader(Y,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Ps(this,Y)}};function Ps(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,nl(c),Yi(c)}function nl(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Lt(this,"complete"),Lt(this,"abort"),Yi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),Xe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ls(this):this.Xa())},i.Xa=function(){Ls(this)};function Ls(c){if(c.h&&typeof u<"u"){if(c.v&&ti(c)==4)setTimeout(c.Ca.bind(c),0);else if(Lt(c,"readystatechange"),ti(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=Y===0){let se=String(c.D).match(Gu)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),S=!wi.test(se?se.toLowerCase():"")}v=S}if(v)Lt(c,"complete"),Lt(c,"success");else{c.o=6;try{var z=ti(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",nl(c)}}finally{Yi(c)}}}}function Yi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Lt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ti(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Vf(y)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(c){const y={};c=(c.g&&ti(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var v=Hu(c[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[z]||[];y[z]=Y,Y.push(v)}Ke(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,c),this.Za=Ri("retryDelaySeedMs",1e4,c),this.Ta=Ri("forwardChannelMaxRetries",2,c),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Go(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Nr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,S){At(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=nc(this,null,this.W),Ci(this)};function il(c){if(xa(c),c.I==3){var y=c.V++,v=Rt(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),ks(c,v),y=new Wn(c,c.j,y),y.M=2,y.A=Ds(Rt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=ic(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_i(y)}tc(c)}function xr(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function xa(c){xr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Oa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ci(c){if(!Ko(c.h)&&!c.m){c.m=!0;var y=c.Ea;ae||R(),ge||(ae(),ge=!0),I.add(y,c),c.D=0}}function Da(c,y){return Ti(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=pi(p(c.Ea,c,y),ec(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Wn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=P(Y),le(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Xu(this,z,y),v=Rt(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),ks(this,v),Y&&(this.R?y="headers="+Ki(Ln(Y))+"&"+y:this.u&&Vs(v,this.u,Y)),Yo(this.h,z),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),z.U=!0,yi(z,v,null)):yi(z,v,y),this.I=2}}else this.I==3&&(c?rl(this,c):this.i.length==0||Ko(this.h)||rl(this))};function rl(c,y){var v;y?v=y.l:v=c.V++;const S=Rt(c.J);Ye(S,"SID",c.M),Ye(S,"RID",v),Ye(S,"AID",c.K),ks(c,S),c.u&&c.o&&Vs(S,c.u,c.o),v=new Wn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Yo(c.h,v),yi(v,S,y)}function ks(c,y){c.H&&ze(c.H,function(v,S){Ye(y,S,v)}),c.l&&ze({},function(v,S){Ye(y,S,v)})}function Xu(c,y,v){v=Math.min(c.i.length,v);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let we=-1;for(;;){const _t=["count="+v];we==-1?v>0?(we=z[0].g,_t.push("ofs="+we)):we=0:_t.push("ofs="+we);let Fe=!0;for(let lt=0;lt<v;lt++){var Y=z[lt].g;const kn=z[lt].map;if(Y-=we,Y<0)we=Math.max(0,z[lt].g-100),Fe=!1;else try{Y="req"+Y+"_"||"";try{var se=kn instanceof Map?kn:Object.entries(kn);for(const[Ni,ni]of se){let ii=ni;m(ni)&&(ii=br(ni)),_t.push(Y+Ni+"="+encodeURIComponent(ii))}}catch(Ni){throw _t.push(Y+"type="+encodeURIComponent("_badmap")),Ni}}catch{S&&S(kn)}}if(Fe){se=_t.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function Wu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ae||R(),ge||(ae(),ge=!0),I.add(y,c),c.A=0}}function Us(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=pi(p(c.Da,c),ec(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=pi(p(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),xr(this),Ju(this))};function sl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Ju(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Rt(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),ks(c,y),c.u&&c.o&&Vs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ds(Rt(y)),v.u=null,v.R=!0,Aa(v,c)}i.Va=function(){this.C!=null&&(this.C=null,xr(this),Us(this),At(19))};function Oa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Zu(c,y){var v=null;if(c.g==y){Oa(c),sl(c),c.g=null;var S=2}else if(bi(c.h,y))v=y.G,Qo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;S=ba(),Lt(S,new mi(S,v)),Ci(c)}else Wu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&Da(c,y)||S==2&&Us(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function ec(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ii(c,y){if(c.j.info("Error code "+y),y==2){var v=p(c.bb,c),S=c.Ua;const z=!S;S=new bn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(S,"https"),Ds(S),z?Zn(S.toString(),v):el(S.toString(),v)}else At(2);c.I=0,c.l&&c.l.pa(y),tc(c),xa(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function tc(c){if(c.I=0,c.ja=[],c.l){const y=$o(c.h);(y.length!=0||c.i.length!=0)&&(K(c.ja,y),K(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function nc(c,y,v){var S=v instanceof bn?Rt(v):new bn(v);if(S.g!="")y&&(S.g=y+"."+S.g),Ar(S,S.u);else{var z=h.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Y=new bn(null);S&&zt(Y,S),y&&(Y.g=y),z&&Ar(Y,z),v&&(Y.h=v),S=Y}return v=c.G,y=c.wa,v&&y&&Ye(S,v,y),Ye(S,"VER",c.ka),ks(c,S),S}function ic(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new Si({ab:v})):new Xe(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}i=rc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Dr(){}Dr.prototype.g=function(c,y){return new an(c,y)};function an(c,y){bt.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new $i(this)}b(an,bt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){il(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=br(c),c=v);y.i.push(new wt(y.Ya++,c)),y.I==3&&Ci(y)},an.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,an.Z.N.call(this)};function sc(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(sc,Ft);function ac(){Mn.call(this),this.status=1}b(ac,Mn);function $i(c){this.g=c}b($i,rc),$i.prototype.ra=function(){Lt(this.g,"a")},$i.prototype.qa=function(c){Lt(this.g,new sc(c))},$i.prototype.pa=function(c){Lt(this.g,new ac)},$i.prototype.oa=function(){Lt(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,N1=function(){return new Dr},I1=function(){return ba()},C1=yt,fp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,wh=Ns,Fo.COMPLETE="complete",R1=Fo,Uu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",bt.prototype.listen=bt.prototype.J,$l=Uu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,w1=Xe}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Vo="12.8.0";function KN(i){Vo=i}const ca=new Bp("@firebase/firestore");function uo(){return ca.logLevel}function ce(i,...e){if(ca.logLevel<=Me.DEBUG){const n=e.map(Jp);ca.debug(`Firestore (${Vo}): ${i}`,...n)}}function _r(i,...e){if(ca.logLevel<=Me.ERROR){const n=e.map(Jp);ca.error(`Firestore (${Vo}): ${i}`,...n)}}function bo(i,...e){if(ca.logLevel<=Me.WARN){const n=e.map(Jp);ca.warn(`Firestore (${Vo}): ${i}`,...n)}}function Jp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,x1(i,s,n)}function x1(i,e,n){let s=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||x1(e,o,s)}function Se(i,e){return i}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class D1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class QN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $N{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new D1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class XN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class WN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new XN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class e0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new e0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new e0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ZN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ZN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function dp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Ym(o)===Ym(u)?Ve(o,u):Ym(o)?1:-1}return Ve(i.length,e.length)}const e4=55296,t4=57343;function Ym(i){const e=i.charCodeAt(0);return e>=e4&&e<=t4}function Ao(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const t0="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):dp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class tt extends Pi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const n4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Pi{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return n4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t0}static keyField(){return new Xt([t0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}function O1(i,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function i4(i,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function n0(i){if(!pe.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function i0(i){if(pe.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function M1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function df(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function _n(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(i);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Mt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ru(i,e){if(!M1(i))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}const r0=-62135596800,s0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*s0);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<r0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ru(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Mt("string",rt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new rt(0,0))}static max(){return new be(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cu=-1;function r4(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new ds(o,pe.empty(),e)}function s4(i){return new ds(i.readTime,i.key,cu)}class ds{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ds(be.min(),pe.empty(),cu)}static max(){return new ds(be.max(),pe.empty(),cu)}}function a4(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}const o4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Po(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==o4)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((T=>{h[p]=T,++m,m===u&&s(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function u4(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(i){return i.name==="IndexedDbTransactionError"}class mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mf.ce=-1;const eg=-1;function pf(i){return i==null}function Bh(i){return i===0&&1/i==-1/0}function c4(i){return typeof i=="number"&&Number.isInteger(i)&&!Bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const V1="";function h4(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=a0(e)),e=f4(i.get(n),e);return a0(e)}function f4(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case V1:n+="";break;default:n+=u}}return n}function a0(i){return i+V1+""}function o0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function bs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function P1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(e){return new l0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class l0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Ut(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class L1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new L1("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const d4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=d4.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ps(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const k1="server_timestamp",U1="__type__",j1="__previous_value__",z1="__local_write_time__";function tg(i){return(i?.mapValue?.fields||{})[U1]?.stringValue===k1}function gf(i){const e=i.mapValue.fields[j1];return tg(e)?gf(e):e}function hu(i){const e=ms(i.mapValue.fields[z1].timestampValue);return new rt(e.seconds,e.nanos)}class m4{constructor(e,n,s,o,u,h,m,g,p,T,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=T,this.apiKey=b}}const Hh="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||Hh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}function p4(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(i.options.projectId,e)}const B1="__type__",g4="__max__",mh={mapValue:{}},H1="__vector__",Fh="value";function gs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?tg(i)?4:_4(i)?9007199254740991:y4(i)?10:11:Ee(28295,{value:i})}function qi(i,e){if(i===e)return!0;const n=gs(i);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hu(i).isEqual(hu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ms(o.timestampValue),m=ms(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ps(o.bytesValue).isEqual(ps(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Tt(o.doubleValue),m=Tt(u.doubleValue);return h===m?Bh(h)===Bh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Ao(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(o0(h)!==o0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!qi(h[g],m[g])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function du(i,e){return(i.values||[]).find((n=>qi(n,e)))!==void 0}function So(i,e){if(i===e)return 0;const n=gs(i),s=gs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Tt(u.integerValue||u.doubleValue),g=Tt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return u0(i.timestampValue,e.timestampValue);case 4:return u0(hu(i),hu(e));case 5:return dp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=ps(u),g=ps(h);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const T=Ve(m[p],g[p]);if(T!==0)return T}return Ve(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Ve(Tt(u.latitude),Tt(h.latitude));return m!==0?m:Ve(Tt(u.longitude),Tt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return c0(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Fh]?.arrayValue,T=g[Fh]?.arrayValue,b=Ve(p?.values?.length||0,T?.values?.length||0);return b!==0?b:c0(p,T)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===mh.mapValue&&h===mh.mapValue)return 0;if(u===mh.mapValue)return 1;if(h===mh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},T=Object.keys(p);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const w=dp(g[b],T[b]);if(w!==0)return w;const D=So(m[g[b]],p[T[b]]);if(D!==0)return D}return Ve(g.length,T.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function u0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=ms(i),s=ms(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function c0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function wo(i){return mp(i)}function mp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ms(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ps(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return pe.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=mp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${mp(n.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Rh(i){switch(gs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(i);return e?16+Rh(e):16;case 5:return 2*i.stringValue.length;case 6:return ps(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Rh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return bs(s.fields,((u,h)=>{o+=u.length+Rh(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function h0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function pp(i){return!!i&&"integerValue"in i}function ng(i){return!!i&&"arrayValue"in i}function f0(i){return!!i&&"nullValue"in i}function d0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ch(i){return!!i&&"mapValue"in i}function y4(i){return(i?.mapValue?.fields||{})[B1]?.stringValue===H1}function tu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return bs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=tu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(i.arrayValue.values[n]);return e}return{...i}}function _4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===g4}class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=tu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){bs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new yn(tu(this.value))}}function F1(i){const e=[];return bs(i.fields,((n,s)=>{const o=new Xt([n]);if(Ch(s)){const u=F1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new xn(e)}class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,be.min(),be.min(),be.min(),yn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,be.min(),be.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,be.min(),be.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qh{constructor(e,n){this.position=e,this.inclusive=n}}function m0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),n.key):s=So(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function p0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],e.position[n]))return!1;return!0}class Gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function v4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class q1{}class Ot extends q1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new T4(e,n,s):n==="array-contains"?new S4(e,s):n==="in"?new w4(e,s):n==="not-in"?new R4(e,s):n==="array-contains-any"?new C4(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new b4(e,s):new A4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends q1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return G1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function G1(i){return i.op==="and"}function K1(i){return E4(i)&&G1(i)}function E4(i){for(const e of i.filters)if(e instanceof ci)return!1;return!0}function gp(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+wo(i.value);if(K1(i))return i.filters.map((e=>gp(e))).join(",");{const e=i.filters.map((n=>gp(n))).join(",");return`${i.op}(${e})`}}function Y1(i,e){return i instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(i,e):i instanceof ci?(function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&Y1(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function Q1(i){return i instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`})(i):i instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(Q1).join(" ,")+"}"})(i):"Filter"}class T4 extends Ot{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class b4 extends Ot{constructor(e,n){super(e,"in",n),this.keys=$1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class A4 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=$1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $1(i,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class S4 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ng(n)&&du(n.arrayValue,this.value)}}class w4 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class R4 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class C4 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>du(this.value.arrayValue,s)))}}class I4{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function g0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new I4(i,e,n,s,o,u,h)}function ig(i){const e=Se(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>gp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>wo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>wo(s))).join(",")),e.Te=n}return e.Te}function rg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!v4(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Y1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!p0(i.startAt,e.startAt)&&p0(i.endAt,e.endAt)}function yp(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Cu{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function N4(i,e,n,s,o,u,h,m){return new Cu(i,e,n,s,o,u,h,m)}function yf(i){return new Cu(i)}function y0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function x4(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function X1(i){return i.collectionGroup!==null}function nu(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ut(Xt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Gh(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Gh(Xt.keyField(),s))}return e.Ie}function zi(i){const e=Se(i);return e.Ee||(e.Ee=D4(e,nu(i))),e.Ee}function D4(i,e){if(i.limitType==="F")return g0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Gh(o.field,u)}));const n=i.endAt?new qh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new qh(i.startAt.position,i.startAt.inclusive):null;return g0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function _p(i,e){const n=i.filters.concat([e]);return new Cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function vp(i,e,n){return new Cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function _f(i,e){return rg(zi(i),zi(e))&&i.limitType===e.limitType}function W1(i){return`${ig(zi(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Q1(o))).join(", ")}]`),pf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>wo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>wo(o))).join(",")),`Target(${s})`})(zi(i))}; limitType=${i.limitType})`}function vf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of nu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=m0(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,nu(s),o)||s.endAt&&!(function(h,m,g){const p=m0(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,nu(s),o))})(i,e)}function O4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function J1(i){return(e,n)=>{let s=!1;for(const o of nu(i)){const u=M4(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function M4(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?So(g,p):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return P1(this.inner)}size(){return this.innerSize}}const V4=new ht(pe.comparator);function vr(){return V4}const Z1=new ht(pe.comparator);function Xl(...i){let e=Z1;for(const n of i)e=e.insert(n.key,n);return e}function eb(i){let e=Z1;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function na(){return iu()}function tb(){return iu()}function iu(){return new ga((i=>i.toString()),((i,e)=>i.isEqual(e)))}const P4=new ht(pe.comparator),L4=new Ut(pe.comparator);function Pe(...i){let e=L4;for(const n of i)e=e.add(n);return e}const k4=new Ut(Ve);function U4(){return k4}function sg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function nb(i){return{integerValue:""+i}}function j4(i,e){return c4(e)?nb(e):sg(i,e)}class Ef{constructor(){this._=void 0}}function z4(i,e,n){return i instanceof Kh?(function(o,u){const h={fields:{[U1]:{stringValue:k1},[z1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tg(u)&&(u=gf(u)),u&&(h.fields[j1]=u),{mapValue:h}})(n,e):i instanceof mu?rb(i,e):i instanceof pu?sb(i,e):(function(o,u){const h=ib(o,u),m=_0(h)+_0(o.Ae);return pp(h)&&pp(o.Ae)?nb(m):sg(o.serializer,m)})(i,e)}function B4(i,e,n){return i instanceof mu?rb(i,e):i instanceof pu?sb(i,e):n}function ib(i,e){return i instanceof Yh?(function(s){return pp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Kh extends Ef{}class mu extends Ef{constructor(e){super(),this.elements=e}}function rb(i,e){const n=ab(e);for(const s of i.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pu extends Ef{constructor(e){super(),this.elements=e}}function sb(i,e){let n=ab(e);for(const s of i.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class Yh extends Ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _0(i){return Tt(i.integerValue||i.doubleValue)}function ab(i){return ng(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function H4(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?Ao(s.elements,o.elements,qi):s instanceof Yh&&o instanceof Yh?qi(s.Ae,o.Ae):s instanceof Kh&&o instanceof Kh})(i.transform,e.transform)}class F4{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Tf{}function ob(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new bf(i.key,vn.none()):new Iu(i.key,i.data,vn.none());{const n=i.data,s=yn.empty();let o=new Ut(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new As(i.key,s,new xn(o.toArray()),vn.none())}}function q4(i,e,n){i instanceof Iu?(function(o,u,h){const m=o.value.clone(),g=E0(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof As?(function(o,u,h){if(!Ih(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=E0(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(lb(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ru(i,e,n,s){return i instanceof Iu?(function(u,h,m,g){if(!Ih(u.precondition,h))return m;const p=u.value.clone(),T=T0(u.fieldTransforms,g,h);return p.setAll(T),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof As?(function(u,h,m,g){if(!Ih(u.precondition,h))return m;const p=T0(u.fieldTransforms,g,h),T=h.data;return T.setAll(lb(u)),T.setAll(p),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,h,m){return Ih(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function G4(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=ib(s.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(s.field,u))}return n||null}function v0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,((u,h)=>H4(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Iu extends Tf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends Tf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function E0(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,B4(h,m,n[o]))}return s}function T0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,z4(u,h,e))}return s}class bf extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K4 extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Y4{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&q4(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=ob(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((n,s)=>v0(n,s)))&&Ao(this.baseMutations,e.baseMutations,((n,s)=>v0(n,s)))}}class ag{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return P4})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ag(e,n,s,o)}}class Q4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,je;function X4(i){switch(i){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function ub(i){if(i===void 0)return _r("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Dt.OK:return ee.OK;case Dt.CANCELLED:return ee.CANCELLED;case Dt.UNKNOWN:return ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ee.INTERNAL;case Dt.UNAVAILABLE:return ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dt.ABORTED:return ee.ABORTED;case Dt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:i})}}(je=Dt||(Dt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function W4(){return new TextEncoder}const J4=new cs([4294967295,4294967295],0);function b0(i){const e=W4().encode(i),n=new S1;return n.update(e),new Uint8Array(n.digest())}function A0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cs([n,s],0),new cs([o,u],0)]}class og{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(cs.fromNumber(s)));return o.compare(J4)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=b0(e),[s,o]=A0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new og(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=b0(e),[s,o]=A0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Af(be.min(),o,new ht(Ve),vr(),Pe())}}class Nu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Nu(s,n,Pe(),Pe(),Pe())}}class Nh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class cb{constructor(e,n){this.targetId=e,this.Ce=n}}class hb{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class S0{constructor(){this.ve=0,this.Fe=w0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Nu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=w0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Z4{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.He=ph(),this.Je=ph(),this.Ze=new ht(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(yp(u))if(s===0){const h=new pe(u.path);this.et(n,h,nn.newNoDocument(h,be.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ps(s).toUint8Array()}catch(g){if(g instanceof L1)return bo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new og(h,o,u)}catch(g){return bo(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&yp(m.target)){const g=new pe(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,nn.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=Pe();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Af(e,n,this.Ze,this.je,s);return this.je=vr(),this.He=ph(),this.Je=ph(),this.Ze=new ht(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new S0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new S0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ph(){return new ht(pe.comparator)}function w0(){return new ht(pe.comparator)}const ex={asc:"ASCENDING",desc:"DESCENDING"},tx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nx={and:"AND",or:"OR"};class ix{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ep(i,e){return i.useProto3Json||pf(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function rx(i,e){return Qh(i,e.toTimestamp())}function Bi(i){return Ge(!!i,49232),be.fromTimestamp((function(n){const s=ms(n);return new rt(s.seconds,s.nanos)})(i))}function lg(i,e){return Tp(i,e).canonicalString()}function Tp(i,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function db(i){const e=tt.fromString(i);return Ge(_b(e),10190,{key:e.toString()}),e}function bp(i,e){return lg(i.databaseId,e.path)}function Qm(i,e){const n=db(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(pb(n))}function mb(i,e){return lg(i.databaseId,e)}function sx(i){const e=db(i);return e.length===4?tt.emptyPath():pb(e)}function Ap(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function pb(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function R0(i,e,n){return{name:bp(i,e),fields:n.value.mapValue.fields}}function ax(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(Ge(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const T=p.code===void 0?ee.UNKNOWN:ub(p.code);return new ue(T,p.message||"")})(h);n=new hb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qm(i,s.document.name),u=Bi(s.document.updateTime),h=s.document.createTime?Bi(s.document.createTime):be.min(),m=new yn({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,u,h,m),p=s.targetIds||[],T=s.removedTargetIds||[];n=new Nh(p,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qm(i,s.document),u=s.readTime?Bi(s.readTime):be.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Nh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qm(i,s.document),u=s.removedTargetIds||[];n=new Nh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new $4(o,u),m=s.targetId;n=new cb(m,h)}}return n}function ox(i,e){let n;if(e instanceof Iu)n={update:R0(i,e.key,e.value)};else if(e instanceof bf)n={delete:bp(i,e.key)};else if(e instanceof As)n={update:R0(i,e.key,e.data),updateMask:gx(e.fieldMask)};else{if(!(e instanceof K4))return Ee(16599,{dt:e.type});n={verify:bp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Yh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:rx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function lx(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Bi(o.updateTime):Bi(u);return h.isEqual(be.min())&&(h=Bi(u)),new F4(h,o.transformResults||[])})(n,e)))):[]}function ux(i,e){return{documents:[mb(i,e.path)]}}function cx(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mb(i,o);const u=(function(p){if(p.length!==0)return yb(ci.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((T=>(function(w){return{field:ho(w.field),direction:dx(w.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Ep(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function hx(i){let e=sx(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const w=gb(b);return w instanceof ci&&K1(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((w=>(function(K){return new Gh(fo(K.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,pf(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(b){const w=!!b.before,D=b.values||[];return new qh(D,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const w=!b.before,D=b.values||[];return new qh(D,w)})(n.endAt)),N4(e,o,h,u,m,"F",g,p)}function fx(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fo(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fo(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fo(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ot.create(fo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((s=>gb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function dx(i){return ex[i]}function mx(i){return tx[i]}function px(i){return nx[i]}function ho(i){return{fieldPath:i.canonicalString()}}function fo(i){return Xt.fromServerFormat(i.fieldPath)}function yb(i){return i instanceof Ot?(function(n){if(n.op==="=="){if(d0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(f0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(f0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:mx(n.op),value:n.value}}})(i):i instanceof ci?(function(n){const s=n.getFilters().map((o=>yb(o)));return s.length===1?s[0]:{compositeFilter:{op:px(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function gx(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _b(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function vb(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class as{constructor(e,n,s,o,u=be.min(),h=be.min(),m=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yx{constructor(e){this.yt=e}}function _x(i){const e=hx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?vp(e,e.limit,"L"):e}class vx{constructor(){this.Sn=new Ex}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ds.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class Ex{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(tt.comparator)).toArray()}}const C0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eb=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Eb,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class Ro{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ro(0)}static ar(){return new Ro(-1)}}const I0="LruGarbageCollector",Tx=1048576;function N0([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class bx{constructor(e){this.Pr=e,this.buffer=new Ut(N0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();N0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ax{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(I0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?ce(I0,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.Ar(3e5)}))}}class Sx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(mf.ce);const s=new bx(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(C0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,g,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),uo()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function wx(i,e){return new Sx(i,e)}class Rx{constructor(){this.changes=new ga((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Ix{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ru(s.mutation,o,xn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Xl();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=vr();const h=iu(),m=(function(){return iu()})();return n.forEach(((g,p)=>{const T=s.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof As)?u=u.insert(p.key,p):T!==void 0?(h.set(p.key,T.mutation.getFieldMask()),ru(T.mutation,p,T.mutation.getFieldMask(),rt.now())):h.set(p.key,xn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,T)=>h.set(p,T))),n.forEach(((p,T)=>m.set(p,new Cx(T,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=iu();let o=new ht(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let T=s.get(g)||xn.empty();T=m.applyToLocalView(p,T),s.set(g,T);const b=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,T=g.value,b=tb();T.forEach((w=>{if(!u.has(w)){const D=ob(n.get(w),s.get(w));D!==null&&b.set(w,D),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return x4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):X1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(na());let m=cu,g=u;return h.next((p=>ie.forEach(p,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?ie.resolve():this.remoteDocumentCache.getEntry(e,T).next((w=>{g=g.insert(T,w)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Pe()))).next((T=>({batchId:m,changes:eb(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Xl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(g=>{const p=(function(b,w){return new Cu(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((T=>{T.forEach(((b,w)=>{h=h.insert(b,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const T=p.getKey();h.get(T)===null&&(h=h.insert(T,nn.newInvalidDocument(T)))}));let m=Xl();return h.forEach(((g,p)=>{const T=u.get(g);T!==void 0&&ru(T.mutation,p,xn.empty(),rt.now()),vf(n,p)&&(m=m.insert(g,p))})),m}))}}class Nx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:_x(o.bundledQuery),readTime:Bi(o.readTime)}})(n)),ie.resolve()}}class xx{constructor(){this.overlays=new ht(pe.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=na(),u=n.length+1,h=new pe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((p,T)=>p-T));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let T=u.get(p.largestBatchId);T===null&&(T=na(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=na(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,T)=>m.set(p,T))),!(m.size()>=o)););return ie.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Q4(n,s));let u=this.Lr.get(n);u===void 0&&(u=Pe(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class Dx{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class ug{constructor(){this.kr=new Ut(Ht.Kr),this.qr=new Ut(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ht(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new pe(new tt([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new tt([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=Pe();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ht(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class Ox{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(Ht.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Y4(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?eg:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Ve);return n.forEach((o=>{const u=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ie.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new pe(u),0);let m=new Ut(Ve);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Hr)),!0)}),h),ie.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ie.forEach(n.mutations,(o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Jr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Mx{constructor(e){this.ti=e,this.docs=(function(){return new ht(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const h=n.path,m=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:T}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||a4(s4(T),s)<=0||(o.has(T.key)||vf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ni(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Vx(this)}getSize(e){return ie.resolve(this.size)}}class Vx extends Rx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Px{constructor(e){this.persistence=e,this.ri=new ga((n=>ig(n)),rg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new ug,this.targetCount=0,this.oi=Ro._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class Tb{constructor(e,n){this._i={},this.overlays={},this.ai=new mf(0),this.ui=!1,this.ui=!0,this.ci=new Dx,this.referenceDelegate=e(this),this.li=new Px(this),this.indexManager=new vx,this.remoteDocumentCache=(function(o){return new Mx(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new yx(n),this.Pi=new Nx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new Ox(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new Lx(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ie.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class Lx extends l4{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new ug,this.Ai=null}static Vi(e){return new cg(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(s=>{const o=pe.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.fi=new ga((s=>h4(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=wx(this,n)}static Vi(e,n){return new $h(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rh(e.data.value)),n}wr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(e,n.fromCache,s,o)}}class kx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ux{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return p2()?8:u4(rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new kx;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(uo()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(uo()<=Me.DEBUG&&ce("QueryEngine","Query:",co(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(uo()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):ie.resolve())}gs(e,n){if(y0(n))return ie.resolve(null);let s=zi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=vp(n,null,"F"),s=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.bs(n,m);return this.Ss(n,p,h,g.readTime)?this.gs(e,vp(n,null,"F")):this.Ds(e,p,n,g)}))))})))))}ps(e,n,s,o){return y0(n)||o.isEqual(be.min())?ie.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ie.resolve(null):(uo()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(n)),this.Ds(e,h,n,r4(o,cu)).next((m=>m)))}))}bs(e,n){let s=new Ut(J1(e));return n.forEach(((o,u)=>{vf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return uo()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",co(n)),this.fs.getDocumentsMatchingQuery(e,n,ds.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const fg="LocalStore",jx=3e8;class zx{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Ve),this.Fs=new ga((u=>ig(u)),rg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ix(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Bx(i,e,n,s){return new zx(i,e,n,s)}async function bb(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Pe();for(const p of o){h.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}for(const p of u){m.push(p.batchId);for(const T of p.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function Hx(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,T){const b=p.batch,w=b.keys();let D=ie.resolve();return w.forEach((K=>{D=D.next((()=>T.getEntry(g,K))).next((G=>{const O=p.docVersions.get(K);Ge(O!==null,48541),G.version.compareTo(O)<0&&(b.applyToRemoteDocument(G,p),G.isValidDocument()&&(G.setReadTime(p.commitVersion),T.addEntry(G)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(g,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Ab(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Fx(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((T,b)=>{const w=o.get(b);if(!w)return;m.push(n.li.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,b))));let D=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(Jt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(T.resumeToken,s)),o=o.insert(b,D),(function(G,O,$){return G.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=jx?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,D,T)&&m.push(n.li.updateTargetData(u,D))}));let g=vr(),p=Pe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(qx(u,h,e.documentUpdates).next((T=>{g=T.Bs,p=T.Ls}))),!s.isEqual(be.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ie.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.vs=o,u)))}function qx(i,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=vr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ce(fg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function Gx(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=eg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Kx(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new as(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Sp(i,e,n){const s=Se(i),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Lo(h))throw h;ce(fg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function x0(i,e,n){const s=Se(i);let o=be.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,T){const b=Se(g),w=b.Fs.get(T);return w!==void 0?ie.resolve(b.vs.get(w)):b.li.getTargetData(p,T)})(s,h,zi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:be.min(),n?u:Pe()))).next((m=>(Yx(s,O4(e),m),{documents:m,ks:u})))))}function Yx(i,e,n){let s=i.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(e,s)}class D0{constructor(){this.activeTargetIds=U4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qx{constructor(){this.vo=new D0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new D0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $x{Mo(e){}shutdown(){}}const O0="ConnectivityMonitor";class M0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(O0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(O0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gh=null;function wp(){return gh===null?gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():gh++,"0x"+gh.toString(16)}const $m="RestConnection",Xx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Wx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Hh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=wp(),m=this.Qo(e,n.toUriEncodedString());ce($m,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:p}=new URL(m),T=Es(p);return this.zo(e,m,g,s,T).then((b=>(ce($m,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw bo($m,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=Xx[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class Jx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",Gl=(i,e,n)=>{i.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class _o extends Wx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!_o.c_){const e=I1();Gl(e,C1.STAT_EVENT,(n=>{n.stat===fp.PROXY?ce(en,"STAT_EVENT: detected buffering proxy"):n.stat===fp.NOPROXY&&ce(en,"STAT_EVENT: detected no buffering proxy")})),_o.c_=!0}}zo(e,n,s,o,u){const h=wp();return new Promise(((m,g)=>{const p=new w1;p.setWithCredentials(!0),p.listenOnce(R1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case wh.NO_ERROR:const b=p.getResponseJson();ce(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case wh.TIMEOUT:ce(en,`RPC '${e}' ${h} timed out`),g(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const w=p.getStatus();if(ce(en,`RPC '${e}' ${h} failed with status:`,w,"response text:",p.getResponseText()),w>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const K=D?.error;if(K&&K.status&&K.message){const G=(function($){const F=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(F)>=0?F:ee.UNKNOWN})(K.status);g(new ue(G,K.message))}else g(new ue(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(en,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);ce(en,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=wp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const p=u.join("");ce(en,`Creating RPC '${e}' stream ${o}: ${p}`,m);const T=h.createWebChannel(p,m);this.I_(T);let b=!1,w=!1;const D=new Jx({Ho:K=>{w?ce(en,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(b||(ce(en,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),ce(en,`RPC '${e}' stream ${o} sending:`,K),T.send(K))},Jo:()=>T.close()});return Gl(T,$l.EventType.OPEN,(()=>{w||(ce(en,`RPC '${e}' stream ${o} transport opened.`),D.i_())})),Gl(T,$l.EventType.CLOSE,(()=>{w||(w=!0,ce(en,`RPC '${e}' stream ${o} transport closed`),D.o_(),this.E_(T))})),Gl(T,$l.EventType.ERROR,(K=>{w||(w=!0,bo(en,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),D.o_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),Gl(T,$l.EventType.MESSAGE,(K=>{if(!w){const G=K.data[0];Ge(!!G,16349);const O=G,$=O?.error||O[0]?.error;if($){ce(en,`RPC '${e}' stream ${o} received error:`,$);const F=$.status;let X=(function(ge){const I=Dt[ge];if(I!==void 0)return ub(I)})(F),re=$.message;X===void 0&&(X=ee.INTERNAL,re="Unknown error status: "+F+" with message "+$.message),w=!0,D.o_(new ue(X,re)),T.close()}else ce(en,`RPC '${e}' stream ${o} received:`,G),D.__(G)}})),_o.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return N1()}}function Zx(i){return new _o(i)}function Xm(){return typeof document<"u"?document:null}function Sf(i){return new ix(i,!0)}_o.c_=!1;class Sb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const V0="PersistentStream";class wb{constructor(e,n,s,o,u,h,m,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(V0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(V0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eD extends wb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ax(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?Bi(h.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Ap(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=yp(g)?{documents:ux(u,g)}:{query:cx(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=fb(u,h.resumeToken);const p=Ep(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Qh(u,h.snapshotVersion.toTimestamp());const p=Ep(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=fx(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Ap(this.serializer),n.removeTarget=e,this.K_(n)}}class tD extends wb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lx(e.writeResults,e.commitTime),s=Bi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ap(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ox(this.serializer,s)))};this.K_(n)}}class nD{}class iD extends nD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Tp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Tp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function rD(i,e,n,s){return new iD(i,e,n,s)}class sD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class aD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ya(this)&&(ce(ha,"Restarting streams for network reachability change."),await(async function(g){const p=Se(g);p.Ea.add(4),await xu(p),p.Va.set("Unknown"),p.Ea.delete(4),await wf(p)})(this))}))})),this.Va=new sD(s,o)}}async function wf(i){if(ya(i))for(const e of i.Ra)await e(!0)}async function xu(i){for(const e of i.Ra)await e(!1)}function Rb(i,e){const n=Se(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gg(n)?pg(n):ko(n).O_()&&mg(n,e))}function dg(i,e){const n=Se(i),s=ko(n);n.Ia.delete(e),s.O_()&&Cb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ya(n)&&n.Va.set("Unknown"))}function mg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(i).Z_(e)}function Cb(i,e){i.da.$e(e),ko(i).X_(e)}function pg(i){i.da=new Z4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ko(i).start(),i.Va.ua()}function gg(i){return ya(i)&&!ko(i).x_()&&i.Ia.size>0}function ya(i){return Se(i).Ea.size===0}function Ib(i){i.da=void 0}async function oD(i){i.Va.set("Online")}async function lD(i){i.Ia.forEach(((e,n)=>{mg(i,e)}))}async function uD(i,e){Ib(i),gg(i)?(i.Va.ha(e),pg(i)):i.Va.set("Unknown")}async function cD(i,e,n){if(i.Va.set("Online"),e instanceof hb&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(s){ce(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xh(i,s)}else if(e instanceof Nh?i.da.Xe(e):e instanceof cb?i.da.st(e):i.da.tt(e),!n.isEqual(be.min()))try{const s=await Ab(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),Cb(u,g);const b=new as(T.target,g,p,T.sequenceNumber);mg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ce(ha,"Failed to raise snapshot:",s),await Xh(i,s)}}async function Xh(i,e,n){if(!Lo(e))throw e;i.Ea.add(1),await xu(i),i.Va.set("Offline"),n||(n=()=>Ab(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(ha,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await wf(i)}))}function Nb(i,e){return e().catch((n=>Xh(i,n,e)))}async function Rf(i){const e=Se(i),n=ys(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:eg;for(;hD(e);)try{const o=await Gx(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,fD(e,o)}catch(o){await Xh(e,o)}xb(e)&&Db(e)}function hD(i){return ya(i)&&i.Ta.length<10}function fD(i,e){i.Ta.push(e);const n=ys(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function xb(i){return ya(i)&&!ys(i).x_()&&i.Ta.length>0}function Db(i){ys(i).start()}async function dD(i){ys(i).ra()}async function mD(i){const e=ys(i);for(const n of i.Ta)e.ea(n.mutations)}async function pD(i,e,n){const s=i.Ta.shift(),o=ag.from(s,e,n);await Nb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Rf(i)}async function gD(i,e){e&&ys(i).Y_&&await(async function(s,o){if((function(h){return X4(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();ys(s).B_(),await Nb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Rf(s)}})(i,e),xb(i)&&Db(i)}async function P0(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),ce(ha,"RemoteStore received new credentials");const s=ya(n);n.Ea.add(3),await xu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wf(n)}async function yD(i,e){const n=Se(i);e?(n.Ea.delete(2),await wf(n)):e||(n.Ea.add(2),await xu(n),n.Va.set("Unknown"))}function ko(i){return i.ma||(i.ma=(function(n,s,o){const u=Se(n);return u.sa(),new eD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:oD.bind(null,i),Yo:lD.bind(null,i),t_:uD.bind(null,i),J_:cD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),gg(i)?pg(i):i.Va.set("Unknown")):(await i.ma.stop(),Ib(i))}))),i.ma}function ys(i){return i.fa||(i.fa=(function(n,s,o){const u=Se(n);return u.sa(),new tD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:dD.bind(null,i),t_:gD.bind(null,i),ta:mD.bind(null,i),na:pD.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Rf(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(ha,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class yg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new yg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Lo(i))return new ue(ee.UNAVAILABLE,`${e}: ${i}`);throw i}class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class L0{constructor(){this.ga=new ht(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Co{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Co(e,n,vo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class _D{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class vD{constructor(){this.queries=k0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=k0(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function k0(){return new ga((i=>W1(i)),_f)}async function vg(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new _D,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=_g(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Tg(n)}async function Eg(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ED(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Tg(n)}function TD(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Tg(i){i.Ca.forEach((e=>{e.next()}))}var Rp,U0;(U0=Rp||(Rp={})).Ma="default",U0.Cache="cache";class bg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rp.Cache}}class Ob{constructor(e){this.key=e}}class Mb{constructor(e){this.key=e}}class bD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pe(),this.mutatedKeys=Pe(),this.eu=J1(e),this.tu=new vo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new L0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const w=o.get(T),D=vf(this.query,b)?b:null,K=!!w&&this.mutatedKeys.has(w.key),G=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let O=!1;w&&D?w.data.isEqual(D.data)?K!==G&&(s.track({type:3,doc:D}),O=!0):this.su(w,D)||(s.track({type:2,doc:D}),O=!0,(g&&this.eu(D,g)>0||p&&this.eu(D,p)<0)&&(m=!0)):!w&&D?(s.track({type:0,doc:D}),O=!0):w&&!D&&(s.track({type:1,doc:w}),O=!0,(g||p)&&(m=!0)),O&&(D?(h=h.add(D),u=G?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,b)=>(function(D,K){const G=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:O})}};return G(D)-G(K)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,p=g!==this.Xa;return this.Xa=g,h.length!==0||p?{snapshot:new Co(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new Mb(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new Ob(s))})),n}cu(e){this.Za=e.ks,this.Ya=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ag="SyncEngine";class AD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class SD{constructor(e){this.key=e,this.hu=!1}}class wD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ga((m=>W1(m)),_f),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(pe.comparator),this.Au=new Map,this.Vu=new ug,this.du={},this.mu=new Map,this.fu=Ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RD(i,e,n=!0){const s=jb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Vb(s,e,n,!0),o}async function CD(i,e){const n=jb(i);await Vb(n,e,!0,!1)}async function Vb(i,e,n,s){const o=await Kx(i.localStore,zi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ID(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Rb(i.remoteStore,o),m}async function ID(i,e,n,s,o){i.pu=(b,w,D)=>(async function(G,O,$,F){let X=O.view.ru($);X.Ss&&(X=await x0(G.localStore,O.query,!1).then((({documents:I})=>O.view.ru(I,X))));const re=F&&F.targetChanges.get(O.targetId),ae=F&&F.targetMismatches.get(O.targetId)!=null,ge=O.view.applyChanges(X,G.isPrimaryClient,re,ae);return z0(G,O.targetId,ge.au),ge.snapshot})(i,b,w,D);const u=await x0(i.localStore,e,!0),h=new bD(e,u.ks),m=h.ru(u.documents),g=Nu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=h.applyChanges(m,i.isPrimaryClient,g);z0(i,n,p.au);const T=new AD(e,n,h);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function ND(i,e,n){const s=Se(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!_f(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dg(s.remoteStore,o.targetId),Cp(s,o.targetId)})).catch(Po)):(Cp(s,o.targetId),await Sp(s.localStore,o.targetId,!0))}async function xD(i,e){const n=Se(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dg(n.remoteStore,s.targetId))}async function DD(i,e,n){const s=UD(i);try{const o=await(function(h,m){const g=Se(h),p=rt.now(),T=m.reduce(((D,K)=>D.add(K.key)),Pe());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let K=vr(),G=Pe();return g.xs.getEntries(D,T).next((O=>{K=O,K.forEach((($,F)=>{F.isValidDocument()||(G=G.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,K))).next((O=>{b=O;const $=[];for(const F of m){const X=G4(F,b.get(F.key).overlayedDocument);X!=null&&$.push(new As(F.key,X,F1(X.value.mapValue),vn.exists(!0)))}return g.mutationQueue.addMutationBatch(D,p,$,m)})).next((O=>{w=O;const $=O.applyToLocalDocumentSet(b,G);return g.documentOverlayCache.saveOverlays(D,O.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:eb(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.du[h.currentUser.toKey()];p||(p=new ht(Ve)),p=p.insert(m,g),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await Du(s,o.changes),await Rf(s.remoteStore)}catch(o){const u=_g(o,"Failed to persist write");n.reject(u)}}async function Pb(i,e){const n=Se(i);try{const s=await Fx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Du(n,s,e)}catch(s){await Po(s)}}function j0(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Se(h);g.onlineState=m;let p=!1;g.queries.forEach(((T,b)=>{for(const w of b.ba)w.va(m)&&(p=!0)})),p&&Tg(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function OD(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(pe.comparator);h=h.insert(u,nn.newNoDocument(u,be.min()));const m=Pe().add(u),g=new Af(be.min(),new Map,new ht(Ve),h,m);await Pb(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(e),Sg(s)}else await Sp(s.localStore,e,!1).then((()=>Cp(s,e,n))).catch(Po)}async function MD(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await Hx(n.localStore,e);kb(n,s,null),Lb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Du(n,o)}catch(o){await Po(o)}}async function VD(i,e,n){const s=Se(i);try{const o=await(function(h,m){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return g.mutationQueue.lookupMutationBatch(p,m).next((b=>(Ge(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(p,b)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>g.localDocuments.getDocuments(p,T)))}))})(s.localStore,e);kb(s,e,n),Lb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Du(s,o)}catch(o){await Po(o)}}function Lb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function kb(i,e,n){const s=Se(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Cp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((s=>{i.Vu.containsKey(s)||Ub(i,s)}))}function Ub(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(dg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),Sg(i))}function z0(i,e,n){for(const s of n)s instanceof Ob?(i.Vu.addReference(s.key,e),PD(i,s)):s instanceof Mb?(ce(Ag,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,e),i.Vu.containsKey(s.key)||Ub(i,s.key)):Ee(19791,{wu:s})}function PD(i,e){const n=e.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(ce(Ag,"New document in limbo: "+n),i.Eu.add(s),Sg(i))}function Sg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new pe(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new SD(n)),i.Ru=i.Ru.insert(n,s),Rb(i.remoteStore,new as(zi(yf(n.path)),s,"TargetPurposeLimboResolution",mf.ce))}}async function Du(i,e,n){const s=Se(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=hg.Es(g.targetId,p);u.push(T)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,p){const T=Se(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(p,(w=>ie.forEach(w.Ts,(D=>T.persistence.referenceDelegate.addReference(b,w.targetId,D))).next((()=>ie.forEach(w.Is,(D=>T.persistence.referenceDelegate.removeReference(b,w.targetId,D)))))))))}catch(b){if(!Lo(b))throw b;ce(fg,"Failed to update sequence numbers: "+b)}for(const b of p){const w=b.targetId;if(!b.fromCache){const D=T.vs.get(w),K=D.snapshotVersion,G=D.withLastLimboFreeSnapshotVersion(K);T.vs=T.vs.insert(w,G)}}})(s.localStore,u))}async function LD(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){ce(Ag,"User change. New user:",e.toKey());const s=await bb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Du(n,s.Ns)}}function kD(i,e){const n=Se(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function jb(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OD.bind(null,e),e.Pu.J_=ED.bind(null,e.eventManager),e.Pu.yu=TD.bind(null,e.eventManager),e}function UD(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VD.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Bx(this.persistence,new Ux,e.initialUser,this.serializer)}Cu(e){return new Tb(cg.Vi,this.serializer)}Du(e){return new Qx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class jD extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof $h,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ax(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Tb((s=>$h.Vi(s,n)),this.serializer)}}class Ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>j0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LD.bind(null,this.syncEngine),await yD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vD})()}createDatastore(e){const n=Sf(e.databaseInfo.databaseId),s=Zx(e.databaseInfo);return rD(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new aD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>j0(this.syncEngine,n,0)),(function(){return M0.v()?new M0:new $x})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,T){const b=new wD(o,u,h,m,g,p);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);ce(ha,"RemoteStore shutting down."),s.Ea.add(5),await xu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ip.provider={build:()=>new Ip};class wg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _s="FirestoreClient";class zD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ce(_s,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ce(_s,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=_g(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Wm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(_s,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await bb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function B0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await BD(i);ce(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>P0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>P0(e.remoteStore,o))),i._onlineComponents=e}async function BD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(_s,"Using user provided OfflineComponentProvider");try{await Wm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Wm(i,new Wh)}}else ce(_s,"Using default OfflineComponentProvider"),await Wm(i,new jD(void 0));return i._offlineComponents}async function zb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(_s,"Using user provided OnlineComponentProvider"),await B0(i,i._uninitializedComponentsProvider._online)):(ce(_s,"Using default OnlineComponentProvider"),await B0(i,new Ip))),i._onlineComponents}function HD(i){return zb(i).then((e=>e.syncEngine))}async function Jh(i){const e=await zb(i),n=e.eventManager;return n.onListen=RD.bind(null,e.syncEngine),n.onUnlisten=ND.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xD.bind(null,e.syncEngine),n}function FD(i,e,n,s){const o=new wg(s),u=new bg(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>vg(await Jh(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>Eg(await Jh(i),u)))}}function qD(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new wg({next:w=>{T.Nu(),h.enqueueAndForget((()=>Eg(u,b)));const D=w.docs.has(m);!D&&w.fromCache?p.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&g&&g.source==="server"?p.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new bg(yf(m.path),T,{includeMetadataChanges:!0,Ka:!0});return vg(u,b)})(await Jh(i),i.asyncQueue,e,n,s))),s.promise}function GD(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const T=new wg({next:w=>{T.Nu(),h.enqueueAndForget((()=>Eg(u,b))),w.fromCache&&g.source==="server"?p.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),b=new bg(m,T,{includeMetadataChanges:!0,Ka:!0});return vg(u,b)})(await Jh(i),i.asyncQueue,e,n,s))),s.promise}function KD(i,e){const n=new mr;return i.asyncQueue.enqueueAndForget((async()=>DD(await HD(i),e,n))),n.promise}function Bb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const YD="ComponentProvider",H0=new Map;function QD(i,e,n,s,o){return new m4(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Bb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const Hb="firestore.googleapis.com",F0=!0;class q0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hb,this.ssl=F0}else this.host=e.host,this.ssl=e.ssl??F0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Eb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Tx)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new YN;switch(s.type){case"firstParty":return new WN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=H0.get(n);s&&(ce(YD,"Removing Datastore"),H0.delete(n),s.terminate())})(this),Promise.resolve()}}function $D(i,e,n,s={}){i=_n(i,Cf);const o=Es(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(jp(`https://${m}`),zp("Firestore",!0)),u.host!==Hb&&u.host!==m&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!oa(g,h)&&(i._setSettings(g),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=tn.MOCK_USER;else{p=UT(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(b)}i._authCredentials=new QN(new D1(p,T))}}class _a{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ru(n,mt._jsonSchema))return new mt(e,s||null,new pe(tt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Mt("string",mt._jsonSchemaVersion),referencePath:Mt("string")};class hs extends _a{constructor(e,n,s){super(e,n,yf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new pe(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function fa(i,e,...n){if(i=st(i),O1("collection","path",e),i instanceof Cf){const s=tt.fromString(e,...n);return i0(s),new hs(i,null,s)}{if(!(i instanceof mt||i instanceof hs))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return i0(s),new hs(i.firestore,null,s)}}function Hi(i,e,...n){if(i=st(i),arguments.length===1&&(e=Zp.newId()),O1("doc","path",e),i instanceof Cf){const s=tt.fromString(e,...n);return n0(s),new mt(i,null,new pe(s))}{if(!(i instanceof mt||i instanceof hs))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return n0(s),new mt(i.firestore,i instanceof hs?i.converter:null,new pe(s))}}const G0="AsyncQueue";class K0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sb(this,"async_queue_retry"),this._c=()=>{const s=Xm();s&&ce(G0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Lo(e))throw e;ce(G0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",Y0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=yg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Y0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Y0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Er extends Cf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new K0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K0(e),this._firestoreClient=void 0,await e}}}function XD(i,e){const n=typeof i=="object"?i:Fp(),s=typeof i=="string"?i:Hh,o=lf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=PT("firestore");u&&$D(o,...u)}return o}function Ou(i){if(i._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||WD(i),i._firestoreClient}function WD(i){const e=i._freezeSettings(),n=QD(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new zD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Jt.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ru(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Mt("string",Yn._jsonSchemaVersion),bytes:Mt("string")};class If{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rg{constructor(e){this._methodName=e}}class Fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Ru(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Mt("string",Fi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ru(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new li(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Mt("string",li._jsonSchemaVersion),vectorValues:Mt("object")};const JD=/^__.*__$/;class ZD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new Iu(e,this.data,n,this.fieldTransforms)}}class Fb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:i})}}class Cg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Zh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(qb(this.dataSource)&&JD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class eO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Sf(e)}createContext(e,n,s,o=!1){return new Cg({dataSource:e,methodName:n,targetDoc:s,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nf(i){const e=i._freezeSettings(),n=Sf(i._databaseId);return new eO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Gb(i,e,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);Ig("Data must be an object, but it was:",h,s);const m=Qb(s,h);let g,p;if(u.merge)g=new xn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const w=Io(e,b,n);if(!h.contains(w))throw new ue(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Wb(T,w)||T.push(w)}g=new xn(T),p=h.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,p=h.fieldTransforms;return new ZD(new yn(m),g,p)}class xf extends Rg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xf}}function Kb(i,e,n,s){const o=i.createContext(1,e,n);Ig("Data must be an object, but it was:",o,s);const u=[],h=yn.empty();bs(s,((g,p)=>{const T=Xb(e,g,n);p=st(p);const b=o.childContextForFieldPath(T);if(p instanceof xf)u.push(T);else{const w=Mu(p,b);w!=null&&(u.push(T),h.set(T,w))}}));const m=new xn(u);return new Fb(h,m,o.fieldTransforms)}function Yb(i,e,n,s,o,u){const h=i.createContext(1,e,n),m=[Io(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Io(e,u[w])),g.push(u[w+1]);const p=[],T=yn.empty();for(let w=m.length-1;w>=0;--w)if(!Wb(p,m[w])){const D=m[w];let K=g[w];K=st(K);const G=h.childContextForFieldPath(D);if(K instanceof xf)p.push(D);else{const O=Mu(K,G);O!=null&&(p.push(D),T.set(D,O))}}const b=new xn(p);return new Fb(T,b,h.fieldTransforms)}function tO(i,e,n,s=!1){return Mu(n,i.createContext(s?4:3,e))}function Mu(i,e){if($b(i=st(i)))return Ig("Unsupported field value:",e,i),Qb(i,e);if(i instanceof Rg)return(function(s,o){if(!qb(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=Mu(m,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=st(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return j4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Qh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Yn)return{bytesValue:fb(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof li)return(function(h,m){const g=h instanceof li?h.toArray():h;return{mapValue:{fields:{[B1]:{stringValue:H1},[Fh]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return sg(m.serializer,T)}))}}}}}})(s,o);if(vb(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${df(s)}`)})(i,e)}function Qb(i,e){const n={};return P1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(i,((s,o)=>{const u=Mu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function $b(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof Fi||i instanceof Yn||i instanceof mt||i instanceof Rg||i instanceof li||vb(i))}function Ig(i,e,n){if(!$b(n)||!M1(n)){const s=df(n);throw s==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+s)}}function Io(i,e,n){if((e=st(e))instanceof If)return e._internalPath;if(typeof e=="string")return Xb(i,e);throw Zh("Field path arguments must be of type string or ",i,!1,void 0,n)}const nO=new RegExp("[~\\*/\\[\\]]");function Xb(i,e,n){if(e.search(nO)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new If(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Zh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(ee.INVALID_ARGUMENT,m+i+g)}function Wb(i,e){return i.some((n=>n.isEqual(e)))}class iO{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Fh].arrayValue?.values?.map((s=>Tt(s.doubleValue)));return new li(n)}convertGeoPoint(e){return new Fi(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=ms(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(_b(s),9688,{name:e});const o=new fu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Ng extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}const Q0="@firebase/firestore",$0="4.10.0";function X0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Jb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Io("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rO extends Jb{data(){return super.data()}}function Zb(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class sO extends xg{}function gu(i,e,...n){let s=[];e instanceof xg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof Dg)).length,m=u.filter((g=>g instanceof Df)).length;if(h>1||h>0&&m>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Df extends sO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Df(e,n,s)}_apply(e){const n=this._parse(e);return eA(e._query,n),new _a(e.firestore,e.converter,_p(e._query,n))}_parse(e){const n=Nf(e.firestore);return(function(u,h,m,g,p,T,b){let w;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){J0(b,T);const K=[];for(const G of b)K.push(W0(g,u,G));w={arrayValue:{values:K}}}else w=W0(g,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||J0(b,T),w=tO(m,h,b,T==="in"||T==="not-in");return Ot.create(p,T,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yu(i,e,n){const s=e,o=Io("where",i);return Df._create(o,s,n)}class Dg extends xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)eA(h,g),h=_p(h,g)})(e._query,n),new _a(e.firestore,e.converter,_p(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W0(i,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X1(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!pe.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return h0(i,new pe(s))}if(n instanceof mt)return h0(i,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function J0(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eA(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function tA(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends Jb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Io("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Mt("string",ra._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class xh extends ra{data(e={}){return super.data(e)}}class sa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new xh(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:aO(m.type),doc:g,oldIndex:p,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:Mt("string",sa._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class oO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Nf(e)}set(e,n,s){this._verifyNotCommitted();const o=Jm(e,this._firestore),u=tA(o.converter,n,s),h=Gb(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,vn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Jm(e,this._firestore);let h;return h=typeof(n=st(n))=="string"||n instanceof If?Yb(this._dataReader,"WriteBatch.update",u._key,n,s,o):Kb(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Jm(e,this._firestore);return this._mutations=this._mutations.concat(new bf(n._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jm(i,e){if((i=st(i)).firestore!==e)throw new ue(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Vu(i){i=_n(i,mt);const e=_n(i.firestore,Er),n=Ou(e);return qD(n,i._key).then((s=>sA(e,i,s)))}function nA(i){i=_n(i,_a);const e=_n(i.firestore,Er),n=Ou(e),s=new Ng(e);return Zb(i._query),GD(n,i._query).then((o=>new sa(e,s,i,o)))}function iA(i,e,n){i=_n(i,mt);const s=_n(i.firestore,Er),o=tA(i.converter,e,n),u=Nf(s);return Of(s,[Gb(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,vn.none())])}function rA(i,e,n,...s){i=_n(i,mt);const o=_n(i.firestore,Er),u=Nf(o);let h;return h=typeof(e=st(e))=="string"||e instanceof If?Yb(u,"updateDoc",i._key,e,n,s):Kb(u,"updateDoc",i._key,e),Of(o,[h.toMutation(i._key,vn.exists(!0))])}function lO(i){return Of(_n(i.firestore,Er),[new bf(i._key,vn.none())])}function ef(i,...e){i=st(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||X0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(X0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof mt)h=_n(i.firestore,Er),m=yf(i._key.path),u={next:p=>{e[s]&&e[s](sA(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=_n(i,_a);h=_n(p.firestore,Er),m=p._query;const T=new Ng(h);u={next:b=>{e[s]&&e[s](new sa(h,T,p,b))},error:e[s+1],complete:e[s+2]},Zb(i._query)}const g=Ou(h);return FD(g,m,o,u)}function Of(i,e){const n=Ou(i);return KD(n,e)}function sA(i,e,n){const s=n.docs.get(e._key),o=new Ng(i);return new ra(i,o,e._key,s,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}function uO(i){return i=_n(i,Er),Ou(i),new oO(i,(e=>Of(i,e)))}(function(e,n=!0){KN(ma),la(new fs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Er(new $N(s.getProvider("auth-internal")),new JN(h,s.getProvider("app-check-internal")),p4(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ki(Q0,$0,e),ki(Q0,$0,"esm2020")})();var cO="firebase",hO="12.8.0";ki(cO,hO,"app");const aA="firebasestorage.googleapis.com",oA="storageBucket",fO=120*1e3,dO=600*1e3;class gt extends Gi{constructor(e,n,s=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function Zm(i){return"storage/"+i}function Og(){const i="An unknown error occurred, please check the error payload for server response.";return new gt(pt.UNKNOWN,i)}function mO(i){return new gt(pt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function pO(i){return new gt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(pt.UNAUTHENTICATED,i)}function yO(){return new gt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _O(i){return new gt(pt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function vO(){return new gt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EO(){return new gt(pt.CANCELED,"User canceled the upload/download.")}function TO(i){return new gt(pt.INVALID_URL,"Invalid URL '"+i+"'.")}function bO(i){return new gt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function AO(){return new gt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oA+"' property when initializing the app?")}function SO(){return new gt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wO(){return new gt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function RO(i){return new gt(pt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Np(i){return new gt(pt.INVALID_ARGUMENT,i)}function lA(){return new gt(pt.APP_DELETED,"The Firebase app was deleted.")}function CO(i){return new gt(pt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function su(i,e){return new gt(pt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Kl(i){throw new gt(pt.INTERNAL_ERROR,"Internal error: "+i)}class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(s.path==="")return s;throw bO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function p(re){re.path_=decodeURIComponent(re.path)}const T="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${b}/${T}/b/${o}/o${w}`,"i"),K={bucket:1,path:3},G=n===aA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",$=new RegExp(`^https?://${G}/${o}/${O}`,"i"),X=[{regex:m,indices:g,postModify:u},{regex:D,indices:K,postModify:p},{regex:$,indices:{bucket:1,path:2},postModify:p}];for(let re=0;re<X.length;re++){const ae=X[re],ge=ae.regex.exec(e);if(ge){const I=ge[ae.indices.bucket];let R=ge[ae.indices.path];R||(R=""),s=new Dn(I,R),ae.postModify(s);break}}if(s==null)throw TO(e);return s}}class IO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function NO(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function g(){return m===2}let p=!1;function T(...O){p||(p=!0,e.apply(null,O))}function b(O){o=setTimeout(()=>{o=null,i(D,g())},O)}function w(){u&&clearTimeout(u)}function D(O,...$){if(p){w();return}if(O){w(),T.call(null,O,...$);return}if(g()||h){w(),T.call(null,O,...$);return}s<64&&(s*=2);let X;m===1?(m=2,X=0):X=(s+Math.random())*1e3,b(X)}let K=!1;function G(O){K||(K=!0,w(),!p&&(o!==null?(O||(m=2),clearTimeout(o),b(0)):O||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,G(!0)},n),G}function xO(i){i(!1)}function DO(i){return i!==void 0}function OO(i){return typeof i=="object"&&!Array.isArray(i)}function Mg(i){return typeof i=="string"||i instanceof String}function Z0(i){return Vg()&&i instanceof Blob}function Vg(){return typeof Blob<"u"}function eT(i,e,n,s){if(s<e)throw Np(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw Np(`Invalid value for '${i}'. Expected ${n} or less.`)}function Pg(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function uA(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var aa;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(aa||(aa={}));function MO(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class VO{constructor(e,n,s,o,u,h,m,g,p,T,b,w=!0,D=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=T,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,G)=>{this.resolve_=K,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new yh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===aa.NO_ERROR,g=u.getStatus();if(!m||MO(g,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===aa.ABORT;s(!1,new yh(!1,null,T));return}const p=this.successCodes_.indexOf(g)!==-1;s(!0,new yh(p,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());DO(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=Og();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?lA():EO();h(g)}else{const g=vO();h(g)}};this.canceled_?n(!1,new yh(!1,null,!0)):this.backoffId_=NO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function PO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function LO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kO(i,e){e&&(i["X-Firebase-GMPID"]=e)}function UO(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function jO(i,e,n,s,o,u,h=!0,m=!1){const g=uA(i.urlParams),p=i.url+g,T=Object.assign({},i.headers);return kO(T,e),PO(T,n),LO(T,u),UO(T,s),new VO(p,i.method,T,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function zO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BO(...i){const e=zO();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Vg())return new Blob(i);throw new gt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HO(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}function FO(i){if(typeof atob>"u")throw RO("base-64");return atob(i)}const Li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ep{constructor(e,n){this.data=e,this.contentType=n||null}}function qO(i,e){switch(i){case Li.RAW:return new ep(cA(e));case Li.BASE64:case Li.BASE64URL:return new ep(hA(i,e));case Li.DATA_URL:return new ep(KO(e),YO(e))}throw Og()}function cA(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function GO(i){let e;try{e=decodeURIComponent(i)}catch{throw su(Li.DATA_URL,"Malformed data URL.")}return cA(e)}function hA(i,e){switch(i){case Li.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw su(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Li.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw su(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=FO(e)}catch(o){throw o.message.includes("polyfill")?o:su(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class fA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw su(Li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=QO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function KO(i){const e=new fA(i);return e.base64?hA(Li.BASE64,e.rest):GO(e.rest)}function YO(i){return new fA(i).contentType}function QO(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class ss{constructor(e,n){let s=0,o="";Z0(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Z0(this.data_)){const s=this.data_,o=HO(s,e,n);return o===null?null:new ss(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ss(s,!0)}}static getBlob(...e){if(Vg()){const n=e.map(s=>s instanceof ss?s.data_:s);return new ss(BO.apply(null,n))}else{const n=e.map(h=>Mg(h)?qO(Li.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new ss(o,!0)}}uploadData(){return this.data_}}function dA(i){let e;try{e=JSON.parse(i)}catch{return null}return OO(e)?e:null}function $O(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function XO(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function mA(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function WO(i,e){return e}class ln{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||WO}}let _h=null;function JO(i){return!Mg(i)||i.length<2?i:mA(i)}function pA(){if(_h)return _h;const i=[];i.push(new ln("bucket")),i.push(new ln("generation")),i.push(new ln("metageneration")),i.push(new ln("name","fullPath",!0));function e(u,h){return JO(h)}const n=new ln("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new ln("size");return o.xform=s,i.push(o),i.push(new ln("timeCreated")),i.push(new ln("updated")),i.push(new ln("md5Hash",null,!0)),i.push(new ln("cacheControl",null,!0)),i.push(new ln("contentDisposition",null,!0)),i.push(new ln("contentEncoding",null,!0)),i.push(new ln("contentLanguage",null,!0)),i.push(new ln("contentType",null,!0)),i.push(new ln("metadata","customMetadata",!0)),_h=i,_h}function ZO(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Dn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function eM(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return ZO(s,i),s}function gA(i,e,n){const s=dA(e);return s===null?null:eM(i,s,n)}function tM(i,e,n,s){const o=dA(e);if(o===null||!Mg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(p=>{const T=i.bucket,b=i.fullPath,w="/b/"+h(T)+"/o/"+h(b),D=Pg(w,n,s),K=uA({alt:"media",token:p});return D+K})[0]}function nM(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class yA{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _A(i){if(!i)throw Og()}function iM(i,e){function n(s,o){const u=gA(i,o,e);return _A(u!==null),u}return n}function rM(i,e){function n(s,o){const u=gA(i,o,e);return _A(u!==null),tM(u,o,i.host,i._protocol)}return n}function vA(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=yO():o=gO():n.getStatus()===402?o=pO(i.bucket):n.getStatus()===403?o=_O(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function sM(i){const e=vA(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=mO(i.path)),u.serverResponse=o.serverResponse,u}return n}function aM(i,e,n){const s=e.fullServerUrl(),o=Pg(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new yA(o,u,rM(i,n),h);return m.errorHandler=sM(e),m}function oM(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function lM(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=oM(null,e)),s}function uM(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let X="";for(let re=0;re<2;re++)X=X+Math.random().toString().slice(2);return X}const g=m();h["Content-Type"]="multipart/related; boundary="+g;const p=lM(e,s,o),T=nM(p,n),b="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+T+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+g+"--",D=ss.getBlob(b,s,w);if(D===null)throw SO();const K={name:p.fullPath},G=Pg(u,i.host,i._protocol),O="POST",$=i.maxUploadRetryTime,F=new yA(G,O,iM(i,n),$);return F.urlParams=K,F.headers=h,F.body=D.uploadData(),F.errorHandler=vA(e),F}class cM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=aa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=aa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=aa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Kl("cannot .send() more than once");if(Es(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Kl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hM extends cM{initXhr(){this.xhr_.responseType="text"}}function EA(){return new hM}class da{constructor(e,n){this._service=e,n instanceof Dn?this._location=n:this._location=Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new da(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mA(this._location.path)}get storage(){return this._service}get parent(){const e=$O(this._location.path);if(e===null)return null;const n=new Dn(this._location.bucket,e);return new da(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CO(e)}}function fM(i,e,n){i._throwIfRoot("uploadBytes");const s=uM(i.storage,i._location,pA(),new ss(e,!0),n);return i.storage.makeRequestWithTokens(s,EA).then(o=>({metadata:o,ref:i}))}function dM(i){i._throwIfRoot("getDownloadURL");const e=aM(i.storage,i._location,pA());return i.storage.makeRequestWithTokens(e,EA).then(n=>{if(n===null)throw wO();return n})}function mM(i,e){const n=XO(i._location.path,e),s=new Dn(i._location.bucket,n);return new da(i.storage,s)}function pM(i){return/^[A-Za-z]+:\/\//.test(i)}function gM(i,e){return new da(i,e)}function TA(i,e){if(i instanceof Lg){const n=i;if(n._bucket==null)throw AO();const s=new da(n,n._bucket);return e!=null?TA(s,e):s}else return e!==void 0?mM(i,e):i}function yM(i,e){if(e&&pM(e)){if(i instanceof Lg)return gM(i,e);throw Np("To use ref(service, url), the first argument must be a Storage instance.")}else return TA(i,e)}function tT(i,e){const n=e?.[oA];return n==null?null:Dn.makeFromBucketSpec(n,i)}function _M(i,e,n,s={}){i.host=`${e}:${n}`;const o=Es(e);o&&(jp(`https://${i.host}/b`),zp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:UT(u,i.app.options.projectId))}class Lg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=aA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fO,this._maxUploadRetryTime=dO,this._requests=new Set,o!=null?this._bucket=Dn.makeFromBucketSpec(o,this._host):this._bucket=tT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=tT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new da(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new IO(lA());{const h=jO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const nT="@firebase/storage",iT="0.14.0";const bA="storage";function vM(i,e,n){return i=st(i),fM(i,e,n)}function EM(i){return i=st(i),dM(i)}function TM(i,e){return i=st(i),yM(i,e)}function bM(i=Fp(),e){i=st(i);const s=lf(i,bA).getImmediate({identifier:e}),o=PT("storage");return o&&AM(s,...o),s}function AM(i,e,n,s={}){_M(i,e,n,s)}function SM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Lg(n,s,o,e,ma)}function wM(){la(new fs(bA,SM,"PUBLIC").setMultipleInstances(!0)),ki(nT,iT,""),ki(nT,iT,"esm2020")}wM();const RM={apiKey:"AIzaSyDYv6wA5oORN8EmEbysQVQ3x5enj8gRyVM",authDomain:"yesil-43ba4.firebaseapp.com",databaseURL:"https://yesil-43ba4-default-rtdb.firebaseio.com",projectId:"yesil-43ba4",storageBucket:"yesil-43ba4.firebasestorage.app",messagingSenderId:"203487504975",appId:"1:203487504975:web:847f97ab7057806cfd983a",measurementId:"G-R1FXBEC64G"},kg=BT(RM),En=qN(kg),Wt=XD(kg),CM=bM(kg);var AA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rT=ia.createContext&&ia.createContext(AA),IM=["attr","size","title"];function NM(i,e){if(i==null)return{};var n=xM(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function xM(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function tf(){return tf=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},tf.apply(this,arguments)}function sT(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function nf(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(n),!0).forEach(function(s){DM(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function DM(i,e,n){return e=OM(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function OM(i){var e=MM(i,"string");return typeof e=="symbol"?e:e+""}function MM(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function SA(i){return i&&i.map((e,n)=>ia.createElement(e.tag,nf({key:n},e.attr),SA(e.child)))}function ke(i){return e=>ia.createElement(VM,tf({attr:nf({},i.attr)},e),SA(i.child))}function VM(i){var e=n=>{var{attr:s,size:o,title:u}=i,h=NM(i,IM),m=o||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),ia.createElement("svg",tf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:g,style:nf(nf({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ia.createElement("title",null,u),i.children)};return rT!==void 0?ia.createElement(rT.Consumer,null,n=>e(n)):e(AA)}function wA(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 10h3v7H4zM10.5 10h3v7h-3zM2 19h20v3H2zM17 10h3v7h-3zM12 1 2 6v2h20V6z"},child:[]}]})(i)}function PM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(i)}function RA(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},child:[]}]})(i)}function LM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(i)}function Dh(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(i)}function kM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(i)}function xp(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(i)}function tp(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(i)}function UM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"},child:[]}]})(i)}function jM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(i)}function CA(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(i)}function Eo(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(i)}function aT(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"},child:[]}]})(i)}function zM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(i)}function BM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},child:[]}]})(i)}function IA(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(i)}function HM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(i)}function NA(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(i)}function rf(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(i)}function FM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"},child:[]}]})(i)}function Ug(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6v2zm5-7H4V4l16-.02V7z"},child:[]}]})(i)}function qM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(i)}function xA(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]},{tag:"path",attr:{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},child:[]}]})(i)}function DA(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"},child:[]}]})(i)}function GM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"},child:[]}]})(i)}function jg(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(i)}function KM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(i)}function oT(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m8.1 13.34 2.83-2.83L3.91 3.5a4.008 4.008 0 0 0 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z"},child:[]}]})(i)}function YM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"},child:[]}]})(i)}function QM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(i)}function $M(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(i)}function lT(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(i)}function uT(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(i)}function XM(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(i)}function OA(i){return ke({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(i)}const MA="/restaurants/assets/yesill-CmSrf6oY.png";function WM({activePage:i,setActivePage:e,userData:n}){const s=vu(),o=async()=>{try{await d1(En),s("/")}catch(h){console.error("Logout error:",h)}},u=[{id:"dashboard",label:"Dashboard",icon:RA,path:"/"},{id:"orders",label:"Orders",icon:Eo,path:"/orders"},{id:"products",label:"Products",icon:Ug,path:"/products"},{id:"add-product",label:"Add Product",icon:rf,path:"/products/add"},{id:"bank-details",label:"Bank Details",icon:wA,path:"/bank-details"},{id:"payout-history",label:"Payout History",icon:Dh,path:"/payout-history"},{id:"settings",label:"Settings",icon:CA,path:"/settings"}];return E.jsxs("aside",{className:"sidebar",children:[E.jsx("div",{className:"sidebar-header",children:E.jsxs("div",{className:"logo",children:[E.jsx("img",{src:MA,alt:"Yesil",className:"logo-image"}),E.jsxs("div",{children:[E.jsx("h1",{children:"Yesil Restaurant"}),E.jsx("p",{children:"Management Panel"})]})]})}),E.jsxs("div",{className:"sidebar-user",children:[E.jsx("div",{className:"user-avatar",children:n?.profileImage?E.jsx("img",{src:n.profileImage,alt:n.name}):E.jsx(YM,{})}),E.jsxs("div",{className:"user-info",children:[E.jsx("span",{className:"user-name",children:n?.name||"Restaurant"}),E.jsx("span",{className:"user-role",children:"Restaurant Owner"})]})]}),E.jsx("nav",{className:"sidebar-nav",children:u.map(h=>E.jsxs(NT,{to:h.path,className:({isActive:m})=>`nav-item ${m?"active":""}`,onClick:()=>e(h.id),children:[E.jsx(h.icon,{className:"nav-icon"}),E.jsx("span",{children:h.label})]},h.id))}),E.jsxs("button",{className:"logout-btn",onClick:o,children:[E.jsx(xp,{}),E.jsx("span",{children:"Logout"})]})]})}function JM(){const[i,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(""),[h,m]=j.useState(!1),g=async p=>{p.preventDefault(),u(""),m(!0);try{const T=await xI(En,i,n),b=await Vu(Hi(Wt,"users",T.user.uid));if(b.exists()){if(b.data().type!=="restaurant"){await En.signOut(),u("This panel is only accessible for restaurant accounts."),m(!1);return}}else{await En.signOut(),u("User data not found."),m(!1);return}}catch(T){console.error("Login error:",T),T.code==="auth/user-not-found"||T.code==="auth/wrong-password"?u("Invalid email or password."):T.code==="auth/invalid-email"?u("Please enter a valid email address."):T.code==="auth/too-many-requests"?u("Too many failed attempts. Please try again later."):u("Login failed. Please try again."),m(!1)}};return E.jsx("div",{className:"login-container",children:E.jsxs("div",{className:"login-card",children:[E.jsxs("div",{className:"login-logo",children:[E.jsx("img",{src:MA,alt:"Yesil",style:{width:80,height:80,objectFit:"contain"}}),E.jsx("h1",{children:"Yesil Restaurant"}),E.jsx("p",{children:"Restaurant Management Panel"})]}),o&&E.jsx("div",{className:"login-error",children:o}),E.jsxs("form",{className:"login-form",onSubmit:g,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Email Address"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(IA,{style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",color:"#94A3B8"}}),E.jsx("input",{type:"email",className:"form-input",style:{paddingLeft:40},placeholder:"Enter your email",value:i,onChange:p=>e(p.target.value),required:!0})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Password"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(kM,{style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",color:"#94A3B8"}}),E.jsx("input",{type:"password",className:"form-input",style:{paddingLeft:40},placeholder:"Enter your password",value:n,onChange:p=>s(p.target.value),required:!0})]})]}),E.jsx("button",{type:"submit",className:"login-btn",disabled:h,children:h?"Signing in...":"Sign In"})]}),E.jsx("p",{style:{textAlign:"center",marginTop:24,color:"#64748B",fontSize:13},children:"This panel is only for registered restaurant owners."})]})})}function ZM({userData:i}){const[e,n]=j.useState({todayOrders:0,todayRevenue:0,pendingOrders:0,totalProducts:0,weeklyRevenue:0,totalOrders:0}),[s,o]=j.useState([]),[u,h]=j.useState(!0);j.useEffect(()=>{const p=En.currentUser;if(!p)return;const T=p.uid,b=new Date,w=new Date(b.getFullYear(),b.getMonth(),b.getDate()),D=new Date(b.getFullYear(),b.getMonth(),b.getDate()-7),K=gu(fa(Wt,"orders_v2"),yu("restaurantId","==",T)),G=ef(K,F=>{const X=F.docs.map(R=>({id:R.id,...R.data(),createdAt:R.data().createdAt?.toDate()||new Date})),re=X.filter(R=>R.createdAt>=w),ae=X.filter(R=>R.createdAt>=D),ge=X.filter(R=>R.status==="placed"||R.status==="pending"),I=R=>parseFloat(R.priceafter)||parseFloat(R.total)||R.items?.reduce((C,L)=>C+(parseFloat(L.priceAfter)||0)*(parseInt(L.quantity)||1),0)||0;n({todayOrders:re.length,todayRevenue:re.reduce((R,C)=>R+I(C),0),pendingOrders:ge.length,totalProducts:0,weeklyRevenue:ae.reduce((R,C)=>R+I(C),0),totalOrders:X.length}),o(X.sort((R,C)=>C.createdAt-R.createdAt).slice(0,5)),h(!1)}),O=gu(fa(Wt,"products"),yu("idrestaurant","==",T)),$=ef(O,F=>{n(X=>({...X,totalProducts:F.size}))});return()=>{G(),$()}},[]);const m=p=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2}).format(p),g=p=>({placed:{class:"badge-pending",label:"Pending"},pending:{class:"badge-pending",label:"Pending"},accepted:{class:"badge-accepted",label:"Accepted"},preparing:{class:"badge-info",label:"Preparing"},delivered:{class:"badge-delivered",label:"Delivered"},reached:{class:"badge-reached",label:"Completed"},refused:{class:"badge-refused",label:"Refused"}})[p]||{class:"badge-pending",label:p};return u?E.jsx("div",{className:"loading-container",children:E.jsx("div",{className:"loading-spinner"})}):E.jsxs("div",{className:"dashboard",children:[E.jsx("div",{className:"page-header",children:E.jsxs("div",{children:[E.jsxs("h1",{className:"page-title",children:[E.jsx(RA,{}),"Dashboard"]}),E.jsxs("p",{className:"page-subtitle",children:["Welcome back, ",i?.name||"Restaurant Owner"]})]})}),E.jsxs("div",{className:"stats-grid",children:[E.jsxs("div",{className:"stat-card",children:[E.jsx("div",{className:"stat-icon",style:{background:"#E0F2FE"},children:E.jsx(Eo,{style:{color:"#0369A1"}})}),E.jsxs("div",{className:"stat-content",children:[E.jsx("p",{className:"stat-label",children:"Today's Orders"}),E.jsx("h2",{className:"stat-value",children:e.todayOrders})]})]}),E.jsxs("div",{className:"stat-card",children:[E.jsx("div",{className:"stat-icon",style:{background:"#D1FAE5"},children:E.jsx(DA,{style:{color:"#059669"}})}),E.jsxs("div",{className:"stat-content",children:[E.jsx("p",{className:"stat-label",children:"Today's Revenue"}),E.jsx("h2",{className:"stat-value",children:m(e.todayRevenue)})]})]}),E.jsxs("div",{className:"stat-card",children:[E.jsx("div",{className:"stat-icon",style:{background:"#FEF3C7"},children:E.jsx(xA,{style:{color:"#D97706"}})}),E.jsxs("div",{className:"stat-content",children:[E.jsx("p",{className:"stat-label",children:"Pending Orders"}),E.jsx("h2",{className:"stat-value",children:e.pendingOrders})]})]}),E.jsxs("div",{className:"stat-card",children:[E.jsx("div",{className:"stat-icon",style:{background:"#E0E7FF"},children:E.jsx(Ug,{style:{color:"#4F46E5"}})}),E.jsxs("div",{className:"stat-content",children:[E.jsx("p",{className:"stat-label",children:"Total Products"}),E.jsx("h2",{className:"stat-value",children:e.totalProducts})]})]}),E.jsxs("div",{className:"stat-card",children:[E.jsx("div",{className:"stat-icon",style:{background:"#FCE7F3"},children:E.jsx(zM,{style:{color:"#DB2777"}})}),E.jsxs("div",{className:"stat-content",children:[E.jsx("p",{className:"stat-label",children:"Weekly Revenue"}),E.jsx("h2",{className:"stat-value",children:m(e.weeklyRevenue)})]})]}),E.jsxs("div",{className:"stat-card",children:[E.jsx("div",{className:"stat-icon",style:{background:"#F3E8FF"},children:E.jsx(Eo,{style:{color:"#9333EA"}})}),E.jsxs("div",{className:"stat-content",children:[E.jsx("p",{className:"stat-label",children:"Total Orders"}),E.jsx("h2",{className:"stat-value",children:e.totalOrders})]})]})]}),E.jsxs("div",{className:"recent-orders-section",children:[E.jsx("h2",{className:"section-title",children:"Recent Orders"}),s.length===0?E.jsxs("div",{className:"empty-state",children:[E.jsx(Eo,{style:{fontSize:48,color:"#CBD5E1"}}),E.jsx("p",{children:"No orders yet"})]}):E.jsx("div",{className:"orders-table",children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Order ID"}),E.jsx("th",{children:"Customer"}),E.jsx("th",{children:"Items"}),E.jsx("th",{children:"Total"}),E.jsx("th",{children:"Status"}),E.jsx("th",{children:"Time"})]})}),E.jsx("tbody",{children:s.map(p=>{const T=g(p.status),b=parseFloat(p.priceafter)||parseFloat(p.total)||0;return E.jsxs("tr",{children:[E.jsxs("td",{children:["#",p.id.substring(0,8)]}),E.jsx("td",{children:p.name||"Customer"}),E.jsxs("td",{children:[p.items?.length||0," items"]}),E.jsx("td",{children:m(b)}),E.jsx("td",{children:E.jsx("span",{className:`badge ${T.class}`,children:T.label})}),E.jsx("td",{children:p.createdAt.toLocaleTimeString()})]},p.id)})})]})})]})]})}function e3(){const[i,e]=j.useState([]),[n,s]=j.useState([]),[o,u]=j.useState(!0),[h,m]=j.useState("all"),[g,p]=j.useState("all"),[T,b]=j.useState(null);j.useEffect(()=>{const O=En.currentUser;if(!O)return;const $=gu(fa(Wt,"orders_v2"),yu("restaurantId","==",O.uid)),F=ef($,X=>{const re=X.docs.map(ae=>({id:ae.id,...ae.data(),createdAt:ae.data().createdAt?.toDate()||new Date,acceptedAt:ae.data().acceptedAt?.toDate(),deliveredAt:ae.data().deliveredAt?.toDate(),reachedAt:ae.data().reachedAt?.toDate()}));re.sort((ae,ge)=>ge.createdAt-ae.createdAt),e(re),u(!1)});return()=>F()},[]),j.useEffect(()=>{let O=[...i];const $=new Date;if(h!=="all"&&(O=O.filter(F=>F.status===h)),g==="today"){const F=new Date($.getFullYear(),$.getMonth(),$.getDate());O=O.filter(X=>X.createdAt>=F)}else if(g==="yesterday"){const F=new Date($.getFullYear(),$.getMonth(),$.getDate()-1),X=new Date($.getFullYear(),$.getMonth(),$.getDate());O=O.filter(re=>re.createdAt>=F&&re.createdAt<X)}else if(g==="week"){const F=new Date($.getFullYear(),$.getMonth(),$.getDate()-7);O=O.filter(X=>X.createdAt>=F)}else if(g==="month"){const F=new Date($.getFullYear(),$.getMonth()-1,$.getDate());O=O.filter(X=>X.createdAt>=F)}s(O)},[i,h,g]);const w=async(O,$,F)=>{try{const X=Hi(Wt,"orders_v2",O);if($==="accepted"&&F.items){const re=uO(Wt);for(const ae of F.items)if(ae.productId){const ge=Hi(Wt,"products",ae.productId),I=await Vu(ge);if(I.exists()){const R=I.data().mealsCount||0,C=ae.quantity||1;R>=C&&re.update(ge,{mealsCount:R-C})}}await re.commit()}await rA(X,{status:$,[`${$}At`]:new Date}),alert(`Order marked as ${$} successfully!`)}catch(X){console.error("Error updating order:",X),alert("Failed to update order status.")}},D=O=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(parseFloat(O)||0),K=O=>({placed:{class:"badge-pending",label:"Pending"},pending:{class:"badge-pending",label:"Pending"},accepted:{class:"badge-accepted",label:"Accepted"},preparing:{class:"badge-info",label:"Preparing"},delivered:{class:"badge-delivered",label:"Delivered"},reached:{class:"badge-reached",label:"Completed"},refused:{class:"badge-refused",label:"Refused"}})[O]||{class:"badge-pending",label:O},G=O=>{const $=window.open("","_blank"),F=O.items?.map(re=>`
      <tr>
        <td>${re.quantity||1}x ${re.name}</td>
        <td style="text-align: right">${D(re.priceAfter||re.price)}</td>
      </tr>
    `).join("")||"",X=parseFloat(O.priceafter)||parseFloat(O.total)||0;$.document.write(`
      <html>
        <head>
          <title>Order #${O.id.substring(0,8)}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; max-width: 400px; margin: 0 auto; }
            h1 { font-size: 18px; text-align: center; margin-bottom: 20px; }
            table { width: 100%; border-collapse: collapse; }
            td { padding: 8px 4px; border-bottom: 1px solid #eee; }
            .total { font-weight: bold; font-size: 16px; border-top: 2px solid #000; }
            .info { margin-bottom: 20px; font-size: 14px; }
            .info p { margin: 4px 0; }
          </style>
        </head>
        <body>
          <h1>Order #${O.id.substring(0,8)}</h1>
          <div class="info">
            <p><strong>Customer:</strong> ${O.name||"N/A"}</p>
            <p><strong>Phone:</strong> ${O.phone||"N/A"}</p>
            <p><strong>Address:</strong> ${O.address||"N/A"}</p>
            <p><strong>Time:</strong> ${O.createdAt.toLocaleString()}</p>
          </div>
          <table>
            ${F}
            <tr class="total">
              <td>TOTAL</td>
              <td style="text-align: right">${D(X)}</td>
            </tr>
          </table>
        </body>
      </html>
    `),$.document.close(),$.print()};return o?E.jsx("div",{className:"loading-container",children:E.jsx("div",{className:"loading-spinner"})}):E.jsxs("div",{className:"orders-page",children:[E.jsxs("div",{className:"page-header",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"page-title",children:[E.jsx(Eo,{}),"Orders"]}),E.jsx("p",{className:"page-subtitle",children:"Manage incoming orders"})]}),E.jsxs("button",{className:"btn btn-secondary",onClick:()=>u(!0),children:[E.jsx(XM,{})," Refresh"]})]}),E.jsxs("div",{className:"filters-bar",children:[E.jsxs("div",{className:"filter-group",children:[E.jsx(FM,{}),E.jsxs("select",{value:h,onChange:O=>m(O.target.value),children:[E.jsx("option",{value:"all",children:"All Status"}),E.jsx("option",{value:"placed",children:"Pending"}),E.jsx("option",{value:"accepted",children:"Accepted"}),E.jsx("option",{value:"delivered",children:"Delivered"}),E.jsx("option",{value:"reached",children:"Completed"}),E.jsx("option",{value:"refused",children:"Refused"})]})]}),E.jsxs("div",{className:"filter-group",children:[E.jsx(xA,{}),E.jsxs("select",{value:g,onChange:O=>p(O.target.value),children:[E.jsx("option",{value:"all",children:"All Time"}),E.jsx("option",{value:"today",children:"Today"}),E.jsx("option",{value:"yesterday",children:"Yesterday"}),E.jsx("option",{value:"week",children:"Last 7 Days"}),E.jsx("option",{value:"month",children:"Last Month"})]})]}),E.jsxs("div",{className:"filter-count",children:["Showing ",n.length," of ",i.length," orders"]})]}),n.length===0?E.jsxs("div",{className:"empty-state card",children:[E.jsx(Eo,{style:{fontSize:48,color:"#CBD5E1"}}),E.jsx("p",{children:"No orders found"})]}):E.jsx("div",{className:"orders-grid",children:n.map(O=>{const $=K(O.status),F=parseFloat(O.priceafter)||parseFloat(O.total)||0;return E.jsxs("div",{className:"order-card card",children:[E.jsxs("div",{className:"order-header",children:[E.jsxs("div",{children:[E.jsxs("span",{className:"order-id",children:["#",O.id.substring(0,8)]}),E.jsx("span",{className:`badge ${$.class}`,children:$.label})]}),E.jsx("span",{className:"order-time",children:O.createdAt.toLocaleString()})]}),E.jsxs("div",{className:"order-customer",children:[E.jsxs("div",{className:"customer-info",children:[E.jsx(OA,{})," ",O.name||"Customer"]}),E.jsxs("div",{className:"customer-info",children:[E.jsx(NA,{})," ",O.phone||"N/A"]}),E.jsxs("div",{className:"customer-info",children:[E.jsx(HM,{})," ",O.address?.substring(0,40),"..."]})]}),E.jsxs("div",{className:"order-items",children:[E.jsxs("p",{className:"items-label",children:[O.items?.length||0," items"]}),O.items?.slice(0,3).map((X,re)=>E.jsxs("div",{className:"item-row",children:[E.jsxs("span",{children:[X.quantity||1,"x ",X.name]}),E.jsx("span",{children:D(X.priceAfter||X.price)})]},re)),O.items?.length>3&&E.jsxs("p",{className:"more-items",children:["+",O.items.length-3," more items"]})]}),E.jsxs("div",{className:"order-total",children:[E.jsx("span",{children:"Total"}),E.jsx("span",{className:"total-amount",children:D(F)})]}),E.jsxs("div",{className:"order-actions",children:[(O.status==="placed"||O.status==="pending")&&E.jsxs(E.Fragment,{children:[E.jsxs("button",{className:"btn btn-primary",onClick:()=>w(O.id,"accepted",O),children:[E.jsx(lT,{})," Accept"]}),E.jsxs("button",{className:"btn btn-danger",onClick:()=>w(O.id,"refused",O),children:[E.jsx(uT,{})," Refuse"]})]}),(O.status==="accepted"||O.status==="preparing")&&E.jsxs("button",{className:"btn btn-primary",onClick:()=>w(O.id,"delivered",O),children:[E.jsx(KM,{})," Mark Delivered"]}),O.status==="delivered"&&E.jsxs("button",{className:"btn btn-primary",onClick:()=>w(O.id,"reached",O),children:[E.jsx(lT,{})," Confirm Received"]}),E.jsxs("button",{className:"btn btn-secondary",onClick:()=>b(O),children:[E.jsx(BM,{})," View"]}),E.jsxs("button",{className:"btn btn-secondary",onClick:()=>G(O),children:[E.jsx(UM,{})," Print"]})]})]},O.id)})}),T&&E.jsx("div",{className:"modal-overlay",onClick:()=>b(null),children:E.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[E.jsxs("div",{className:"modal-header",children:[E.jsxs("h2",{children:["Order #",T.id.substring(0,8)]}),E.jsx("button",{className:"close-btn",onClick:()=>b(null),children:E.jsx(uT,{})})]}),E.jsxs("div",{className:"modal-body",children:[E.jsxs("div",{className:"detail-section",children:[E.jsx("h3",{children:"Customer Information"}),E.jsxs("p",{children:[E.jsx("strong",{children:"Name:"})," ",T.name||"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Phone:"})," ",T.phone||"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Email:"})," ",T.email||"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Address:"})," ",T.address||"N/A"]})]}),E.jsxs("div",{className:"detail-section",children:[E.jsx("h3",{children:"Order Items"}),T.items?.map((O,$)=>E.jsxs("div",{className:"detail-item",children:[E.jsxs("span",{children:[O.quantity||1,"x ",O.name]}),E.jsx("span",{children:D(O.priceAfter||O.price)})]},$)),E.jsxs("div",{className:"detail-item total",children:[E.jsx("strong",{children:"Total"}),E.jsx("strong",{children:D(parseFloat(T.priceafter)||parseFloat(T.total)||0)})]})]}),E.jsxs("div",{className:"detail-section",children:[E.jsx("h3",{children:"Timeline"}),E.jsxs("p",{children:[E.jsx("strong",{children:"Placed:"})," ",T.createdAt.toLocaleString()]}),T.acceptedAt&&E.jsxs("p",{children:[E.jsx("strong",{children:"Accepted:"})," ",T.acceptedAt.toLocaleString()]}),T.deliveredAt&&E.jsxs("p",{children:[E.jsx("strong",{children:"Delivered:"})," ",T.deliveredAt.toLocaleString()]}),T.reachedAt&&E.jsxs("p",{children:[E.jsx("strong",{children:"Completed:"})," ",T.reachedAt.toLocaleString()]})]})]})]})})]})}function t3(){const[i,e]=j.useState([]),[n,s]=j.useState([]),[o,u]=j.useState(!0),[h,m]=j.useState(""),g=vu();j.useEffect(()=>{const b=En.currentUser;if(!b)return;const w=gu(fa(Wt,"products"),yu("idrestaurant","==",b.uid)),D=ef(w,K=>{const G=K.docs.map(O=>({id:O.id,...O.data()}));e(G),u(!1)});return()=>D()},[]),j.useEffect(()=>{h.trim()===""?s(i):s(i.filter(b=>b.name?.toLowerCase().includes(h.toLowerCase())||b.description?.toLowerCase().includes(h.toLowerCase())))},[i,h]);const p=async(b,w)=>{if(window.confirm(`Are you sure you want to delete "${w}"?`))try{await lO(Hi(Wt,"products",b)),alert("Product deleted successfully!")}catch(D){console.error("Delete error:",D),alert("Failed to delete product.")}},T=b=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(parseFloat(b)||0);return o?E.jsx("div",{className:"loading-container",children:E.jsx("div",{className:"loading-spinner"})}):E.jsxs("div",{className:"products-page",children:[E.jsxs("div",{className:"page-header",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"page-title",children:[E.jsx(Ug,{}),"Products"]}),E.jsx("p",{className:"page-subtitle",children:"Manage your menu items"})]}),E.jsxs("button",{className:"btn btn-primary",onClick:()=>g("/products/add"),children:[E.jsx(rf,{})," Add Product"]})]}),E.jsxs("div",{className:"search-bar",children:[E.jsx(jM,{className:"search-icon"}),E.jsx("input",{type:"text",placeholder:"Search products...",value:h,onChange:b=>m(b.target.value)})]}),n.length===0?E.jsxs("div",{className:"empty-state card",children:[E.jsx(oT,{style:{fontSize:48,color:"#CBD5E1"}}),E.jsx("p",{children:h?"No products found":"No products yet"}),!h&&E.jsxs("button",{className:"btn btn-primary",onClick:()=>g("/products/add"),children:[E.jsx(rf,{})," Add Your First Product"]})]}):E.jsx("div",{className:"products-grid",children:n.map(b=>E.jsxs("div",{className:"product-card card",children:[E.jsxs("div",{className:"product-image",children:[b.imageUrl?E.jsx("img",{src:b.imageUrl,alt:b.name}):E.jsx("div",{className:"no-image",children:E.jsx(oT,{})}),b.mealsCount!==void 0&&E.jsxs("span",{className:`stock-badge ${b.mealsCount<=5?"low":""}`,children:[b.mealsCount," left"]})]}),E.jsxs("div",{className:"product-content",children:[E.jsx("h3",{className:"product-name",children:b.name}),E.jsxs("p",{className:"product-description",children:[b.description?.substring(0,80),"..."]}),E.jsxs("div",{className:"product-pricing",children:[b.price?.before&&b.price.before!==b.price.after&&E.jsx("span",{className:"price-before",children:T(b.price.before)}),E.jsx("span",{className:"price-after",children:T(b.price?.after||0)}),b.discount&&E.jsxs("span",{className:"discount-badge",children:["-",b.discount,"%"]})]}),E.jsxs("div",{className:"product-meta",children:[E.jsx("span",{className:"category",children:b.category||"Uncategorized"}),E.jsx("span",{className:"order-day",children:b.orderDay==="today"?"Today":"Tomorrow"})]})]}),E.jsxs("div",{className:"product-actions",children:[E.jsxs("button",{className:"btn btn-secondary",onClick:()=>g(`/products/edit/${b.id}`),children:[E.jsx(jg,{})," Edit"]}),E.jsxs("button",{className:"btn btn-danger",onClick:()=>p(b.id,b.name),children:[E.jsx(LM,{})," Delete"]})]})]},b.id))})]})}function cT(){const{id:i}=iR(),e=vu(),n=!!i,[s,o]=j.useState(!1),[u,h]=j.useState(!1),[m,g]=j.useState([]),[p,T]=j.useState(null),[b,w]=j.useState(null),[D,K]=j.useState({name:"",description:"",category:"",priceBefore:"",priceAfter:"",discount:"",mealsCount:"",orderDay:"today",imageUrl:""});j.useEffect(()=>{(async()=>{const X=await nA(fa(Wt,"categories"));g(X.docs.map(re=>({id:re.id,...re.data()})))})(),n&&(o(!0),(async()=>{const re=await Vu(Hi(Wt,"products",i));if(re.exists()){const ae=re.data();K({name:ae.name||"",description:ae.description||"",category:ae.category||"",priceBefore:ae.price?.before?.toString()||"",priceAfter:ae.price?.after?.toString()||"",discount:ae.discount?.toString()||"",mealsCount:ae.mealsCount?.toString()||"",orderDay:ae.orderDay||"today",imageUrl:ae.imageUrl||""}),ae.imageUrl&&T(ae.imageUrl)}o(!1)})())},[i,n]),j.useEffect(()=>{if(D.priceBefore&&D.discount){const F=parseFloat(D.priceBefore),X=parseFloat(D.discount),re=F-F*X/100;K(ae=>({...ae,priceAfter:re.toFixed(2)}))}},[D.priceBefore,D.discount]);const G=F=>{const X=F.target.files[0];X&&(w(X),T(URL.createObjectURL(X)))},O=async()=>{if(!b)return D.imageUrl;const F=`product_${Date.now()}_${D.name.replace(/\s+/g,"_")}.jpg`,X=TM(CM,`product_images/${F}`);await vM(X,b,{contentType:"image/jpeg"});let re=await EM(X);return re.includes("firebasestorage.googleapis.com")&&(re+="?alt=media"),re},$=async F=>{if(F.preventDefault(),!D.name||!D.priceAfter){alert("Please fill in required fields (Name and Price).");return}h(!0);const X=En.currentUser;try{const re=await O(),ae={name:D.name,description:D.description,category:D.category,price:{before:parseFloat(D.priceBefore)||parseFloat(D.priceAfter),after:parseFloat(D.priceAfter)},discount:parseInt(D.discount)||0,mealsCount:parseInt(D.mealsCount)||0,orderDay:D.orderDay,imageUrl:re,idrestaurant:X.uid,updatedAt:new Date};if(n)await rA(Hi(Wt,"products",i),ae),alert("Product updated successfully!");else{ae.createdAt=new Date;const ge=Hi(fa(Wt,"products"));await iA(ge,ae),alert("Product added successfully!")}e("/products")}catch(re){console.error("Save error:",re),alert("Failed to save product. Please try again.")}finally{h(!1)}};return s?E.jsx("div",{className:"loading-container",children:E.jsx("div",{className:"loading-spinner"})}):E.jsxs("div",{className:"add-product-page",children:[E.jsx("div",{className:"page-header",children:E.jsxs("div",{children:[E.jsxs("button",{className:"back-btn",onClick:()=>e("/products"),children:[E.jsx(QM,{})," Back to Products"]}),E.jsxs("h1",{className:"page-title",children:[n?E.jsx(jg,{}):E.jsx(rf,{}),n?"Edit Product":"Add New Product"]})]})}),E.jsx("form",{className:"product-form card",onSubmit:$,children:E.jsxs("div",{className:"form-grid",children:[E.jsx("div",{className:"form-left",children:E.jsxs("div",{className:"image-upload",children:[E.jsx("div",{className:"image-preview",onClick:()=>document.getElementById("imageInput").click(),children:p?E.jsx("img",{src:p,alt:"Preview"}):E.jsxs("div",{className:"upload-placeholder",children:[E.jsx(GM,{}),E.jsx("span",{children:"Click to upload image"})]})}),E.jsx("input",{type:"file",id:"imageInput",accept:"image/*",onChange:G,style:{display:"none"}})]})}),E.jsxs("div",{className:"form-right",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Product Name *"}),E.jsx("input",{type:"text",className:"form-input",placeholder:"Enter product name",value:D.name,onChange:F=>K({...D,name:F.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Description"}),E.jsx("textarea",{className:"form-input",placeholder:"Enter product description",rows:"3",value:D.description,onChange:F=>K({...D,description:F.target.value})})]}),E.jsxs("div",{className:"form-row",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Category"}),E.jsxs("select",{className:"form-input",value:D.category,onChange:F=>K({...D,category:F.target.value}),children:[E.jsx("option",{value:"",children:"Select Category"}),m.map(F=>E.jsx("option",{value:F.name,children:F.name},F.id))]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Available Day"}),E.jsxs("select",{className:"form-input",value:D.orderDay,onChange:F=>K({...D,orderDay:F.target.value}),children:[E.jsx("option",{value:"today",children:"Today"}),E.jsx("option",{value:"tomorrow",children:"Tomorrow"})]})]})]}),E.jsxs("div",{className:"form-row",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Original Price"}),E.jsx("input",{type:"number",className:"form-input",placeholder:"0.00",step:"0.01",value:D.priceBefore,onChange:F=>K({...D,priceBefore:F.target.value})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Discount (%)"}),E.jsx("input",{type:"number",className:"form-input",placeholder:"0",min:"0",max:"100",value:D.discount,onChange:F=>K({...D,discount:F.target.value})})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Final Price *"}),E.jsx("input",{type:"number",className:"form-input",placeholder:"0.00",step:"0.01",value:D.priceAfter,onChange:F=>K({...D,priceAfter:F.target.value}),required:!0})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Meals Count"}),E.jsx("input",{type:"number",className:"form-input",placeholder:"Number of available meals",min:"0",value:D.mealsCount,onChange:F=>K({...D,mealsCount:F.target.value})})]}),E.jsxs("div",{className:"form-actions",children:[E.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>e("/products"),children:"Cancel"}),E.jsx("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Saving...":n?"Update Product":"Add Product"})]})]})]})})]})}function n3(){const[i,e]=j.useState(!0),[n,s]=j.useState(!1),[o,u]=j.useState(!1),[h,m]=j.useState({bankName:"",accountHolder:"",iban:"",swiftCode:"",accountNumber:""});j.useEffect(()=>{(async()=>{const T=En.currentUser;if(T)try{const b=Hi(Wt,"bankDetails",T.uid),w=await Vu(b);w.exists()&&m(w.data())}catch(b){console.error("Error fetching bank details:",b)}finally{e(!1)}})()},[]);const g=async()=>{const p=En.currentUser;if(p){if(!h.bankName||!h.iban){alert("Please fill in required fields (Bank Name and IBAN).");return}s(!0);try{const T=Hi(Wt,"bankDetails",p.uid);await iA(T,{...h,restaurantId:p.uid,updatedAt:new Date},{merge:!0}),alert("Bank details saved successfully!"),u(!1)}catch(T){console.error("Error saving bank details:",T),alert("Failed to save bank details.")}finally{s(!1)}}};return i?E.jsx("div",{className:"loading-container",children:E.jsx("div",{className:"loading-spinner"})}):E.jsxs("div",{className:"bank-details-page",children:[E.jsxs("div",{className:"page-header",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"page-title",children:[E.jsx(wA,{}),"Bank Details"]}),E.jsx("p",{className:"page-subtitle",children:"Manage your payout information"})]}),!o&&E.jsxs("button",{className:"btn btn-primary",onClick:()=>u(!0),children:[E.jsx(jg,{})," Edit Details"]})]}),E.jsxs("div",{className:"bank-form card",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Bank Name *"}),E.jsx("input",{type:"text",className:"form-input",placeholder:"Enter bank name",value:h.bankName,onChange:p=>m({...h,bankName:p.target.value}),disabled:!o})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Account Holder Name"}),E.jsx("input",{type:"text",className:"form-input",placeholder:"Name on the account",value:h.accountHolder,onChange:p=>m({...h,accountHolder:p.target.value}),disabled:!o})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"IBAN *"}),E.jsx("input",{type:"text",className:"form-input",placeholder:"TR00 0000 0000 0000 0000 0000 00",value:h.iban,onChange:p=>m({...h,iban:p.target.value.toUpperCase()}),disabled:!o})]}),E.jsxs("div",{className:"form-row",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"SWIFT/BIC Code"}),E.jsx("input",{type:"text",className:"form-input",placeholder:"XXXXTRXX",value:h.swiftCode,onChange:p=>m({...h,swiftCode:p.target.value.toUpperCase()}),disabled:!o})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Account Number"}),E.jsx("input",{type:"text",className:"form-input",placeholder:"Account number (optional)",value:h.accountNumber,onChange:p=>m({...h,accountNumber:p.target.value}),disabled:!o})]})]}),o&&E.jsxs("div",{className:"form-actions",children:[E.jsx("button",{className:"btn btn-secondary",onClick:()=>u(!1),children:"Cancel"}),E.jsxs("button",{className:"btn btn-primary",onClick:g,disabled:n,children:[E.jsx(qM,{})," ",n?"Saving...":"Save Changes"]})]}),!o&&!h.iban&&E.jsx("div",{className:"empty-notice",children:E.jsx("p",{children:'No bank details configured yet. Click "Edit Details" to add your payout information.'})})]})]})}function i3(){const[i,e]=j.useState([]),[n,s]=j.useState(!0),[o,u]=j.useState({totalPaid:0,pending:0,count:0});j.useEffect(()=>{(async()=>{const p=En.currentUser;if(p)try{const T=gu(fa(Wt,"payouts"),yu("restaurantId","==",p.uid)),w=(await nA(T)).docs.map(G=>({id:G.id,...G.data(),date:G.data().date?.toDate()||new Date}));w.sort((G,O)=>O.date-G.date),e(w);const D=w.filter(G=>G.status==="completed").reduce((G,O)=>G+(parseFloat(O.amount)||0),0),K=w.filter(G=>G.status==="pending").reduce((G,O)=>G+(parseFloat(O.amount)||0),0);u({totalPaid:D,pending:K,count:w.length})}catch(T){console.error("Error fetching payouts:",T)}finally{s(!1)}})()},[]);const h=g=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(parseFloat(g)||0),m=g=>{switch(g){case"completed":return E.jsx(PM,{style:{color:"#10B981"}});case"pending":return E.jsx(tp,{style:{color:"#F59E0B"}});case"failed":return E.jsx($M,{style:{color:"#EF4444"}});default:return E.jsx(tp,{style:{color:"#94A3B8"}})}};return n?E.jsx("div",{className:"loading-container",children:E.jsx("div",{className:"loading-spinner"})}):E.jsxs("div",{className:"payout-history-page",children:[E.jsx("div",{className:"page-header",children:E.jsxs("div",{children:[E.jsxs("h1",{className:"page-title",children:[E.jsx(Dh,{}),"Payout History"]}),E.jsx("p",{className:"page-subtitle",children:"View your payment history"})]})}),E.jsxs("div",{className:"stats-row",children:[E.jsxs("div",{className:"stat-card card",children:[E.jsx("div",{className:"stat-icon",style:{background:"#D1FAE5"},children:E.jsx(DA,{style:{color:"#059669"}})}),E.jsxs("div",{children:[E.jsx("p",{className:"stat-label",children:"Total Paid"}),E.jsx("h3",{className:"stat-value",children:h(o.totalPaid)})]})]}),E.jsxs("div",{className:"stat-card card",children:[E.jsx("div",{className:"stat-icon",style:{background:"#FEF3C7"},children:E.jsx(tp,{style:{color:"#D97706"}})}),E.jsxs("div",{children:[E.jsx("p",{className:"stat-label",children:"Pending"}),E.jsx("h3",{className:"stat-value",children:h(o.pending)})]})]}),E.jsxs("div",{className:"stat-card card",children:[E.jsx("div",{className:"stat-icon",style:{background:"#E0E7FF"},children:E.jsx(Dh,{style:{color:"#4F46E5"}})}),E.jsxs("div",{children:[E.jsx("p",{className:"stat-label",children:"Total Payouts"}),E.jsx("h3",{className:"stat-value",children:o.count})]})]})]}),E.jsx("div",{className:"payouts-table card",children:i.length===0?E.jsxs("div",{className:"empty-state",children:[E.jsx(Dh,{style:{fontSize:48,color:"#CBD5E1"}}),E.jsx("p",{children:"No payout history yet"}),E.jsx("span",{children:"Your payout records will appear here"})]}):E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Date"}),E.jsx("th",{children:"Reference"}),E.jsx("th",{children:"Period"}),E.jsx("th",{children:"Amount"}),E.jsx("th",{children:"Status"})]})}),E.jsx("tbody",{children:i.map(g=>E.jsxs("tr",{children:[E.jsx("td",{children:g.date.toLocaleDateString()}),E.jsxs("td",{children:["#",g.id.substring(0,8)]}),E.jsx("td",{children:g.period||"N/A"}),E.jsx("td",{className:"amount",children:h(g.amount)}),E.jsx("td",{children:E.jsxs("span",{className:`status-badge ${g.status}`,children:[m(g.status),g.status]})})]},g.id))})]})})]})}function r3({userData:i}){const[e,n]=j.useState(!1),s=async()=>{if(window.confirm("Are you sure you want to log out?")){n(!0);try{await d1(En)}catch(o){console.error("Logout error:",o),alert("Failed to log out. Please try again."),n(!1)}}};return E.jsxs("div",{className:"settings-page",children:[E.jsx("div",{className:"page-header",children:E.jsxs("div",{children:[E.jsxs("h1",{className:"page-title",children:[E.jsx(CA,{}),"Settings"]}),E.jsx("p",{className:"page-subtitle",children:"Manage your account"})]})}),E.jsxs("div",{className:"settings-section card",children:[E.jsxs("h2",{className:"section-title",children:[E.jsx(OA,{}),"Restaurant Profile"]}),E.jsxs("div",{className:"profile-info",children:[E.jsx("div",{className:"profile-avatar",children:i?.profileImage?E.jsx("img",{src:i.profileImage,alt:i.name}):E.jsx(aT,{})}),E.jsxs("div",{className:"profile-details",children:[E.jsxs("div",{className:"detail-item",children:[E.jsx(aT,{className:"detail-icon"}),E.jsxs("div",{children:[E.jsx("span",{className:"detail-label",children:"Restaurant Name"}),E.jsx("span",{className:"detail-value",children:i?.name||"Not set"})]})]}),E.jsxs("div",{className:"detail-item",children:[E.jsx(IA,{className:"detail-icon"}),E.jsxs("div",{children:[E.jsx("span",{className:"detail-label",children:"Email"}),E.jsx("span",{className:"detail-value",children:i?.email||En.currentUser?.email||"Not set"})]})]}),E.jsxs("div",{className:"detail-item",children:[E.jsx(NA,{className:"detail-icon"}),E.jsxs("div",{children:[E.jsx("span",{className:"detail-label",children:"Phone"}),E.jsx("span",{className:"detail-value",children:i?.phone||"Not set"})]})]})]})]}),E.jsx("p",{className:"edit-notice",children:"To edit your profile, please use the mobile app."})]}),E.jsxs("div",{className:"settings-section card danger",children:[E.jsxs("h2",{className:"section-title",children:[E.jsx(xp,{}),"Session"]}),E.jsx("p",{className:"section-description",children:"Sign out of your restaurant account on this device."}),E.jsxs("button",{className:"btn btn-danger",onClick:s,disabled:e,children:[E.jsx(xp,{})," ",e?"Logging out...":"Log Out"]})]})]})}function s3(){const[i,e]=j.useState(null),[n,s]=j.useState(null),[o,u]=j.useState(!0),[h,m]=j.useState("dashboard");return j.useEffect(()=>{const g=MI(En,async p=>{if(p)try{const T=await Vu(Hi(Wt,"users",p.uid));if(T.exists()){const b=T.data();b.type==="restaurant"?(e(p),s(b)):(e(null),s(null))}}catch(T){console.error("Error fetching user data:",T)}else e(null),s(null);u(!1)});return()=>g()},[]),o?E.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"var(--bg-light)"},children:E.jsx("div",{className:"loading-spinner"})}):i?E.jsx(FR,{basename:"/restaurants",children:E.jsxs("div",{className:"app-container",children:[E.jsx(WM,{activePage:h,setActivePage:m,userData:n}),E.jsx("main",{className:"main-content",children:E.jsxs(vR,{children:[E.jsx(Vi,{path:"/",element:E.jsx(ZM,{userData:n})}),E.jsx(Vi,{path:"/orders",element:E.jsx(e3,{})}),E.jsx(Vi,{path:"/products",element:E.jsx(t3,{})}),E.jsx(Vi,{path:"/products/add",element:E.jsx(cT,{})}),E.jsx(Vi,{path:"/products/edit/:id",element:E.jsx(cT,{})}),E.jsx(Vi,{path:"/bank-details",element:E.jsx(n3,{})}),E.jsx(Vi,{path:"/payout-history",element:E.jsx(i3,{})}),E.jsx(Vi,{path:"/settings",element:E.jsx(r3,{userData:n})}),E.jsx(Vi,{path:"*",element:E.jsx(yR,{to:"/",replace:!0})})]})})]})}):E.jsx(JM,{})}Ew.createRoot(document.getElementById("root")).render(E.jsx(j.StrictMode,{children:E.jsx(s3,{})}));
